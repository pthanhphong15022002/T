<codx-card-img (dblclick)="dmSV.openItem(data)" cardCss="border w-200px h-100" [imageSrc]="dmSV.getImage(data)"
  imgCss="card-img-center h-100px" [rootData]="data" [typeMF]="'hover'" [bookmark]="dmSV.showBookmark(data)"
  [formModel]="formModel" (clickMF)="dmSV.clickMF($event, data)"
  [content]="data.folderName != undefined ? data.folderName : data.fileName" [typeMF]="'hover'" [footer]="cardImgFooter"
  (changeDataMF)="dmSV.filterMoreFunction($event, data)">
</codx-card-img>
<ng-template #cardImgFooter let-data let-setting="setting">
  <div [title]="data.folderName != undefined ? data.folderName : data.fileName" class="d-flex align-items-start w-100">
    <div *ngIf="(data.folderName != undefined) then folder else file"></div>
    <ng-template #folder>
      <div *ngIf="(data.icon != null && data.icon != '') then showicon2 else noshowicon2"></div>
      <ng-template #showicon2>
        <div *ngIf="(dmSV.checkIconFolder(data)) then showsvg2 else noshowsvg2">
        </div>
        <ng-template #showsvg2>
          <img alt="" class="mh-15px me-2" src="{{dmSV.getSvg(data.icon)}}">
        </ng-template>
        <ng-template #noshowsvg2>
          <span [className]="dmSV.getFolderClass(data.icon)"></span>
        </ng-template>
      </ng-template>
      <ng-template #noshowicon2>
        <img alt="" class="mh-15px me-2" src="../../../assets/codx/dms/folder.svg">
      </ng-template>

      <div class="d-flex flex-column w-100 dms-footer-r">
        <div class="text-dark-75 fw-bold file-name text-box-140">{{data.folderName}}
        </div>
        <div class="d-flex justify-content-between" style="height: 18px">
          <div *ngIf="(!data.isSystem) then createBy2 else nocreateBy2">
          </div>
          <ng-template #createBy2>
            <span class="text-dark-50">{{data.userName}}</span>
          </ng-template>
          <ng-template #nocreateBy2>
            <span class="text-dark-50"></span>
          </ng-template>
          <span *ngIf="dmSV.checkView(data.read) == false" class="icon-security text-primary icon-18"></span>
        </div>
      </div>
    </ng-template>
    <ng-template #file>
      <div title="{{data.fileName}}" class="dms-card-footer d-flex">
        <div class="d-flex flex-column w-100">
          <div class="d-flex align-items-center">
            <img alt="" class="mh-15px me-2" src="{{dmSV.getThumbnail('', data.extension)}}">
            <div class="text-gray-600 fw-bold file-name text-box-140">{{data.fileName}}</div>
          </div>
          <div class="d-flex align-items-center mt-2">
            <div class="d-flex w-100 text-gray-600">
              <div class="d-flex me-3">
                <span class="me-1 fw-bold">{{dmSV.getRating(data.views)}}</span>
                <span class="icon-star text-warning icon-16"></span>
              </div>
              <div class="d-flex me-3">
                <span class="me-1 fw-bold">{{dmSV.getViews(data.history)}}</span>
                <span class="icon-remove_red_eye icon-16"></span>
              </div>
              <div class="d-flex me-3">
                <span class="me-1 fw-bold">{{dmSV.showDownloadCount(data.countDownload)}}</span>
                <span class="icon-download icon-16"></span>
              </div>
            </div>
            <span *ngIf="dmSV.checkView(data.read) == false" class="icon-security text-primary icon-18"></span>
          </div>
        </div>
      </div>
    </ng-template>
  </div>
</ng-template>