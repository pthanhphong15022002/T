<codx-card-img class="float-start" cardCss="border w-175px m-5 h-100" 
    imageSrc="../../../assets/codx/dms/folder.svg" imgCss="card-img-center h-100px" [rootData]="data"
    [typeMF]="'hover'" [bookmark]="showBookmark(data)" [formModel]="formModel"
    (clickMF)="dmSV.clickMF($event, data)" [content]="data.folderName"
    [footer]="cardImgFooterFolder" (changeDataMF)="dmSV.filterMoreFunction($event, data)">
</codx-card-img>

<!-- <codx-card-img class="float-start" cardCss="card-item border m-5 h-100 float-start"
[imageSrc]="dmSV.getThumbnail(file.thumbnail, file.extension)" imgCss="card-img-center h-100px"
[rootData]="file" [typeMF]="'hover'" [footer]="cardImgFooterFile" [bookmark]="showBookmark(file)"
[formModel]="formModel" (clickMF)="dmSV.clickMF($event, file, 'file')"
(changeDataMF)="dmSV.filterMoreFunction($event, 'DM_FileInfo')" [content]="file.fileName">
</codx-card-img> -->


<ng-template #cardImgFooterFolder let-data let-setting="setting">
<div title="{{data.folderName}}" class="d-flex align-items-start">
    <div *ngIf="(data.icon != null && data.icon != '') then showicon2 else noshowicon2">
    </div>
    <ng-template #showicon2>
    <div *ngIf="(checkIconFolder(data)) then showsvg2 else noshowsvg2">
    </div>
    <ng-template #showsvg2>
        <img alt="" class="mh-20px me-2" src="{{getSvg(data.icon)}}">
    </ng-template>
    <ng-template #noshowsvg2>
        <span [className]="getFolderClass(data.icon)"></span>
    </ng-template>
    </ng-template>
    <ng-template #noshowicon2>
    <img alt="" class="mh-20px me-2" src="../../../assets/codx/dms/folder.svg">
    </ng-template>

    <div class="d-flex flex-column flex-grow-1 dms-footer-r">
    <div class="text-dark-75 fw-bold file-name text-box-140">{{data.folderName}}
    </div>
    <div class="d-flex justify-content-between">
        <div *ngIf="(!data.isSystem) then createBy2 else nocreateBy2">
        </div>
        <ng-template #createBy2>
        <span class="text-dark-50 font-size-sm">{{data.userName}}</span>
        </ng-template>
        <ng-template #nocreateBy2>
        <span class="text-dark-50 font-size-sm"></span>
        </ng-template>
        <span *ngIf="checkView(data.read) == false"
        class="icon-security text-primary icon-18"></span>
    </div>
    </div>
</div>
</ng-template>

<!-- <div appDragDropFileUpload (fileDropped)="fileUploadDropped($event)"
  class="d-flex flex-column-fluid home hover-scroll-overlay-y"
  style="overflow: auto !important; height: 82vh; display: block;" data-kt-scroll="true"
  data-kt-scroll-activate="{default: true}" data-kt-scroll-max-height="auto" attr.data-kt-scroll-dependencies=''
  attr.data-kt-scroll-wrappers='dms-viewcard' attr.data-kt-scroll-offset="'0px'">
  <div class="dms dms-viewcard">
    <div class="card-group">
      <div
        *ngIf="(!dmSV.loadedFile && !dmSV.loadedFolder) || ((dmSV.loadedFolder && (listFolders == null || listFolders.length <= 0)) && (this.loadedFile && (listFiles == null || listFiles.length <= 0))); then elseBlockEmpty else thenBlockList">
      </div>
      <ng-template #thenBlockList>
        <ng-container *ngIf="this.dmSV.idMenuActive == 'DMT08'">
          <div class="nondata-container w-100 mb-2">
            <div class="d-flex justify-content-between page-heading align-items-center">
              <div>{{dmSV.titleEmptyTrash30}}</div>
              <button (click)="this.dmSV.emptyTrash()"
                class="btn btn-sm btn-secondary">{{dmSV.titleEmptyAction}}</button>
            </div>
          </div>
        </ng-container>

        <div
          *ngIf="this.dmSV.sortDirecttion.getValue() != '1' || this.dmSV.sortDirecttion.getValue() === null; then thenBlockAsc else elseBlockDesc">
        </div>
        <ng-template #thenBlockAsc>
          <ng-container *ngFor="let folder of listFolders; index as i; trackBy:identifyFolder">
            <div class="cursor-pointer"
              (dblclick)="onDbclick(folder, folder.permissions, folder.recID, folder.level, folder.parentId, folder.folderName)">
              <ng-container [ngSwitch]="this.type">
                <ng-container *ngSwitchCase="'card'">
                  <codx-card-img class="float-start" cardCss="border m-5 loat-start"
                    imageSrc="../../../assets/codx/dms/folder.svg" imgCss="card-img-center h-100px" [rootData]="folder"
                    [typeMF]="'hover'" [bookmark]="showBookmark(folder)" [formModel]="formModel"
                    (clickMF)="dmSV.clickMF($event, folder, 'folder')" [content]="folder.folderName"
                    [footer]="cardImgFooterFolder" (changeDataMF)="dmSV.filterMoreFunction($event, 'DM_FolderInfo')">
                  </codx-card-img>
                  <ng-template #cardImgFooterFolder let-data let-setting="setting">
                    <div title="{{folder.folderName}}" class="d-flex align-items-start">
                      <div *ngIf="(folder.icon != null && folder.icon != '') then showicon2 else noshowicon2">
                      </div>
                      <ng-template #showicon2>
                        <div *ngIf="(checkIconFolder(folder)) then showsvg2 else noshowsvg2">
                        </div>
                        <ng-template #showsvg2>
                          <img alt="" class="mh-20px me-2" src="{{getSvg(folder.icon)}}">
                        </ng-template>
                        <ng-template #noshowsvg2>
                          <span [className]="getFolderClass(folder.icon)"></span>
                        </ng-template>
                      </ng-template>
                      <ng-template #noshowicon2>
                        <img alt="" class="mh-20px me-2" src="../../../assets/codx/dms/folder.svg">
                      </ng-template>

                      <div class="d-flex flex-column flex-grow-1 dms-footer-r">
                        <div class="text-dark-75 fw-bold file-name text-box-140">{{folder.folderName}}
                        </div>
                        <div class="d-flex justify-content-between">
                          <div *ngIf="(!folder.isSystem) then createBy2 else nocreateBy2">
                          </div>
                          <ng-template #createBy2>
                            <span class="text-dark-50 font-size-sm">{{folder.userName}}</span>
                          </ng-template>
                          <ng-template #nocreateBy2>
                            <span class="text-dark-50 font-size-sm"></span>
                          </ng-template>
                          <span *ngIf="checkView(folder.read) == false"
                            class="icon-security text-primary icon-18"></span>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </ng-container>
                <ng-container *ngSwitchCase="'smallcard'">
                  <codx-temp-full class="float-start" imageSrc="../../../assets/codx/dms/folder.svg"
                    imgCss="card-item img-folder me-4" (clickMF)="dmSV.clickMF($event, folder, 'folder')"
                    [title]="folder.folderName" (changeDataMF)="dmSV.filterMoreFunction($event, 'DM_FolderInfo')"
                    [formModel]="formModel" [typeMF]="'hover'" [bookmark]="showBookmark(folder)"
                    subTitle="{{folder.createdOn | date : 'dd/MM/yyyy'}} | {{folder.userName}}"
                    cardCss="card-item card-template w-225px px-2 py-3 text-box-140">
                  </codx-temp-full>
                </ng-container>
              </ng-container>
            </div>
          </ng-container>

          <ng-container *ngFor="let file of listFiles; index as i;  trackBy:identifyFile">
            <div class="cursor-pointer" (dblclick)="viewFile(file)">
              <container-element [ngSwitch]="this.type">
                <some-element *ngSwitchCase="'card'">
                  <codx-card-img class="float-start" cardCss="card-item border m-5 h-100 float-start"
                    [imageSrc]="dmSV.getThumbnail(file.thumbnail, file.extension)" imgCss="card-img-center h-100px"
                    [rootData]="file" [typeMF]="'hover'" [footer]="cardImgFooterFile" [bookmark]="showBookmark(file)"
                    [formModel]="formModel" (clickMF)="dmSV.clickMF($event, file, 'file')"
                    (changeDataMF)="dmSV.filterMoreFunction($event, 'DM_FileInfo')" [content]="file.fileName">
                  </codx-card-img>
                  <ng-template #cardImgFooterFile let-data let-setting="setting">
                    <div title="{{file.fileName}}" class="dms-card-footer d-flex">
                      <div class="d-flex flex-column flex-grow-1">
                        <div class="d-flex align-items-center">
                          <img alt="" class="mh-20px me-2" src="{{dmSV.getThumbnail('', file.extension)}}">
                          <div class="text-dark-75 fw-bold file-name text-box-140">{{file.fileName}}</div>
                        </div>
                        <div class="d-flex align-items-center mt-2">
                          <div class="d-flex flex-grow-1 text-dark-75">
                            <div class="d-flex me-3">
                              <span class="me-1 fw-bold">{{getRating(file.views)}}</span>
                              <span class="icon-star text-warning icon-16"></span>
                            </div>
                            <div class="d-flex me-3">
                              <span class="me-1 fw-bold">{{getViews(file.history)}}</span>
                              <span class="icon-remove_red_eye icon-16"></span>
                            </div>
                            <div class="d-flex me-3">
                              <span class="me-1 fw-bold">{{showDownloadCount(file.countDownload)}}</span>
                              <span class="icon-download icon-16"></span>
                            </div>
                          </div>
                          <span *ngIf="checkView(file.read) == false" class="icon-security text-primary icon-18"></span>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </some-element>
                <some-element *ngSwitchCase="'smallcard'">
                  <codx-temp-full [imageSrc]="dmSV.getThumbnail(file.thumbnail, file.extension)"
                    imgCss="card-item img-folder me-4" (clickMF)="dmSV.clickMF($event, file, 'file')"
                    [title]="file.fileName" (changeDataMF)="dmSV.filterMoreFunction($event, 'DM_FileInfo')"
                    [formModel]="formModel" [typeMF]="'hover'" [bookmark]="showBookmark(file)"
                    subTitle="{{file.createdOn | date : 'dd/MM/yyyy'}} | {{file.userName}}"
                    cardCss="card-item card-template w-225px px-2 py-3 text-box-140">
                  </codx-temp-full>
                </some-element>
              </container-element>
            </div>
          </ng-container>
        </ng-template>
        <ng-template #elseBlockDesc>
          <ng-container *ngFor="let file of listFiles; index as i;  trackBy:identifyFile">
            <div class="cursor-pointer" (dblclick)="viewFile(file)">
              <container-element [ngSwitch]="this.type">
                <some-element *ngSwitchCase="'card'">
                  <codx-card-img class="float-start" cardCss="card-item border m-5 h-100 float-start"
                    [imageSrc]="dmSV.getThumbnail(file.thumbnail, file.extension)" imgCss="card-img-center h-100px"
                    [rootData]="file" [typeMF]="'hover'" [footer]="cardImgFooterFile" [bookmark]="showBookmark(file)"
                    [formModel]="formModel" (clickMF)="dmSV.clickMF($event, file, 'file')"
                    (changeDataMF)="dmSV.filterMoreFunction($event, 'DM_FileInfo')" [content]="file.fileName">
                  </codx-card-img>
                  <ng-template #cardImgFooterFile let-data let-setting="setting">
                    <div title="{{file.fileName}}" class="dms-card-footer d-flex">
                      <div class="d-flex flex-column flex-grow-1">
                        <div class="d-flex align-items-center">
                          <img alt="" class="mh-20px me-2" src="{{dmSV.getThumbnail('', file.extension)}}">
                          <div class="text-dark-75 fw-bold file-name text-box-140">{{file.fileName}}</div>
                        </div>
                        <div class="d-flex align-items-center mt-2">
                          <div class="d-flex flex-grow-1 text-dark-75">
                            <div class="d-flex me-3">
                              <span class="me-1 fw-bold">{{getRating(file.views)}}</span>
                              <span class="icon-star text-warning icon-16"></span>
                            </div>
                            <div class="d-flex me-3">
                              <span class="me-1 fw-bold">{{getViews(file.history)}}</span>
                              <span class="icon-remove_red_eye icon-16"></span>
                            </div>
                            <div class="d-flex me-3">
                              <span class="me-1 fw-bold">{{showDownloadCount(file.countDownload)}}</span>
                              <span class="icon-download icon-16"></span>
                            </div>
                          </div>
                          <span *ngIf="checkView(file.read) == false" class="icon-security text-primary icon-18"></span>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </some-element>
                <some-element *ngSwitchCase="'smallcard'">
                  <codx-temp-full [imageSrc]="dmSV.getThumbnail(file.thumbnail, file.extension)"
                    imgCss="card-item img-folder me-4" (clickMF)="dmSV.clickMF($event, file, 'file')"
                    [title]="file.fileName" (changeDataMF)="dmSV.filterMoreFunction($event, 'DM_FileInfo')"
                    [formModel]="formModel" [typeMF]="'hover'" [bookmark]="showBookmark(file)"
                    subTitle="{{file.createdOn | date : 'dd/MM/yyyy'}} | {{file.userName}}"
                    cardCss="card-item card-template w-225px px-2 py-3 text-box-140">
                  </codx-temp-full>
                </some-element>
              </container-element>
            </div>
          </ng-container>
          <ng-container *ngFor="let folder of listFolders; index as i; trackBy:identifyFolder">
            <div class="cursor-pointer"
              (dblclick)="onDbclick(folder, folder.permissions, folder.recID, folder.level, folder.parentId, folder.folderName)">
              <container-element [ngSwitch]="this.type">
                <some-element *ngSwitchCase="'card'">
                  <codx-card-img class="float-start" cardCss="card-item border m-5 h-100 float-start"
                    imageSrc="../../../assets/codx/dms/folder.svg" imgCss="card-img-center h-100px" [rootData]="folder"
                    [typeMF]="'hover'" [bookmark]="showBookmark(folder)" [formModel]="formModel"
                    (clickMF)="dmSV.clickMF($event, folder, 'folder')" [content]="folder.folderName"
                    [footer]="cardImgFooterFolder" (changeDataMF)="dmSV.filterMoreFunction($event, 'DM_FolderInfo')">
                  </codx-card-img>
                  <ng-template #cardImgFooterFolder let-data let-setting="setting">
                    <div title="{{folder.folderName}}" class="d-flex align-items-start">
                      <div *ngIf="(folder.icon != null && folder.icon != '') then showicon2 else noshowicon2">
                      </div>
                      <ng-template #showicon2>
                        <div *ngIf="(checkIconFolder(folder)) then showsvg2 else noshowsvg2">
                        </div>
                        <ng-template #showsvg2>
                          <img alt="" class="mh-20px me-2" src="{{getSvg(folder.icon)}}">
                        </ng-template>
                        <ng-template #noshowsvg2>
                          <span [className]="getFolderClass(folder.icon)"></span>
                        </ng-template>
                      </ng-template>
                      <ng-template #noshowicon2>
                        <img alt="" class="mh-20px me-2" src="../../../assets/codx/dms/folder.svg">
                      </ng-template>

                      <div class="d-flex flex-column flex-grow-1 dms-footer-r">
                        <div class="text-dark-75 fw-bold file-name text-box-140">{{folder.folderName}}
                        </div>
                        <div class="d-flex justify-content-between">
                          <div *ngIf="(!folder.isSystem) then createBy2 else nocreateBy2">
                          </div>
                          <ng-template #createBy2>
                            <span class="text-dark-50 font-size-sm">{{folder.userName}}</span>
                          </ng-template>
                          <ng-template #nocreateBy2>
                            <span class="text-dark-50 font-size-sm"></span>
                          </ng-template>
                          <span *ngIf="checkView(folder.read) == false"
                            class="icon-security text-primary icon-18"></span>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </some-element>
                <some-element *ngSwitchCase="'smallcard'">
                  <codx-temp-full class="float-start" imageSrc="../../../assets/codx/dms/folder.svg"
                    imgCss="card-item img-folder me-4" (clickMF)="dmSV.clickMF($event, folder, 'folder')"
                    [title]="folder.folderName" (changeDataMF)="dmSV.filterMoreFunction($event, 'DM_FolderInfo')"
                    [formModel]="formModel" [typeMF]="'hover'" [bookmark]="showBookmark(folder)"
                    subTitle="{{folder.createdOn | date : 'dd/MM/yyyy'}} | {{folder.userName}}"
                    cardCss="card-item card-template w-225px px-2 py-3 text-box-140">
                  </codx-temp-full>
                </some-element>
              </container-element>
            </div>
          </ng-container>
        </ng-template>
      </ng-template>
      <ng-template #elseBlockEmpty>
        <div
          *ngIf="(this.loadedFolder && (listFolders == null || listFolders.length <= 0)) && (this.loadedFile && (listFiles == null || listFiles.length <= 0)); then thenElseNoData else elseLoading">
        </div>
        <ng-template #thenElseNoData>
          <div class="w-100 align-items-center mt-20">
            <div class="text-center">
              <img class="mh-200px" src="../../../assets/codx/dms/data-empty.png" />
            </div>
            <div class="text-center">
              <h5 class="text-dark mt-6">{{dmSV.titleNodaTa}}</h5>
              <div class="mt-3">{{dmSV.titleNodaTaFolder}}</div>
            </div>
          </div>
        </ng-template>
        <ng-template #elseLoading>
          <div class="w-100 align-items-center mt-20">
            <div class="text-center">
              <img class="mh-200px" src="../../../assets/img/loader.gif" />
            </div>
          </div>
        </ng-template>
      </ng-template>
    </div>
  </div>
</div> -->