<codx-views id="dm" #view [autoLoad]="true" [entityName]="'DM_FolderInfo'" [method]="'GetFoldersAsync'"
  [className]="'FolderBussiness'" [assemblyName]="'DM'" idField="recID" [views]="views"
  (selectedChange)="onSelectionChanged($event)" [button]="button" (buttonClick)="addFile($event)"
  (viewChanged)="changeView($event)" (requestEnded)="requestEnded($event)"></codx-views>

<!-- <codx-temp-full  imageSrc="{{getExtension(item.data.thumbnail, item.data.extension)}}" imgCss="w-20px me-3 cursor-pointer" 
title="{{item?.data.fileName}} ({{formatBytes(item?.data.fileSize)}})"          
[desc]="getSubTitle(item.data.recID)" [descLine]="1">
</codx-temp-full> -->

<ng-template #templateMain let-data>
  <div *ngIf="(dmSV.checkUserForder(data)) then noContext else context">
  </div>
  <ng-template #noContext>
    <div oncontextmenu="return false;" class="d-flex align-items-center px-3 pt-3 pb-2" #item>
      <div [innerHTML]="setFullHtmlNode(data, data.folderName)"></div>
    </div>
  </ng-template>
  <ng-template #context>
    <!-- <codx-temp-full  [imageSrc]="setFullHtmlNode(data, '')" imgCss="w-20px me-3 cursor-pointer" 
    [title]="data.folderName"          
    [descLine]="1">
    </codx-temp-full> -->
    <div class="d-flex align-items-center  px-3 pt-2 pb-1 ">
      <div [innerHTML]="setFullHtmlNode(data, '')">
      </div>
      <codx-temp-full class="float-start" imgCss="me-3 cursor-pointer" (clickMF)="dmSV.clickMF($event, data)"
        (changeDataMF)="dmSV.filterMoreFunction($event, data)" [title]="data.folderName" [formModel]="view.formModel"
        [typeMF]="'hover'">
      </codx-temp-full>
    </div>
  </ng-template>
</ng-template>

<ng-template #templateRight>
  <ng-container *ngTemplateOutlet="currView"></ng-container>
</ng-template>

<ng-template #templateCard>
  <!-- <button class="btn btn-outline-primary btn-pill btn-lg" id="kt_demo_panel_toggle" (click)="openFile()">
    <i class="icon-add"></i>
    <span class="font-size-lg">Open File</span>
  </button>
  <button class="btn btn-outline-primary btn-pill btn-lg" id="kt_demo_panel_toggle" (click)="saveFile()">
    <i class="icon-add"></i>
    <span class="font-size-lg">save Files</span>
  </button> 
  <codx-attachment  
      #attachment  
      [objectType]="'OD_Dispatches'" 
      [objectId]="'965e692f-8230-4ad1-b1be-ee68ce010b6f'" 
      hideFolder="1"  
      hideUploadBtn="0"   
      hideDes="0" 
      type="inline"
      hideImageUpload="0"
      allowExtensions=".jpg,.png"
      allowMultiFile="1"
      idBrowse="btn1"

      [formModel]="view.formModel"
      [functionID]="'ODT3'" 
      (fileAdded)="fileAdded($event)" 
      (fileCount)="getfileCount($event)" 
      displayThumb="simple"
    > 
  </codx-attachment>
   -->
  <!-- <div data-kt-scroll-activate="{default: true}" data-kt-scroll-max-height="auto" attr.data-kt-scroll-dependencies=''
   attr.data-kt-scroll-wrappers='dms-viewcard' attr.data-kt-scroll-offset="'0px'">     -->
  <div class="d-flex flex-wrap dms-card-row ">
    <card class="pe-6 pb-6" *ngFor="let item of data" [data]="item" [formModel]="view.formModel"></card>
  </div>
  <!-- </div> -->
  <!-- <button class="btn btn-outline-primary btn-pill btn-lg" id="kt_demo_panel_toggle" (click)="openFile1()">
    <i class="icon-add"></i>
    <span class="font-size-lg">Open File 1</span>
  </button>
  <codx-attachment  
  #attachment1  
  [objectType]="'OD_Dispatches'" 
  [objectId]="'965e692f-8230-4ad1-b1be-ee68ce010b6f'" 
  hideFolder="1"  
  hideUploadBtn="0"   
  hideDes="1" 
  type="inline"
  idBrowse="btn2"
  hideImageUpload="0"
  allowExtensions=".jpg,.png"
  allowMultiFile="1"
  [formModel]="view.formModel"
  [functionID]="'ODT3'" 
  displayThumb="full"
> 
</codx-attachment> -->
</ng-template>
<ng-template #templateSmallCard>
  <div data-kt-scroll-activate="{default: true}" data-kt-scroll-max-height="auto" attr.data-kt-scroll-dependencies=''
    attr.data-kt-scroll-wrappers='dms-viewcard' attr.data-kt-scroll-offset="'0px'">
    <!-- <codx-temp-full  *ngFor="let item in data" 
        class="float-start" imageSrc="../../../assets/codx/dms/folder.svg"
        imgCss="card-item img-folder me-4" (clickMF)="dmSV.clickMF($event, item)"
        [title]="item.folderName" (changeDataMF)="dmSV.filterMoreFunction($event, item)"
        [formModel]="formModel" [typeMF]="'hover'" [bookmark]="showBookmark(item)"
        subTitle="{{item.createdOn | date : 'dd/MM/yyyy'}} | {{item.userName}}"
        cardCss="card-item card-template w-225px px-2 py-3 text-box-140">
    </codx-temp-full> -->
  </div>
</ng-template>
<ng-template #templateList>
  <!-- <div data-kt-scroll-activate="{default: true}" data-kt-scroll-max-height="auto" attr.data-kt-scroll-dependencies=''
  attr.data-kt-scroll-wrappers='dms-viewcard' attr.data-kt-scroll-offset="'0px'">
    <detail *ngFor="let d in data"  [data]="d" type="list"  [formModel]="view.formModel"></detail>
  </div> -->
</ng-template>

<ng-template #empty>
  <div *ngIf="!data || data.length == 0">no data</div>
</ng-template>

<!-- <ng-template #templateRight>  
  <container-element [ngSwitch]="this.viewIcon">
    <some-element *ngSwitchCase="'icon-appstore'">   
        <card [dataFolders]="listFolder"></card>
    </some-element>
    <some-element *ngSwitchCase="'icon-apps'">
      small card
    </some-element>
    <some-element *ngSwitchCase="'icon-format_list_bulleted'">
      list
    </some-element>
  </container-element>
</ng-template> -->