<codx-views  #view [showToolBar]="true"  [autoLoad]="true" 
[entityName]="'DM_FolderInfo'"
[method]="'GetFoldersAsync'" 
[className]="'FolderBussiness'"
[assemblyName]="'DM'" 
idField="recID"
[views]="views"
(selectedChange)="onSelectionChanged($event)"
[button]="button"
(buttonClick)="addFile($event)"
(viewChanged)="changeView($event)"
></codx-views>

<ng-template #templateMain let-data>
  <div *ngIf="(checkUserForder(data)) then noContext else context">
  </div>
  <ng-template #noContext>
      <div oncontextmenu="return false;" class="d-flex align-items-center mb-2" #item>
          <div [innerHTML]="setFullHtmlNode(data, data.folderName)"></div>
      </div>
  </ng-template>
  <ng-template #context>
      <div class="d-flex align-items-center mb-2">
          <div [innerHTML]="setFullHtmlNode(data, data.folderName)"></div>            
      </div>
  </ng-template>
</ng-template>

<ng-template #templateRight>  
  <ng-container *ngTemplateOutlet="currView"></ng-container>
</ng-template>

<ng-template #templateCard> 
  <!-- <button id="text" (click)="">text</button> -->
  <button class="btn btn-outline-primary btn-pill btn-lg" id="kt_demo_panel_toggle" (click)="openFile()">
    <i class="icon-add"></i>
    <span class="font-size-lg">Open File</span>
  </button>
  <attachment  
      #attachment  
      [objectType]="'OD_Dispatches'"       
      hideFolder="1"  
      hideUploadBtn="1"   
      hideDes="1" 
      type="inline"
      [functionID]="'ODT3'" 
      (fileAdded)="fileAdded($event)" 
      (fileCount)="getfileCount($event)" 
    > 
    </attachment>

  <card type="card" [listFolders]="listFolders" [formModel]="view.formModel"></card>
</ng-template>
<ng-template #templateSmallCard>
  <card type="smallcard" [listFolders]="listFolders" [formModel]="view.formModel"></card>
</ng-template>
<ng-template #templateList>
  <card type="list" [listFolders]="listFolders" [formModel]="view.formModel"></card>
</ng-template>

<!-- <ng-template #templateRight>  
  <container-element [ngSwitch]="this.viewIcon">
    <some-element *ngSwitchCase="'icon-appstore'">   
        <card [dataFolders]="listFolder"></card>
    </some-element>
    <some-element *ngSwitchCase="'icon-apps'">
      small card
    </some-element>
    <some-element *ngSwitchCase="'icon-format_list_bulleted'">
      list
    </some-element>
  </container-element>
</ng-template> -->

