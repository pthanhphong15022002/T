<ng-container *ngIf="user">
  <div class="d-flex flex-column flex-root">
    <div class="page d-flex flex-row flex-column-fluid">
      <codx-aside
        *ngIf="asideDisplay"
        [asideMenuHeader]="header"
        [asideMenuFooter]="footer"
        [hasSecond]="false"
      >
      </codx-aside>
      <ng-template #header>
        <div class="px-6">
          <a class="btn-add without-sub" href="javascript:;">
            <button
              [disabled]="disableInput"
              (click)="AddFolder()"
              class="btn btn-outline-primary btn-pill btn-lg"
              id="kt_demo_panel_toggle"
              data-toggle="tooltip"
            >
              <i class="icon-add"></i>
              <span class="fs-5">{{ titleAddFolder }}</span>
            </button>
          </a>
        </div>
      </ng-template>
      <ng-template #footer>
        <div class="menu-item progress-line">
          <div class="progress mx-6 mt-2" style="height: 6px">
            <div
              role="progressbar"
              attr.aria-valuenow="{{percentUsed}}"
              aria-valuemin="0"
              aria-valuemax="100"
              class="progress-bar"
              attr.style="width: {{percentUsed}}%"
            ></div>
          </div>
          <div class="mt-2 mx-6 text-light fw-normal fs-7">
            {{ titleHddUsed }}
          </div>
        </div>
        <div class="progress-circle px-4">
          <div
            role="progressbar"
            attr.aria-valuenow="{{percentUsed}}"
            aria-valuemin="0"
            aria-valuemax="100"
            attr.style="--value: {{percentUsed}}"
          ></div>
        </div>
      </ng-template>

      <div class="wrapper d-flex flex-column flex-row-fluid">
        <codx-header
          [class]="headerCSSClasses"
          [headerBar]="null"
          class="header align-items-stretch"
          [headerRightBar]="headerRightBar"
          #codxHeader
        >
        </codx-header>
        <!-- <codx-wrapper class="d-flex flex-column flex-column-fluid" (resizedEvent)="contentResized($event)">
        </codx-wrapper> -->
        <codx-wrapper class="d-flex flex-column flex-column-fluid dm-wrapper">
        </codx-wrapper>
      </div>
    </div>
  </div>

  <codx-scripts-init></codx-scripts-init>
  <codx-scroll-top></codx-scroll-top>

  <!-- begin:: Drawers -->
  <codx-messenger-drawer></codx-messenger-drawer>
  <codx-notify-drawer></codx-notify-drawer>
  <!-- <codx-user-drawer></codx-user-drawer> -->
  <!-- end:: Drawers -->

  <!-- begin:: TOPBAR -->
  <ng-template #headerRightBar>
    <!-- CHAT -->
    <div
      class="d-flex align-items-center"
      [ngClass]="codxService.toolbarButtonMarginClass"
    >
      <!-- <codx-chat-list></codx-chat-list> -->
    </div>
    <!-- NOTES -->
    <div class="d-flex align-items-center" (click)="openFormNoteDrawer()">
      <!-- begin::Menu wrapper -->
      <div
        class="btn btn-icon btn-active-light-primary position-relative"
        [ngClass]="codxService.toolbarButtonHeightClass"
        id="kt_drawer_note_toggle"
      >
        <!-- <span [ngClass]="codxService.toolbarButtonIconSizeClass"></span> -->
        <span
          [inlineSVG]="'./assets/themes/sys/default/img/header_notes.svg'"
          class="svg-icon"
          [ngClass]="codxService.toolbarButtonIconSizeClass"
        ></span>
      </div>
      <!-- end::Menu wrapper -->
    </div>
    <!-- NOTIFICATIONS -->
    <div
      class="d-flex align-items-center"
      [ngClass]="codxService.toolbarButtonMarginClass"
    >
      <!-- begin::Menu wrapper -->
      <div
        class="btn btn-icon btn-active-light-primary position-relative"
        [ngClass]="codxService.toolbarButtonHeightClass"
        id="kt_drawer_notify_toggle"
      >
        <span
          [inlineSVG]="
            './assets/themes/sys/default/img/header_notifications.svg'
          "
          class="svg-icon"
          [ngClass]="codxService.toolbarButtonIconSizeClass"
        ></span>
        <!-- <span
          class="bullet bullet-dot bg-success h-6px w-6px position-absolute translate-middle top-0 start-50 animation-blink"></span> -->
      </div>
      <!-- end::Menu wrapper -->
    </div>

    <!-- Quick links -->
    <erm-quick-links-inner
      [buttonMarginClass]="codxService.toolbarButtonMarginClass"
      [buttonIconClass]="codxService.toolbarButtonIconSizeClass"
      [buttonHeightClass]="codxService.toolbarButtonHeightClass"
    ></erm-quick-links-inner>
    <!-- End: Quick links -->
    <!-- begin::User -->
    <codx-user-inner
      [user]="user"
      (onAvatarChanged)="this.reloadAvatar($event)"
      [buttonMarginClass]="codxService.toolbarButtonMarginClass"
    ></codx-user-inner>
    <!-- end::User -->

    <ng-container *ngIf="headerLeft === 'menu'">
      <div
        class="d-flex align-items-center d-lg-none ms-2 me-n3"
        title="Show header menu"
      >
        <div
          class="btn btn-icon btn-active-light-primary w-30px h-30px w-md-40px h-md-40px"
          id="kt_header_menu_mobile_toggle"
        >
          <span
            [inlineSVG]="'./assets/media/icons/duotune/text/txt001.svg'"
            class="svg-icon svg-icon-1"
          ></span>
        </div>
      </div>
    </ng-container>
  </ng-template>
</ng-container>

<!-- <ng-container *ngIf="user">
  <div class="d-flex flex-column flex-root">
    <div class="page d-flex flex-row flex-column-fluid">
      <codx-aside id="kt_aside" [asideMenu]="asideMenu" [hasSecond]="false"></codx-aside>
      <div class="wrapper d-flex flex-column flex-row-fluid">
        <codx-header [class]="headerCSSClasses" [headerBar]="null" class="header align-items-stretch"
          [headerRightBar]="headerRightBar" #codxHeader>
        </codx-header>
        <codx-wrapper class="d-flex flex-column flex-column-fluid">
        </codx-wrapper>
      </div>
    </div>
  </div>

  <codx-scripts-init></codx-scripts-init>
  <codx-scroll-top></codx-scroll-top>

  <codx-messenger-drawer></codx-messenger-drawer>
  <codx-notify-drawer></codx-notify-drawer>

  <ng-template #headerRightBar>

    <div class="d-flex align-items-center" [ngClass]="codxService.toolbarButtonMarginClass">
    </div>

    <div class="d-flex align-items-center" [ngClass]="codxService.toolbarButtonMarginClass">
      <div class="btn btn-icon btn-active-light-primary position-relative"
        [ngClass]="codxService.toolbarButtonHeightClass" id="kt_drawer_notify_toggle">
        <span [inlineSVG]="'./assets/themes/sys/default/img/header_notifications.svg'" class="svg-icon"
          [ngClass]="codxService.toolbarButtonIconSizeClass"></span>
        <span
          class="bullet bullet-dot bg-success h-6px w-6px position-absolute translate-middle top-0 start-50 animation-blink"></span>
      </div>
    </div>

    <div class="d-flex align-items-center" [ngClass]="codxService.toolbarButtonMarginClass">
      <div class="btn btn-icon btn-active-light-primary" [ngClass]="codxService.toolbarButtonHeightClass"
        data-kt-menu-trigger="click" data-kt-menu-attach="parent" data-kt-menu-placement="bottom-end"
        data-kt-menu-flip="bottom">
        <span [inlineSVG]="'./assets/themes/sys/default/img/header_app_module.svg'" class="svg-icon"
          [ngClass]="codxService.toolbarButtonIconSizeClass"></span>
      </div>
      <erm-quick-links-inner></erm-quick-links-inner>
    </div>

    <div class="d-flex align-items-center" [ngClass]="codxService.toolbarButtonMarginClass">
      <codx-img #imageViewer *ngIf="user" [ngClass]="codxService.toolbarUserAvatarHeightClass"
        class="cursor-pointer symbol" funcId="AD006" [objectId]="user.userID" [objectName]="user.userName"
        objectType="AD_Users" [width]="35" data-kt-menu-trigger="click" data-kt-menu-attach="parent"
        data-kt-menu-placement="bottom-end" data-kt-menu-flip="bottom">
      </codx-img>
      <codx-user-inner (onAvatarChanged)="this.reloadAvatar($event)"></codx-user-inner>
    </div>

    <ng-container *ngIf="headerLeft === 'menu'">
      <div class="d-flex align-items-center d-lg-none ms-2 me-n3" title="Show header menu">
        <div class="btn btn-icon btn-active-light-primary w-30px h-30px w-md-40px h-md-40px"
          id="kt_header_menu_mobile_toggle">
          <span [inlineSVG]="'./assets/media/icons/duotune/text/txt001.svg'" class="svg-icon svg-icon-1"></span>
        </div>
      </div>
    </ng-container>
  </ng-template> -->
