<codx-form #form [headerText]="title" subHeaderText="" [body]="body" [footer]="footer" [dialog]="dialog"
  [formModel]="dialog.formModel" [data]="data" [openMore]="false"></codx-form>
<ng-template #body>
  <ng-container *ngFor="let item of data">
    <div class="form-group">
      <codx-input-custom-field [customField]="item" [formModel]="form.formModel"></codx-input-custom-field>
    </div>
    <!-- <div class="form-group">

      <codx-label [fiedName]="item.fieldName" [formModel]="form.formModel" [default]="item.title">
      </codx-label>
      <span *ngIf="item.dataType == 'A'"
        class="me-5 text-hover-primary icon-attach_file icon-20 text-dark cursor-pointer"></span>
      <span *ngIf="item.dataType == 'P'" class="mx-2 me-5">
        <button class="btn btn-sm btn-icon">
          <span class="icon-group_add text-primary icon-18" (click)="clickPerm(controlShare)"></span>
        </button>
      </span>

      <ng-container *ngIf="item.dataType == 'N'">
        <codx-input [field]="item.fieldName" type="text" [showSpinButton]="false" [crrValue]="item.dataValue"
          [placeholder]="item.note" (valueChange)="valueChange($event, item)"></codx-input>
      </ng-container>
      <ng-container *ngIf="item.dataType == 'T'">
        <codx-input *ngIf="item.dataFormat != 'L'" [field]="item.fieldName" type="text" [placeholder]="item.note"
          [crrValue]="item.dataValue" (valueChange)="valueChange($event, item)">
        </codx-input>
        <codx-input *ngIf="item.dataFormat == 'L'" [field]="item.fieldName" type="textarea" format="ed"
          [placeholder]="item.note" [crrValue]="item.dataValue" (valueChange)="valueChange($event, item)">
        </codx-input>
      </ng-container>

      <ng-container *ngIf="item.dataType == 'D'">
        <codx-input *ngIf="item.dataFormat == '3'" [field]="item.fieldName" type="datetime" [format]="'d'"
          [placeholder]="item.note" [crrValue]="item.dataValue" (valueChange)="valueChange($event, item)">
        </codx-input>
        <codx-input *ngIf="item.dataFormat != '3'" [field]="item.fieldName" type="datetime" [format]="'F'"
          [placeholder]="item.note" [crrValue]="item.dataValue" (valueChange)="valueChange($event, item)">
        </codx-input>
      </ng-container>

      <ng-container *ngIf="item.dataType == 'L'">
        <codx-input [field]="item.fieldName" type="valuelist" [refValue]="item.refValue" [placeholder]="item.note"
          (valueChange)="valueChange($event, item)">
        </codx-input>
      </ng-container>
      <ng-container *ngIf="item.dataType == 'A'">
        <codx-attachment #attachment [objectId]="" [objectType]="" hideFolder="1" hideImageUpload="0" hideImageThumb="0"
          hideUploadBtn="1" hideDes="1" type="inline" [allowMultiFile]="item.multiselect ? '1' : '0'" [functionID]=""
          [formModel]="form.formModel" (fileAdded)="fileAdded($event)" (fileCount)="getfileCount($event)"
          displayThumb="full" showMessage="0">
        </codx-attachment>
      </ng-container>
      <ng-container *ngIf="item.dataType == 'P'">

      </ng-container>
      <ng-container *ngIf="item.dataType == 'R'">
        <div class=" process-rating mt-1">
          <ngb-rating [(rate)]="currentRate" max="5" (rateChange)="false" (hover)="hovered = $event"
            (leave)="hovered = currentRate" [readonly]="false">
            <ng-template let-fill="fill" let-index="index">
              <span class="star" [class.filled]="fill === 100" [class.bad]="index < 5">&#9733;</span>
            </ng-template>
          </ngb-rating>
        </div>
      </ng-container>
      <div *ngIf="checkErr" class="errorMessage text-danger ms-3" data-field="">
        {{errorMessage}}
      </div>
    </div> -->
  </ng-container>
</ng-template>
<ng-template #footer>
  <button type="button" (click)="onSave()" class="btn btn-primary">LÆ°u</button>
</ng-template>

<ng-template #controlShare let-dialogControl>
  <codx-share [dialog]="dialogControl" [multiple]="true" (eventApply)="applyShare($event)" [listName]="vllShare">
  </codx-share>
</ng-template>
