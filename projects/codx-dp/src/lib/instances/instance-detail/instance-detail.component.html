<ng-container *ngIf="dataSelect?.recID">
  <codx-detail-tmp [header]="header" [formModel]="formModel" [body]="body" [dataItem]="dataSelect" [hideMF]="false"
    (changeDataMF)="changeDataMF($event, dataSelect)" (clickMF)="clickMF($event, dataSelect)">
    <ng-template #header>
      <div class="container_detail mt-3">
        <div class="d-flex flex-grow-1 mb-4">
          <div class="d-flex flex-column flex-grow-1">
            <div class="d-flex justify-content-between">
              <div class="d-flex flex-column">
                <h2 class="h2-title">
                  {{dataSelect?.title}}
                </h2>
                <div class="mb-6">
                  <div>
                    <span class="">Tổ chức/Khách hàng: </span>
                    <span class="me-2 text-body">Tập đoàn PHÚC TÚ</span>
                  </div>
                  <div class="d-flex flex-grow-1 mb-4">
                    <span>Liên hệ: </span>
                    <ng-container>
                      <div class="mb-3 ms-1">
                        <codx-img [objectId]="'ADMIN'" objectType="AD_Users" [width]="50">
                        </codx-img>
                      </div>
                      <div class="d-flex flex-column">
                        <span class="ms-3 text-body">Trần Đoàn Tuyết Khanh</span>
                        <div class="row">
                          <span class="col-3 ms-3 text-body">012344556</span>
                          <span class="col-3 ms-3 text-body" style="margin-right: 50px;">lacviet@lacviet.com</span>
                        </div>
                      </div>
                    </ng-container>
                  </div>
                </div>

              </div>
              <div class="d-flex flex-column align-items-start">
                <div class="progress">
                  <div class="progress-done" role="progressbar" [style.width]="'20' + '%'" aria-valuenow="50"
                    aria-valuemin="0" aria-valuemax="100">
                    70%</div>
                </div>
                <div class="d-flex flex-grow-1 mb-4">
                  <div class="d-flex flex-column">
                    <div class="fw-bold fs-6 text-dark codx-text-overflow-1line">
                      <span>
                        Giới thiệu sản phẩm
                      </span>
                    </div>
                    <div class="text-gray-500 me-4 mb-1">
                      {{
                        dataSelect.createdOn
                      }}
                    </div>
                  </div>
                  <div class="me-3">
                    <codx-img [objectId]="'ADMIN'" objectType="AD_Users" [width]="50">
                    </codx-img>
                  </div>
                </div>

              </div>
            </div>
            <div class="d-flex justify-content-end">
              <ejs-dropdownlist id='locationCBB' #locationCBB [value]="this.idCbx" [dataSource]='listRoom'
                [fields]='fields' [placeholder]="'Phòng họp'" (valueChange)="cbxChange($event)"></ejs-dropdownlist>
            </div>
          </div>
        </div>
      </div>

    </ng-template>
    <ng-template #body>
      <ng-container *ngIf="idCbx == 'gantt'">
        <p>View gannt chưa làm để vậy</p>
      </ng-container>
      <ng-container *ngIf="idCbx == 'stage'">
        <div class="d-flex arrow-steps flex-container">
          <div *ngFor="let item of listSteps; index as i;" id="step-click" style="flex-grow: 1"
            [ngClass]="item.indexNo == currentStep ? 'step current' : item.indexNo < currentStep ? 'step old' : 'step'" (click)="click(item.indexNo, item.recID)">
            <span> {{item.stepName}}</span>
          </div>
        </div>
        <div class="d-flex flex-container">
          <div *ngFor="let item of listSteps; index as i;" class="process-wrap">
            <div
              [ngClass]="item.indexNo == currentStep ? 'progress-current' : item.indexNo < currentStep ? 'progress-bar' : ''" style="flex-grow: 1"
              role="progressbar" [style.width]="item.progress + '%'" aria-valuenow="50" aria-valuemin="0"
              aria-valuemax="100">
            </div>
          </div>
        </div>

        <codx-stages-detail [listData]="lstTest"></codx-stages-detail>
      </ng-container>
      <ng-container *ngIf="idCbx == 'field'">
        <codx-field-detail></codx-field-detail>
      </ng-container>
    </ng-template>

  </codx-detail-tmp>
</ng-container>
