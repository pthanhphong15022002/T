<codx-layout-add
  [title]="title"
  [subHeader]="subHeader"
  [tabInfo]="tabInfo"
  [tabContent]="tabContent"
  [openMore]="true"
  (buttonClick)="buttonClick($event)"
  [dialog]="dialog"
  [formModel]="dialog.formModel"
  [footer]="footer"
  (setTitle)="setTitle($event)"
  #form
></codx-layout-add>

<ng-template #subHeader>
  <codx-tag
    [entityName]="dialog.formModel.entityName"
    [isEdit]="true"
    [disabled]="false"
    [value]="''"
    (valueChange)="valueChange($event)"
  ></codx-tag>
</ng-template>

<ng-template #footer>
  <div class="d-flex justify-content-between">
    <button type="button" class="btn btn-light-primary me-3">
      <i class="icon-cloud_upload fs-5"></i
      ><span>
        <codx-label default="Đính kèm"></codx-label>
      </span>
    </button>
    <button type="button" class="btn btn-primary ms-1">
      <codx-label default="Lưu"></codx-label>
    </button>
  </div>
</ng-template>

<!-- No object general  -->
<ng-template #tabGeneralInfo>
  <div class="form-group">
    <codx-label
      fiedName="InstanceNo"
      [formModel]="form.formModel"
      default="Mã nhiệm vụ"
    >
    </codx-label>
    <codx-input
      field="instanceNo"
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="text"
      [placeholder]="'Mã tự sinh'"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label
      [formModel]="dialog.formModel"
      field="Title"
      default="Tên nhiệm vụ"
    >
    </codx-label>
    <codx-input
      field=""
      [formModel]="dialog.formModel"
      type="text"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label
      fiedName=""
      [formModel]="form.formModel"
      default="Người phụ trách"
    >
    </codx-label>
    <codx-input
      field=""
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="valuelist"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label
      fiedName="Status"
      [formModel]="form.formModel"
      default="Giai đoạn quy trình"
    >
    </codx-label>
    <codx-input
      field="status"
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="valuelist"
      refValue="DP028"
      crrValue="0"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label
      fiedName=""
      [formModel]="dialog.formModel"
      default="Tên nhiệm vụ"
    >
    </codx-label>
    <codx-input
      field=""
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="text"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label
      fiedName="EndDate"
      [formModel]="form.formModel"
      default="Ngày đến hạn"
    >
    </codx-label>
    <!-- <codx-input
      field="endDate"
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="datetime"
      class="test-datetime"
      [crrValue]=""
      format="D"
      (valueChange)="valueChange($event)"
    >
    </codx-input> -->
    <codx-input
      [formModel]="dialog.formModel"
      field="activedOn"
      [placeholder]="'dd/mm/yyyy'"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label fiedName="" [formModel]="form.formModel" default="Tên nhiệm vụ">
    </codx-label>
    <codx-input
      field=""
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="text"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>
</ng-template>

<ng-template #tabLocation>
  <div class="form-group">
    <codx-label fiedName="" [formModel]="form.formModel" default="Quốc gia">
    </codx-label>
    <codx-input
      field=""
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="valuelist"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label
      fiedName=""
      [formModel]="form.formModel"
      default="Tỉnh/Thành phố"
    >
    </codx-label>
    <codx-input
      field=""
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="valuelist"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label fiedName="" [formModel]="form.formModel" default="Quận/Huyện">
    </codx-label>
    <codx-input
      field=""
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="valuelist"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label fiedName="" [formModel]="form.formModel" default="Phường/Xã">
    </codx-label>
    <codx-input
      field=""
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="valuelist"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label
      fiedName=""
      [formModel]="form.formModel"
      default="Số nhà, tên đường"
    >
    </codx-label>
    <codx-input
      field=""
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="text"
      placeholder="Nhập số nhà và tên đường"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label fiedName="" [formModel]="form.formModel" default="Địa chỉ">
    </codx-label>
    <codx-input
      field=""
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="text"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>

  <div class="form-group">
    <codx-label fiedName="" [formModel]="form.formModel" default="Mã vùng">
    </codx-label>
    <codx-input
      field=""
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="text"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>
</ng-template>

<ng-template #tabInputInfo>
  <ng-container *ngIf="step?.fields?.length > 0">
    <ng-container *ngFor="let item of step.fields">
      <div class="form-group">
        <codx-input-custom-field
          [customField]="item"
          (valueChangeCustom)="valueChangeCustom($event)"
        ></codx-input-custom-field>
      </div>
    </ng-container>
  </ng-container>
</ng-template>


<!-- Opportunity general  -->
<ng-template #tabOpporGeneralInfo>

  <div class="form-group">
    <codx-label
      [formModel]="dialog.formModel"
      field="Title"
      default="Tên cơ hội"
    >
    </codx-label>
    <codx-input
      field=""
      [formModel]="dialog.formModel"
      type="text"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>
  <div class="form-group">
    <codx-label
      fiedName="InstanceNo"
      [formModel]="form.formModel"
      default="Mã cơ hội"
    >
    </codx-label>
    <codx-input
      field="instanceNo"
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      type="text"
      [placeholder]="'Mã tự sinh'"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
  </div>
</ng-template>
