<codx-detail-tmp [header]="header" [dataItem]="dataItem" [formModel]="formModel" [body]="body" [hideMF]="true" 
   class="h-100">
  <ng-template #header>
    <div class="d-flex justify-content-between mt-4">
    Nội dung của view
    </div>
    <ng-container *ngIf="data">
      <!-- <codx-attachment [displayThumb]="'simple'" [objectId]="data.recID" hideImageUpload="0" showMessage="0" hideBtnSave="1" hideFolder="1" hideUploadBtn="1" [hideDes]="'1'" [hideDelete]="'1'" [hideMoreF]="'0'" (viewFile)="handleViewFile($event)"></codx-attachment> -->
      <codx-thumbnail [files]="data?.files" displayThumb="simple" [hideDelete]="'1'" [hideMoreF]="'0'"
        (viewFile)="handleViewFile($event)" [permissions]="data?.relations">
      </codx-thumbnail>
    </ng-container>
  </ng-template>
  <ng-template #body>
    <div class="tab-horizone h-od-tab h-100">
      <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
        <!-- <li [ngbNavItem]="1">
          <a ngbNavLink>
            <div class="d-flex align-item-center">
              <i class="fa-solid fa-user-tag me-2 mt-1"
                [ngClass]="{ 'text-primary': active === 1 }"></i><span><codx-label
                  [default]="(formModel?.funcID=='ODT31' || (formModel?.funcID=='ODT52' && data?.dispatchType == '4' ))?'Nơi nhận':'Nơi gửi'"
                  fiedName="lblTitleReceive" [formName]="formModel?.formName"></codx-label></span>
            </div>
          </a>
          <ng-template ngbNavContent>
            <ng-container *ngIf="
                data?.listInformationRel && data?.listInformationRel.length > 0;
                else defaulEmpt
              ">
              <ng-container *ngFor="let item of data?.listInformationRel">
                <ng-container *ngIf="formModel?.funcID != 'ODT41' || (formModel?.funcID == 'ODT41' && ((item.relationType != '1' && data?.listInformationRel.length >1) || (item.relationType == '1' && data?.listInformationRel.length ==1)))">
                  <div class="list-item has-action-menu-od mb-6">
                    <div class="d-flex align-items-start">
                      <div class="w-120px me-6">
                        <div class="text-primary d-flex justify-content-center fw-bold fs-4">
                          {{(item.date ? item.date : item.createdOn) | date: "shortTime"}}
                        </div>
                        <div class="text-dark d-flex justify-content-center text-gray-400 fs-6">
                          {{(item.date ? item.date : item.createdOn) | date: "dd/MM/yyyy"}}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <codx-temp-full [imageId]="item?.userID" [imageObjType]="'AD_Users'"  [title]="item?.employeeName"
                          [subTitle]="item?.positionName" [desc]="
                            getSubTitle(
                              item.relationType,
                              data?.agencyName,
                              item?.shareBy
                            )
                          " [descLine]="1" [dataItem]="item" [baseHeaderRightTmp]="baseTmpRight"
                          [cardCss]="'justify-content-center align-items-center'">
                        </codx-temp-full>
                      </div>
                      <ng-container *ngIf="
                          item.relationType != '1' &&
                          !item.reCall &&
                          formModel.userPermission?.refer != 0 &&
                          (checkUserPer?.created || checkUserPer?.owner)
                        ">
                        <ng-container *ngIf="
                            item.userID != data?.owner || item.relationType != '2'
                          ">
                          <div class="action-menu-od d-flex justify-content-center align-items-center cursor-pointer"
                            (click)="
                              openFormFuncID({
                                functionID: 'recallUser',
                                relID: item.recID
                              })
                            ">
                            <i class="icon-redo text-primary icon-18"></i>
                          </div>
                        </ng-container>
                      </ng-container>
                    </div>
                  </div>
                </ng-container>
                
              </ng-container>
            </ng-container>
          </ng-template>
        </li> -->
        <ng-container>
          <li [ngbNavItem]="1">
            <a ngbNavLink>
              <div class="d-flex align-item-center">
                <i class="icon-people_alt me-2" [ngClass]="{ 'text-primary': active === 1 }"></i><span>Quy trình duyệt</span>
              </div>
            </a>
            <ng-template ngbNavContent>
              <codx-view-approval-step [transID]="transID" [approveStatus]="approveStatus">
              </codx-view-approval-step>
            </ng-template>
          </li>
        </ng-container>
        <!-- <li [ngbNavItem]="3">
          <a ngbNavLink>
            <div class="d-flex align-item-center">
              <i class="icon-info me-2" [ngClass]="{ 'text-primary': active === 3 }"></i><span>Chi tiết</span>
            </div>
          </a>
          <ng-template ngbNavContent>
            <ng-container *ngTemplateOutlet="defaulEmpt"></ng-container>
          </ng-template>
        </li> -->
      </ul>
      <div [ngbNavOutlet]="nav" class="pt-5"></div>
    </div>
  </ng-template>