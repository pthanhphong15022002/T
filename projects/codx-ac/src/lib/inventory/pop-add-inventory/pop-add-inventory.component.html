<codx-layout-add #form [title]="title" [tabInfo]="tabInfo" [footer]="footer" [formModel]="dialog.formModel"
    [dialog]="dialog" (setTitle)="setTitle($event)" [tabContent]="[tabDescription
    ,tabgoods]" [data]="inventory">
</codx-layout-add>
<ng-template #tabDescription>
    <ng-container *ngIf="form?.formGroup">
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <codx-label [formModel]="form.formModel" fiedName="InventModelID"></codx-label>
                    <codx-input [disabled]="formType == 'edit' ? true : false" [Group]="form.formGroup" [crrValue]="inventory.inventModelID"
                        [formModel]="form.formModel" field="inventModelID" (valueChange)="valueChange($event)">
                    </codx-input>
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <codx-label [formModel]="form.formModel" fiedName="InventModelName"></codx-label>
                    <codx-input [Group]="form.formGroup" [crrValue]="inventory.inventModelName" field="inventModelName"
                        [formModel]="form.formModel" (valueChange)="valueChange($event)">
                    </codx-input>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="form-group">
                    <codx-label [formModel]="form.formModel" fiedName="InventCosting"></codx-label>
                    <codx-input [Group]="form.formGroup" [crrValue]="inventory.inventCosting"
                        [formModel]="form.formModel" field="inventCosting" (valueChange)="valueChange($event)">
                    </codx-input>
                </div>
            </div>
        </div>
        <div class="d-flex align-items-top pb-2">
            <div class="me-2">
                <codx-input [Group]="form.formGroup" [formModel]="form.formModel" [checked]="inventory.accountControl"
                    field="accountControl" (valueChange)="valueChange($event)">
                </codx-input>
            </div>
            <codx-label [formModel]="form.formModel" fiedName="AccountControl"></codx-label>
        </div>
        <div class="mt-2 mb-3 text-primary fw-bold fs-6">
            <codx-label [formModel]="form.formModel" default="Thiết lập ghi sổ"></codx-label>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="d-flex align-items-top mb-2">
                    <div class="me-2">
                        <codx-input [Group]="form.formGroup" [formModel]="form.formModel"
                            [checked]="inventory.postFinancial" field="postFinancial"
                            (valueChange)="valueChange($event)">
                        </codx-input>
                    </div>
                    <codx-label [formModel]="form.formModel" fiedName="PostFinancial"></codx-label>
                </div>
            </div>
            <div class="col-6">
                <div class="d-flex align-items-top mb-2">
                    <div class="me-2">
                        <codx-input [Group]="form.formGroup" [formModel]="form.formModel"
                            [checked]="inventory.postPhysical" field="postPhysical" (valueChange)="valueChange($event)">
                        </codx-input>
                    </div>
                    <codx-label [formModel]="form.formModel" fiedName="PostPhysical"></codx-label>
                </div>
            </div>
        </div>
        <div class="mt-4 mb-3 text-primary fw-bold fs-6">
            <codx-label [formModel]="form.formModel" default="Kiểm soát tồn kho"></codx-label>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="form-group">
                    <codx-label [formModel]="form.formModel" fiedName="CheckOnhand"></codx-label>
                    <codx-input [Group]="form.formGroup" [crrValue]="inventory.checkOnhand" [formModel]="form.formModel"
                        field="checkOnhand" (valueChange)="valueChange($event)">
                    </codx-input>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="d-flex align-items-top mb-2">
                    <div class="me-2">
                        <codx-input [Group]="form.formGroup" [formModel]="form.formModel"
                            [checked]="inventory.nagetivePhysical" field="nagetivePhysical"
                            (valueChange)="valueChange($event)">
                        </codx-input>
                    </div>
                    <codx-label [formModel]="form.formModel" fiedName="NagetivePhysical"></codx-label>
                </div>
            </div>
            <div class="col-6">
                <div class="d-flex align-items-top mb-2">
                    <div class="me-2">
                        <codx-input [Group]="form.formGroup" [formModel]="form.formModel"
                            [checked]="inventory.nagetiveFinancial" field="nagetiveFinancial"
                            (valueChange)="valueChange($event)">
                        </codx-input>
                    </div>
                    <codx-label [formModel]="form.formModel" fiedName="NagetiveFinancial"></codx-label>
                </div>
            </div>
        </div>
        <div class="mt-4 mb-3 text-primary fw-bold fs-6">
            <codx-label [formModel]="form.formModel" default="Kiểm soát nhập/xuất kho"></codx-label>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="d-flex align-items-top mb-2">
                    <div class="me-2">
                        <codx-input [Group]="form.formGroup" [formModel]="form.formModel"
                            [checked]="inventory.requireRegister" field="requireRegister"
                            (valueChange)="valueChange($event)">
                        </codx-input>
                    </div>
                    <codx-label [formModel]="form.formModel" fiedName="RequireRegister"></codx-label>
                </div>
            </div>
            <div class="col-6">
                <div class="d-flex align-items-top mb-2">
                    <div class="me-2">
                        <codx-input [Group]="form.formGroup" [formModel]="form.formModel"
                            [checked]="inventory.stdCostReceipt" field="stdCostReceipt"
                            (valueChange)="valueChange($event)">
                        </codx-input>
                    </div>
                    <codx-label [formModel]="form.formModel" fiedName="StdCostReceipt"></codx-label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="d-flex align-items-top mb-2">
                    <div class="me-2">
                        <codx-input [Group]="form.formGroup" [formModel]="form.formModel"
                            [checked]="inventory.requirePick" field="requirePick" (valueChange)="valueChange($event)">
                        </codx-input>
                    </div>
                    <codx-label [formModel]="form.formModel" fiedName="RequirePick"></codx-label>
                </div>
            </div>
            <div class="col-6">
                <div class="d-flex align-items-top mb-2">
                    <div class="me-2">
                        <codx-input [Group]="form.formGroup" [formModel]="form.formModel"
                            [checked]="inventory.stdCostIssue" field="stdCostIssue" (valueChange)="valueChange($event)">
                        </codx-input>
                    </div>
                    <codx-label [formModel]="form.formModel" fiedName="StdCostIssue"></codx-label>
                </div>
            </div>
        </div>
        <div class="mt-4 mb-3 text-primary fw-bold fs-6">
            <codx-label [formModel]="form.formModel" default="Thiết lập khác"></codx-label>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="d-flex align-items-top mb-2">
                    <div class="me-2">
                        <codx-input [Group]="form.formGroup" [formModel]="form.formModel"
                            [checked]="inventory.qualityControl" field="qualityControl"
                            (valueChange)="valueChange($event)">
                        </codx-input>
                    </div>
                    <codx-label [formModel]="form.formModel" fiedName="QualityControl"></codx-label>
                </div>
            </div>
        </div>
    </ng-container>
</ng-template>
<ng-template #tabgoods>
    <ng-container *ngIf="form?.formGroup">
        <div class="mb-3 text-primary fw-bold fs-6">
            <codx-label [formModel]="form.formModel" default="Kiểm soát dành hàng"></codx-label>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <codx-label [formModel]="form.formModel" fiedName="ReserveMethod"></codx-label>
                    <codx-input [Group]="form.formGroup" [crrValue]="inventory.reserveMethod"
                        [formModel]="form.formModel" field="reserveMethod" (valueChange)="valueChange($event)">
                    </codx-input>
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <codx-label [formModel]="form.formModel" fiedName="ReserveRule"></codx-label>
                    <codx-input [Group]="form.formGroup" [crrValue]="inventory.reserveRule" field="reserveRule"
                        [formModel]="form.formModel" (valueChange)="valueChange($event)">
                    </codx-input>
                </div>
            </div>
        </div>
        <div class="d-flex align-items-top mb-2">
            <div class="me-2">
                <codx-input [checked]="inventory.reservePartial == '1' ? true : false" class="check-circle"
                    field="reservePartial" [formModel]="form.formModel" (valueChange)="valueChanges($event)">
                </codx-input>
            </div>
            <codx-label [formModel]="form.formModel" fiedName="ReservePartial"></codx-label>
        </div>
        <div class="d-flex align-items-center mb-2">
            <div class="me-2">
                <codx-input [Group]="form.formGroup" class="check-circle" [checked]="inventory.reserveOrdered"
                    field="reserveOrdered" [formModel]="form.formModel" (valueChange)="valueChange($event)">
                </codx-input>
            </div>
            <codx-label [formModel]="form.formModel" fiedName="ReserveOrdered"></codx-label>
        </div>
        <div class="d-flex align-items-center mb-2">
            <div class="me-2">
                <codx-input [Group]="form.formGroup" class="check-circle" [checked]="inventory.reserveSameBatch"
                    field="reserveSameBatch" [formModel]="form.formModel" (valueChange)="valueChange($event)">
                </codx-input>
            </div>
            <codx-label [formModel]="form.formModel" fiedName="ReserveSameBatch"></codx-label>
        </div>
        <div class="d-flex align-items-center mb-5">
            <div class="me-2">
                <codx-input [checked]="inventory.reserveExpired == '1' ? true : false" class="check-circle"
                    field="reserveExpired" [formModel]="form.formModel" (valueChange)="valueChanges($event)">
                </codx-input>
            </div>
            <codx-label [formModel]="form.formModel" fiedName="ReserveExpired"></codx-label>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <codx-label [formModel]="form.formModel" fiedName="ExpiredDays"></codx-label>
                    <codx-input [crrValue]="form.data.expiredDays" [formModel]="form.formModel" field="expiredDays"
                        (valueChange)="valueChange($event)">
                    </codx-input>
                </div>
            </div>
        </div>
    </ng-container>
</ng-template>
<ng-template #footer>
    <div class="d-flex justify-content-end mt-1 me-3">
        <div *ngIf="formType != 'edit'" class="ms-2">
            <button type="button" class="btn btn-light-primary" (click)="onSaveAdd()">
                <codx-label class="fs-6 fw-normal" fiedName="lblSave" [formName]="formModel?.formName"
                    [gridViewName]="formModel?.gridViewName" default="Lưu & thêm"></codx-label>
            </button>
        </div>
        <div class="ms-2">
            <button type="button" class="btn btn-primary" style="min-width: 60px;" (click)="onSave()">
                <codx-label class="fs-6 fw-normal" fiedName="lblSave" [formName]="formModel?.formName"
                    [gridViewName]="formModel?.gridViewName" default="Lưu"></codx-label>
            </button>
        </div>
    </div>
</ng-template>