<codx-layout-add #form [title]="title" [tabInfo]="tabInfo" [footer]="footer" [formModel]="dialog.formModel"
  [dialog]="dialog" (setTitle)="setTitle($event)" [tabContent]="[tabDescription
    ,tabestablish,tabPlan,tabContact]" [data]="warehouses">
</codx-layout-add>
<ng-template #tabDescription>
  <div class="row">
    <div class="col-3">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="WarehouseID" default="Mã kho"></codx-label>
        <codx-input [crrValue]="warehouseID" [formModel]="form.formModel" field="warehouseID"
          (valueChange)="valueChangeWarehouseID($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-9 ps-0">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="WarehouseName" default="Tên kho"></codx-label>
        <codx-input [crrValue]="warehouseName" [formModel]="form.formModel" field="warehouseName"
          (valueChange)="valueChangeWarehouseName($event)">
        </codx-input>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="Category" default="Loại kho"></codx-label>
        <codx-input [crrValue]="form.data.category" type="valuelist" refValue="AC025" [formModel]="form.formModel"
          field="category" (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="ParentID" default="Nhóm kho"></codx-label>
        <codx-input [crrValue]="form.data.parentID" type="combobox" refValue="Warehouses" field="parentID"
          [formModel]="form.formModel" (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="mt-2 mb-2 fw-bold text-primary fs-6">
    <codx-label [formModel]="form.formModel" default="Kích thước kho"></codx-label>
  </div>
  <div class="row">
    <div class="col-3">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="Length" default="Chiều dài"></codx-label>
        <codx-input [crrValue]="form.data.length" [formModel]="form.formModel" field="length"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-3 ps-0">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="Width" default="Chiều rộng"></codx-label>
        <codx-input [crrValue]="form.data.width" [formModel]="form.formModel" field="width"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-3">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="Hight" default="Chiều cao"></codx-label>
        <codx-input [crrValue]="form.data.hight" [formModel]="form.formModel" field="hight"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-3 ps-0">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="Volume" default="Thể tích"></codx-label>
        <codx-input [crrValue]="form.data.volume" [formModel]="form.formModel" field="volume"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="mt-2 mb-2 fw-bold text-primary fs-6">
    <codx-label [formModel]="form.formModel" default="Địa chỉ kho"></codx-label>
  </div>
  <div class="form-group">
    <codx-label [formModel]="form.formModel" fiedName="Address" default="Địa chỉ"></codx-label>
    <codx-input [crrValue]="form.data.address" [formModel]="form.formModel" field="address"
      (valueChange)="valueChange($event)">
    </codx-input>
  </div>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="CountryID" default="Quốc gia"></codx-label>
        <codx-input [crrValue]="form.data.countryID" type="combobox" refValue="Countries" [formModel]="form.formModel"
          field="countryID" (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="ProvinceID" default="Tỉnh/thành"></codx-label>
        <codx-input [crrValue]="form.data.provinceID" type="combobox" refValue="Provinces" field="provinceID"
          [formModel]="form.formModel" (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="DistrictID" default="Quận/huyện"></codx-label>
        <codx-input [crrValue]="form.data.districtID" type="combobox" refValue="DistrictsAC"
          [formModel]="form.formModel" field="districtID" (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="PostalCode" default="Bưu cục"></codx-label>
        <codx-input [crrValue]="form.data.postalCode" type="combobox" refValue="PostalCodes" field="postalCode"
          [formModel]="form.formModel" (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="form-group">
    <codx-label [formModel]="form.formModel" fiedName="Note" default="Ghi chú"></codx-label>
    <codx-input [crrValue]="form.data.note" [formModel]="form.formModel" field="note"
      (valueChange)="valueChange($event)">
    </codx-input>
  </div>
  <div class="form-group d-flex">
    <span class="me-2">
      <codx-input [checked]="form.data.stop" field="stop" [formModel]="form.formModel"
        (valueChange)="valueChange($event)">
      </codx-input>
    </span>
    <codx-label [formModel]="form.formModel" fiedName="Stop" default="Ngừng sử dụng"></codx-label>
  </div>
</ng-template>
<ng-template #tabestablish>
  <div class="text-primary fw-bold fs-6 mb-3">
    <codx-label [formModel]="form.formModel" default="Thiết lập vị trí kho"></codx-label>
  </div>
  <div class="row">
    <div class="col-6">
      <div class="d-flex align-items-top mb-2">
        <div class="me-2">
          <codx-input [checked]="form.data.includeAisle" type="switch" field="includeAisle"
            (valueChange)="valueChange($event)">
          </codx-input>
        </div>
        <codx-label [formModel]="form.formModel" fiedName="IncludeAisle" default="Bao gồm dây"></codx-label>
      </div>
    </div>
    <div class="d-flex align-items-top mb-2">
      <div class="me-2">
        <codx-input [checked]="form.data.includeSheft" type="switch" field="includeSheft"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
      <codx-label fiedName="IncludeSheft" default="Bao gồm kệ"></codx-label>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="SheftFormat" default="Định dạng kệ"></codx-label>
        <codx-input [crrValue]="form.data.sheftFormat" [formModel]="form.formModel" field="sheftFormat"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="d-flex align-items-top mb-3">
    <div class="me-2">
      <codx-input [checked]="form.data.includeRack" type="switch" field="includeRack"
        (valueChange)="valueChange($event)">
      </codx-input>
    </div>
    <codx-label [formModel]="form.formModel" fiedName="IncludeRack" default="Bao gồm rack"></codx-label>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="RackFormat" default="Định dạng rack"></codx-label>
        <codx-input [crrValue]="form.data.rackFormat" [formModel]="form.formModel" field="rackFormat"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="d-flex align-items-top mb-3">
    <div class="me-2">
      <codx-input [checked]="form.data.includeBin" type="switch" field="includeBin" (valueChange)="valueChange($event)">
      </codx-input>
    </div>
    <codx-label [formModel]="form.formModel" fiedName="IncludeBin" default="Bao gồm BIN"></codx-label>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="BINFormat" default="Định dạng rack"></codx-label>
        <codx-input [crrValue]="form.data.binFormat" [formModel]="form.formModel" field="binFormat"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
</ng-template>
<ng-template #tabPlan>
  <div class="row">
    <div class="col-4">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="WarehouseLevel" default="Cấp độ kho"></codx-label>
        <codx-input [crrValue]="form.data.warehouseLevel" [formModel]="form.formModel" field="warehouseLevel"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-8">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="MainWarehouseID" default="Kho tổng"></codx-label>
        <codx-input [crrValue]="form.data.mainWarehouseID" type="combobox" refValue="Warehouses" field="mainWarehouseID"
          [formModel]="form.formModel" (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="d-flex align-items-top mb-3">
    <div class="me-2">
      <codx-input [checked]="form.data.fulfillment" type="switch" field="fulfillment"
        (valueChange)="valueChange($event)">
      </codx-input>
    </div>
    <codx-label [formModel]="form.formModel" fiedName="Fulfillment" default="Giữ đầy kho"></codx-label>
  </div>
  <div class="row">
    <div class="col-4">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="TransferTime" default="Thời gian điều chuyển"></codx-label>
        <codx-input [crrValue]="form.data.transferTime" field="transferTime" [formModel]="form.formModel"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-8">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="TransitWarehouseID" default="Kho trung chuyển"></codx-label>
        <codx-input [crrValue]="form.data.transitWarehouseID" [formModel]="form.formModel" field="transitWarehouseID"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="CalendarID" default="Lịch làm việc"></codx-label>
        <codx-input [crrValue]="form.data.calendarID" [formModel]="form.formModel" field="calendarID"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="d-flex align-items-top">
    <div class="me-2">
      <codx-input [checked]="form.data.workdays" type="switch" field="workdays" (valueChange)="valueChange($event)">
      </codx-input>
    </div>
    <codx-label [formModel]="form.formModel" fiedName="Workdays" default="Giờ hành chính"></codx-label>
  </div>
</ng-template>
<ng-template #tabContact>
  <div class="d-flex align-items-center justify-content-between mb-2">
    <codx-label class="text-primary fw-bold fs-6" [formModel]="form.formModel"
      default="Danh sách người liên hệ"></codx-label>
    <button type="button" class="btn btn-icon btn-primary" (click)="openPopupContact()">
      <i class="icon-group_add"></i>
    </button>
  </div>
  <div class="d-flex align-items-top justify-content-between py-2 border-bottom" *ngFor="let item of objectContact">
    <div class="d-flex align-items-top w-100">
      <div class="me-3">
        <codx-img [objectId]="item?.recID" [objectName]="item?.contactName" [objectType]="formModel?.entityName"
          [width]="35">
        </codx-img>
      </div>
      <div class="d-flex flex-column w-100 space_personal">
        <div class="fw-bold text-dark fs-6">
          <span>{{item.contactName}}</span>
        </div>
        <div class="mb-1">
          {{item.jobTitle}}
        </div>
        <div class="d-flex align-items-center mb-1">
          <div class="d-flex align-items-center me-3">
            <span class="icon-email icon-16 me-1 text-gray-500"></span>
            <span class="text-gray-500 fs-7">{{item.email}}</span>
          </div>
          <div class="d-flex align-items-center">
            <span class="icon-phone_android icon-16 me-1 text-gray-500"></span>
            <span class="text-gray-500 fs-7">{{item.phone}}</span>
          </div>
        </div>
        <div class="text-gray-700 fs-7" *ngFor="let value of valuelist">
          <span *ngIf="item.contactType == value.value">{{value.text}}</span>
        </div>
      </div>
    </div>
    <div class="d-flex align-items-top ms-5">
      <span type="button" class="btn btn-icon btn-sm btn-light-primary" (click)="editobject(item)">
        <i class="icon-edit icon-16"></i>
      </span>
      <span type="button" class="btn btn-icon btn-sm btn-light-danger ms-1" (click)="deleteobject(item)">
        <i class="icon-delete icon-16"></i>
      </span>
    </div>
  </div>

</ng-template>
<ng-template #footer>
  <div class="d-flex justify-content-end">
    <button type="button" class="btn btn-primary" (click)="onSave()">
      <codx-label [formModel]="form.formModel" default="Lưu"></codx-label>
    </button>
  </div>
</ng-template>