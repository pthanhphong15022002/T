<div class="table-responsive table-ac">
  <table style="table-layout: fixed;" class="table mb-0">
    <thead class="border-gray-200 table-thead-ac">
      <tr class="border-bottom">
        <th class="w-30 border-bottom">
          <div class="d-flex align-items-center justify-content-start ps-3">
            <codx-label class="fw-bold" fiedName="lblItem" default="Mặt hàng">
            </codx-label>
          </div>
        </th>
        <th class="w-15 border-bottom">
          <div class="d-flex align-items-center justify-content-end ps-3">
            <codx-label class="fw-bold" fiedName="lblQuantity" default="Số lượng">
            </codx-label>
          </div>
        </th>
        <th class="w-15 border-bottom">
          <div class="d-flex align-items-center justify-content-end ps-3">
            <codx-label class="fw-bold" fiedName="lblUnitPrice" default="Đơn giá">
            </codx-label>
          </div>
        </th>
        <th class="w-15 border-bottom">
          <div class="d-flex align-items-center justify-content-end ps-3">
            <codx-label class="fw-bold" fiedName="lblPrice" default="Thành tiền">
            </codx-label>
          </div>
        </th>
        <th *ngIf="journal?.vatControl == '1'" class="w-15 border-bottom">
          <div class="d-flex align-items-center justify-content-end ps-3">
            <codx-label class="fw-bold" fiedName="lblVAT" default="Thuế GTGT">
            </codx-label>
          </div>
        </th>
        <th class="w-40 border-bottom">
          <div class="d-flex align-items-center justify-content-start ps-3">
            <codx-label class="fw-bold" fiedName="lblVAT" default="Ghi chú">
            </codx-label>
          </div>
        </th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let item of listPurchaseInvoicesLine;trackBy: trackByFn">
        <tr style="border-bottom: 1px solid var(--bs-border-color) !important;">
          <td>
            <div class="d-flex justify-content-start ps-3">
              <div class="align-items-center w-100">
                <div *ngIf="(item.itemName != null && item.itemName != '')"
                  class="d-flex align-items-center justify-content-start">
                  <ng-container>
                    <span style="text-align: left !important;" class="fw-bold">{{item.itemName}}</span>
                  </ng-container>
                </div>
                <div *ngIf="(item.idiM0Name != null && item.idiM0Name != '') ||
                                      (item.idiM1Name != null && item.idiM1Name != '') || 
                                      (item.idiM2Name != null && item.idiM2Name != '') ||
                                      (item.idiM3Name != null && item.idiM3Name != '')" class="d-flex justify-content-start">
                  <ng-container>
                    <codx-label style="white-space: nowrap" class="fs-7 fw-bold" default="Quy cách">
                    </codx-label>
                    :&nbsp;
                    <div class="w-100" style="text-align: left;display: inline-block;">
                      <div *ngIf="(item.idiM0 != null && item.idiM0 != '')"
                        style="display: inline;text-overflow: ellipsis;white-space: nowrap;word-break: break-all;">
                        <span style="word-wrap: break-word;" class="fs-7 text-gray-700">
                          {{item.idiM0Name}}
                        </span>
                      </div>
                      <div *ngIf="(item.idiM1Name != null && item.idiM1Name != '')"
                        style="display: inline;text-overflow: ellipsis;white-space: nowrap;word-break: break-all;">
                        <span style="word-wrap: break-word;" class="fs-7 text-gray-700">
                          -&nbsp;&nbsp;{{item.idiM1Name}}
                        </span>
                      </div>
                      <div *ngIf="(item.idiM2Name != null && item.idiM2Name != '')"
                        style="display: inline;text-overflow: ellipsis;white-space: nowrap;word-break: break-all;">
                        <span style="word-wrap: break-word;" class="fs-7 text-gray-700">
                          -&nbsp;&nbsp;{{item.idiM2Name}}
                        </span>
                      </div>
                      <div *ngIf="(item.idiM3Name != null && item.idiM3Name != '')"
                        style="display: inline;text-overflow: ellipsis;white-space: nowrap;word-break: break-all;">
                        <span style="word-wrap: break-word;" class="fs-7 text-gray-700">
                          -&nbsp;&nbsp;{{item.idiM3Name}}
                        </span>
                      </div>
                    </div>
                  </ng-container>
                </div>
                <div *ngIf="(item.idiM4Name != null && item.idiM4Name != '') ||
                                      (item.idiM5Name != null && item.idiM5Name != '') || 
                                      (item.idiM6Name != null && item.idiM6Name != '') ||
                                      (item.idiM7Name != null && item.idiM7Name != '') ||
                                      (item.idiM8Name != null && item.idiM8Name != '') ||
                                      (item.idiM9Name != null && item.idiM9Name != '')"
                  class="d-flex justify-content-start mb-1">
                  <ng-container>
                    <codx-label style="white-space: nowrap" class="fs-7 fw-bold" default="Kho">
                    </codx-label>
                    :&nbsp;
                    <div class="w-100" style="text-align: left;display: inline-block;">
                      <div *ngIf="(item.idiM4Name != null && item.idiM4Name != '')"
                        style="display: inline;text-overflow: ellipsis;white-space: nowrap;word-break: break-all;">
                        <span style="word-wrap: break-word;" class="fs-7 text-gray-700">
                          {{item.idiM4Name}}
                        </span>
                      </div>
                      <div *ngIf="(item.idiM5Name != null && item.idiM5Name != '')"
                        style="display: inline;text-overflow: ellipsis;white-space: nowrap;word-break: break-all;">
                        <span style="word-wrap: break-word;" class="fs-7 text-gray-700">
                          -&nbsp;&nbsp;{{item.idiM5Name}}
                        </span>
                      </div>
                      <div *ngIf="(item.idiM6Name != null && item.idiM6Name != '')"
                        style="display: inline;text-overflow: ellipsis;white-space: nowrap;word-break: break-all;">
                        <span style="word-wrap: break-word;" class="fs-7 text-gray-700">
                          -&nbsp;&nbsp;{{item.idiM6Name}}
                        </span>
                      </div>
                      <div *ngIf="(item.idiM7Name != null && item.idiM7Name != '')"
                        style="display: inline;text-overflow: ellipsis;white-space: nowrap;word-break: break-all;">
                        <span style="word-wrap: break-word;" class="fs-7 text-gray-700">
                          -&nbsp;&nbsp;{{item.idiM7Name}}
                        </span>
                      </div>
                      <div *ngIf="(item.idiM8Name != null && item.idiM8Name != '')"
                        style="display: inline;text-overflow: ellipsis;white-space: nowrap;word-break: break-all;">
                        <span style="word-wrap: break-word;" class="fs-7 text-gray-700">
                          -&nbsp;{{item.idiM8Name}}
                        </span>
                      </div>
                      <div *ngIf="(item.idiM9Name != null && item.idiM9Name != '')"
                        style="display: inline;text-overflow: ellipsis;white-space: nowrap;word-break: break-all;">
                        <span style="word-wrap: break-word;" class="fs-7 text-gray-700">
                          -&nbsp;&nbsp;{{item.idiM9Name}}
                        </span>
                      </div>
                    </div>
                  </ng-container>
                </div>
                <div *ngIf="item?.lineType != '1'" class="d-flex justify-content-start">
                  <span class="badge ac-badge-light-primary">
                    {{item?.lineType | vll : 'AC089' : 'text' | async}}
                  </span>
                </div>
              </div>
            </div>
          </td>
          <td>
            <div class="d-flex justify-content-end ps-3">
              <span class="fw-bold line-clamp line-clamp-1" [innerHTML]="item?.quantity
                      | tranformValueNumber : 'B' | async"></span>
            </div>
            <div *ngIf="item?.umid" class="d-flex justify-content-end ps-3">
              <span class="fw-bold line-clamp line-clamp-1">{{item.umid}}</span>
            </div>
          </td>
          <td>
            <div class="d-flex justify-content-end ps-3">
              <span class="fw-bold line-clamp line-clamp-1" [innerHTML]="item?.purcPrice
                      | tranformValueNumber : 'B' | async"></span>
            </div>
          </td>
          <td>
            <div class="d-flex justify-content-end ps-3">
              <span class="fw-bold line-clamp line-clamp-1" [innerHTML]="item?.netAmt
                      | tranformValueNumber : 'B' | async"></span>
            </div>
          </td>
          <td *ngIf="journal.vatControl == '1'">
            <div class="d-flex justify-content-end ps-3">
              <span class="fw-bold line-clamp line-clamp-1" [innerHTML]="item?.vatAmt
                      | tranformValueNumber : 'B' | async"></span>
            </div>
            <div *ngIf="item?.vatPct" class="d-flex justify-content-end ps-3">
              <span class="fw-bold line-clamp line-clamp-1">{{item.vatPct * 100 + "%"}}</span>
            </div>
          </td>
          <td>
            <div *ngIf="item?.note != null && item?.note != ''" class="d-flex align-items-center justify-content-start ps-3">
              <span class="line-clamp line-clamp-2 text-gray-600 fs-7">{{ item?.note }}</span>
          </div>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>
  <div *ngIf="listPurchaseInvoicesLine && listPurchaseInvoicesLine.length == 0" class="ac-empty">
    <img src="../assets/themes/sys/default/img/DataEmpty.svg" />
    <div class="fs-6 text-dark mt-2 text-center">
      {{ "SYS011" | mssg | async }}
    </div>
  </div>
</div>
<table style="table-layout: fixed;" class="table mb-0">
  <tfoot class="table-footer-ac">
    <td class="w-30">
      <div class="d-flex align-items-center justify-content-end ps-3 h-30px">
        <codx-label *ngIf="listPurchaseInvoicesLine && listPurchaseInvoicesLine.length > 0"
          class="fw-bold line-clamp line-clamp-1" fiedName="lblTotal" default="Tổng cộng">
        </codx-label>
      </div>
    </td>
    <td class="w-15">
      <div class="d-flex align-items-center justify-content-end ps-3 h-30px">
        <span *ngIf="listPurchaseInvoicesLine && listPurchaseInvoicesLine.length > 0"
          class="fw-bold line-clamp line-clamp-1" [innerHTML]="totalQuantity
                  | tranformValueNumber : 'B' | async"></span>
      </div>
    </td>
    <td class="w-15"></td>
    <td class="w-15">
      <div class="d-flex align-items-center justify-content-end ps-3 h-30px">
        <span *ngIf="listPurchaseInvoicesLine && listPurchaseInvoicesLine.length > 0"
          class="fw-bold line-clamp line-clamp-1" [innerHTML]="totalNetAmt
                  | tranformValueNumber : 'B' | async"></span>
      </div>
    </td>
    <td *ngIf="journal?.vatControl == '1'" class="w-15">
      <div class="d-flex align-items-center justify-content-end ps-3 h-30px">
        <span *ngIf="listPurchaseInvoicesLine && listPurchaseInvoicesLine.length > 0"
          class="fw-bold line-clamp line-clamp-1" [innerHTML]="totalVatAtm
                  | tranformValueNumber : 'B' | async"></span>
      </div>
    </td>
    <td class="w-40">
    </td>
  </tfoot>
</table>