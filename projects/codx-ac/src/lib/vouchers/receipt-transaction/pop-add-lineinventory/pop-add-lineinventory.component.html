<codx-form #form [headerText]="" [body]="body" [formModel]="dialog.formModel" [dialog]="dialog" [footer]="footer"
  subToolbarCss="text-end" [customToolbar]="subToolbar" [data]="inventoryJournalLine">
</codx-form>
<ng-template #subToolbar>
  <div class="w-100">
    <div class="d-flex align-items-center justify-content-between pt-2">
      <div class="d-flex justify-content-start me-2">
        <div class="mt-1 btn btn-icon btn-sm btn-primary btn-circle me-4 bg">
          <i *ngIf="type == 'add'" class="icon-add_box icon-16"></i>
          <i *ngIf="type == 'edit'" class="icon-edit_square icon-16"></i>
        </div>
        <div class="card-title">
          <div class="d-flex flex-column">
            <div class="dialog-title line-clamp line-clamp-1 me-3 text-uppercase">{{headerText}}</div>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-end">
        <div class="ms-2">
          <div class="btn btn-icon btn-sm btn-light-primary btn-circle bg" (click)="close()">
            <i class="icon-close icon-16"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
<ng-template #body>
  <ng-container *ngIf="form?.formGroup">
    <div class="row mt-5">
      <div class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="ItemID"></codx-label>
          <codx-input [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="itemID">
          </codx-input>
        </div>
      </div>
      <div class="col-8">
        <div class="form-group">
          <codx-label fiedName="ItemName" default="Tên mặt hàng" [formModel]="form.formModel"></codx-label>
          <codx-input type="text" [disabled]="true" [crrValue]="inventoryJournalLine.itemName" field="itemName">
          </codx-input>
        </div>
      </div>
    </div>
   
    <div class="p-5 bg-gray-100 border rounded-1">
    <div class="row">
      <div *ngIf="loadControl('IDIM0')" class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="IDIM0"></codx-label>
          <codx-input #idiM0 [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="idiM0">
          </codx-input>
        </div>
      </div>
      <div *ngIf="loadControl('IDIM1')" class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="IDIM1"></codx-label>
          <codx-input #idiM1 [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="idiM1">
          </codx-input>
        </div>
      </div>
      <div *ngIf="loadControl('IDIM2')" class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="IDIM2"></codx-label>
          <codx-input #idiM2 [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="idiM2">
          </codx-input>
        </div>
      </div>
      <div *ngIf="loadControl('IDIM3')" class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="IDIM3"></codx-label>
          <codx-input #idiM3 [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="idiM3">
          </codx-input>
        </div>
      </div>
      <div *ngIf="loadControl('IDIM4')" class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="IDIM4"></codx-label>
          <codx-input [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="idiM4">
          </codx-input>
        </div>
      </div>
      <div *ngIf="loadControl('IDIM5')" class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="IDIM5"></codx-label>
          <codx-input [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="idiM5">
          </codx-input>
        </div>
      </div>
      <div *ngIf="loadControl('IDIM6')" class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="IDIM6"></codx-label>
          <codx-input #idiM6 [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="idiM6">
          </codx-input>
        </div>
      </div>
      <div *ngIf="loadControl('IDIM7')" class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="IDIM7"></codx-label>
          <codx-input #idiM7 [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="idiM7">
          </codx-input>
        </div>
      </div>
      <div *ngIf="loadControl('IDIM8')" class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="IDIM8"></codx-label>
          <codx-input [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="idiM8">
          </codx-input>
        </div>
      </div>
      <div *ngIf="loadControl('IDIM9')" class="form-group mb-0">
        <codx-label [formModel]="form.formModel" fiedName="IDIM9"></codx-label>
        <codx-input [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
          field="idiM9">
        </codx-input>
      </div>
    </div>
  </div>

    <div class="row mt-3">
      <div class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="UMID"></codx-label>
          <codx-input [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="umid">
          </codx-input>
        </div>
      </div>
      <div class="col-2">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="Quantity"></codx-label>
          <codx-input [Group]="form.formGroup" [formModel]="form.formModel" (controlBlur)="calculateAtm($event)"
            field="quantity">
          </codx-input>
        </div>
      </div>
      <div class="col-2 ps-0">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="CostPrice"></codx-label>
          <codx-input [Group]="form.formGroup" [formModel]="form.formModel" (controlBlur)="calculateAtm($event)"
            field="costPrice">
          </codx-input>
        </div>
      </div>
      <div class="col-4">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" fiedName="CostAmt"></codx-label>
          <codx-input [Group]="form.formGroup" [formModel]="form.formModel" (valueChange)="valueChange($event)"
            field="costAmt">
          </codx-input>
        </div>
      </div>
    </div>
<hr />
  </ng-container>
</ng-template>
<ng-template #footer>
  <div class="d-flex justify-content-end me-3">
    <div class="ms-2">
      <button type="button" class="btn btn-light-primary" (click)="onSaveAdd()">
        <codx-label class="fs-6 fw-normal" fiedName="lblSave" [formName]="formModel?.formName"
          [gridViewName]="formModel?.gridViewName" default="Lưu & thêm"></codx-label>
      </button>
    </div>
    <div class="ms-2">
      <button type="button" class="btn btn-primary" style="min-width: 60px" (click)="onSave()">
        <codx-label class="fs-6 fw-normal" fiedName="lblSave" [formName]="formModel?.formName"
          [gridViewName]="formModel?.gridViewName" default="Lưu"></codx-label>
      </button>
    </div>
  </div>
</ng-template>