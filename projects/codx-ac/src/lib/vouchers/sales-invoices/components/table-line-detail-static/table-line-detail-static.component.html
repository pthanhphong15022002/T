<div #myTable class="table-responsive h-100">
  <table class="table table-hover h-100">
    <thead>
      <tr>
        <th scope="col" *ngFor="let col of columns" [class]="col.headerClass">
          <codx-label
            [fiedName]="'th' + col.labelName"
            [default]="col.headerText"
            [formModel]="formModel"
          ></codx-label>
        </th>
      </tr>
    </thead>

    <tbody>
      <tr *ngIf="loading">
        <td colspan="100%" style="text-align: center; vertical-align: middle">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </td>
      </tr>

      <tr *ngIf="lines?.length === 0 && !loading">
        <td colspan="100%" style="text-align: center; vertical-align: middle">
          <img
            src="../assets/themes/sys/default/img/DataEmpty.svg"
            class="w-200px"
          />
          <div class="fw-bold mt-1">
            {{ "SYS011" | mssg | async }}
          </div>
        </td>
      </tr>
    </tbody>

    <tbody>
      <ng-container *ngFor="let line of lines; index as i">
        <ng-container
          *ngTemplateOutlet="trTemplate; context: { $implicit: line, index: i }"
        ></ng-container>
      </ng-container>

      <tr *ngIf="!hasVerticalScrollbar" class="h-100"></tr>
    </tbody>

    <tfoot>
      <tr>
        <th *ngFor="let col of columns" [class]="col.footerClass">
          <codx-label
            *ngIf="col.footerText"
            [fiedName]="'tf' + col.labelName"
            [formModel]="formModel"
            [default]="col.footerText"
          ></codx-label>

          <ng-container *ngIf="col.hasSum">
            {{
              col.sumFormat === "Currency"
                ? (col.sum | currency : "" : "")
                : col.sum
            }}
          </ng-container>
        </th>
      </tr>
    </tfoot>
  </table>
</div>
