<codx-layout-add #form [title]="title" [tabInfo]="tabInfo" [footer]="footer" [formModel]="dialog.formModel"
    [dialog]="dialog" (setTitle)="setTitle($event)"  [tabContent]="[tabDescription
    ,tabConversioninformation]" [data]="unitsofmearsure">
</codx-layout-add>
<ng-template #tabDescription>
    <div class="row mx-0 mt-3">
        <div class="col-6 ps-0">
          <div class="form-group">
            <codx-label
            [formModel]="form.formModel"
            fiedName="UMID"
            default="Mã đơn vị tính"
          ></codx-label>
            <codx-input      
                    [crrValue]="umid"           
                    [formModel]="form.formModel"
                    field="umid"
                    (valueChange)="valueChangeUMID($event)"
                  >
            </codx-input>
          </div>   
        </div>
      </div>
      <div class="form-group">
        <codx-label
            [formModel]="form.formModel"
            fiedName="UMName"
            default="Tên đơn vị tính"      
          ></codx-label>
          <codx-input
          [crrValue]="umName"
          field="umName"
          [formModel]="form.formModel"
          (valueChange)="valueChangeUMName($event)"
        >
        </codx-input>
      </div>
      <div class="row mx-0 mt-3">
        <div class="col-4 ps-0">
          <div class="form-group">
            <codx-label
            [formModel]="form.formModel"
            fiedName="RoundOff"
            default="Làm tròn số"
          ></codx-label>
            <codx-input    
                    [crrValue]="form.data.roundOff"             
                    [formModel]="form.formModel"
                    field="roundOff"
                    (valueChange)="valueChange($event)" 
                    [min]="0"                      
                  >
            </codx-input>
          </div>   
        </div>
        <div class="col-8 pe-0">
          <div class="form-group">
            <codx-label
            [formModel]="form.formModel"
            fiedName="RoundType"
            default="Cách thức làm tròn"      
          ></codx-label>
          <codx-input
          [crrValue]="form.data.roundType"            
          type="valuelist"
          refValue="L0093"
          field="roundType"
          [formModel]="form.formModel"
          (valueChange)="valueChange($event)"
            >
        </codx-input>
          </div>
        </div>
      </div>
      <div class="form-group">
        <codx-input
        [checked]="form.data.stop"
        field="stop"
        [formModel]="form.formModel"
        (valueChange)="valueChange($event)"
      >
      </codx-input>
        <codx-label
            [formModel]="form.formModel"
            fiedName="Stop"
            default="Ngừng sử dụng"      
          ></codx-label>   
      </div>
</ng-template>
<ng-template #tabConversioninformation>
    <div class="row mx-0 mt-3">
        <div class="col-11 ps-0">
          <div class="form-group">
            <codx-label
            [formModel]="form.formModel"
            default="Thông tin quy đổi"
          ></codx-label>
          </div>   
        </div>
        <div class="col-1 ps-0">
          <div class="form-group">
            <span (click)="openPopupConversion()">
                <i class="fa-sharp fa-solid fa-plus"></i>
                <i class="fa-solid fa-chart-column"></i>
            </span>        
          </div>
        </div>
      </div> 
      <div *ngFor="let item of objectUmconversion">
        <div class="row mx-0 mt-3">
          <div class="col-11 ps-0">
            <div class="form-group">
              <div class="fw-bold text-dark fs-5">
                <span>{{item.itemID}}</span>
              </div>
              <div class="text-gray-500">
                1 {{item.fromUMID}} = {{item.conversion}} {{item.toUMID}}
              </div>
            </div>   
          </div>
          <div class="col-1 ps-0">
            <div class="form-group">
              <div class="d-flex align-items-center">
                <span (click)="editobjectConversion(item)" class="icon-edit icon-16 py-1"></span>
                <span (click)="deleteobjectConversion(item)"  class="icon-delete icon-16"></span>
          </div>      
            </div>
          </div>
        </div> 
    </div>
</ng-template>
<ng-template #footer>
    <div class="d-flex justify-content-end">
        <button type="button" class="btn btn-primary" (click)="onSave()">
            <codx-label
                [formModel]="form.formModel"
                default="Lưu"></codx-label>
        </button>
    </div>
</ng-template>
