<codx-views
  #view
  [views]="views"
  service="IV"
  assemblyName="ERM.Business.IV"
  entityName="IV_Items"
  className="ItemsBusiness"
  method="GetItemsAsync"
  [button]="btnAdd"
  (buttonClick)="onClickAdd($event)"
>
</codx-views>

<ng-template #header1Template>
  <codx-label
    fiedName="lblItemHeader"
    [formModel]="view.formModel"
    default="Mặt hàng"
  ></codx-label>
</ng-template>

<ng-template #header2Template>
  <codx-label
    fiedName="inventModelID"
    [formModel]="view.formModel"
  ></codx-label>
</ng-template>

<ng-template #header3Template>
  <codx-label fiedName="dimGroupID" [formModel]="view.formModel"></codx-label>
</ng-template>

<ng-template #column1Template let-data>
  <div class="d-flex gap-3 align-items-center p-3">
    <codx-img
      [funcId]="view.formModel.funcID"
      [objectId]="data?.itemID"
      [objectType]="view.formModel.entityName"
      [width]="75"
      [imgOn]="data?.modifiedOn"
      [isDefaulImg]="true"
      imageType="square"
    >
    </codx-img>

    <div class="d-flex flex-column gap-2">
      <div class="fw-bold">{{ data?.itemName }} - {{ data?.itemID }}</div>
      <div class="fs-8 d-flex gap-3">
        <div>
          <codx-label
            fiedName="itemGroupID"
            [formModel]="view.formModel"
          ></codx-label
          >:&nbsp;
          <span class="text-primary">{{ data?.itemGroupID }}</span>
        </div>
        •
        <div>
          <codx-label
            fiedName="productLineID"
            [formModel]="view.formModel"
          ></codx-label
          >:&nbsp;
          <span class="text-primary">{{ data?.productLineID }}</span>
        </div>
      </div>
      <codx-vll
        [formModel]="view.formModel"
        field="ItemType"
        [showText]="true"
        [showBgColor]="true"
        [value]="data?.itemType"
        class="badge badge-danger align-self-start"
      >
      </codx-vll>
    </div>
  </div>
</ng-template>

<ng-template #column2Template let-data>
  <codx-label
    fiedName="lblPricingMethod"
    [formModel]="view.formModel"
    default="Phương pháp tính giá"
  ></codx-label
  >:&nbsp;
  <span
    class="fw-bold"
    [innerHTML]="
      data?.inventModelID
        | formatvalue : view.formModel : 'inventModelID'
        | async
    "
  ></span>
</ng-template>

<ng-template #column3Template let-data>
  <codx-label
    fiedName="lblFollow"
    [formModel]="view.formModel"
    default="Theo dõi"
  ></codx-label
  >:&nbsp;
  <span
    class="fw-bold"
    [innerHTML]="
      data?.dimGroupID | formatvalue : view.formModel : 'dimGroupID' | async
    "
  ></span>
</ng-template>

<ng-template #moreTemplate let-data>
  <codx-mfunc
    [dataItem]="data"
    [formModel]="view.formModel"
    (clickMF)="onClickMF($event, data)"
    [isBookMark]="true"
    type="view"
  ></codx-mfunc>
</ng-template>
