<codx-views
  #view
  [views]="views"
  service="IV"
  assemblyName="ERM.Business.IV"
  entityName="IV_Items"
  className="ItemsBusiness"
  method="GetItemsAsync"
  [button]="btnAdd"
  (buttonClick)="handleClickAdd($event)"
>
</codx-views>

<ng-template #header1>
  <codx-label
    fiedName="lblItemHeader"
    [formModel]="view.formModel"
    default="Mặt hàng"
  ></codx-label>
</ng-template>

<ng-template #header2>
  <codx-label
    fiedName="inventModelID"
    [formModel]="view.formModel"
  ></codx-label>
</ng-template>

<ng-template #header3>
  <codx-label fiedName="dimGroupID" [formModel]="view.formModel"></codx-label>
</ng-template>

<ng-template #itemTemplate let-data>
  <tr>
    <td>
      <div class="d-flex gap-3 align-items-center">
        <div>
          <codx-img
            [funcId]="view.formModel.funcID"
            [objectId]="data?.itemID"
            [objectType]="view.formModel.entityName"
            [width]="75"
            [imgOn]="data?.modifiedOn"
            [isDefaulImg]="true"
            imageType="square"
          >
          </codx-img>
        </div>

        <div>
          <div class="fw-bold mb-1">
            {{ data?.itemName }} - {{ data?.itemID }}
          </div>
          <div class="fs-8 mb-3">
            <div class="mb-1">
              <codx-label
                fiedName="itemGroupID"
                [formModel]="view.formModel"
              ></codx-label
              >:&nbsp;
              <span class="text-primary">{{ data?.itemGroupID }}</span>
              &nbsp;&nbsp;&nbsp;•&nbsp;&nbsp;&nbsp;
              <codx-label
                fiedName="productLineID"
                [formModel]="view.formModel"
              ></codx-label
              >:&nbsp;
              <span class="text-primary">{{ data?.productLineID }}</span>
            </div>
            <codx-vll
              [showText]="true"
              [showBgColor]="true"
              name="AC018"
              [value]="data?.itemType"
              class="badge badge-danger"
            >
            </codx-vll>
          </div>
        </div>
      </div>
    </td>
    <td class="fs-8">
      <codx-label
        fiedName="lblPricingMethod"
        [formModel]="view.formModel"
        default="Phương pháp tính giá"
      ></codx-label
      >:&nbsp;
      <b>{{
        inventoryModels
          | nameById : data?.inventModelID : "InventModelID" : "InventModelName"
      }}</b>
    </td>
    <td class="fs-8">
      <codx-label
        fiedName="lblFollow"
        [formModel]="view.formModel"
        default="Theo dõi"
      ></codx-label
      >:&nbsp;
      <b>{{
        dimGroups | nameById : data?.dimGroupID : "DimGroupID" : "DimGroupName"
      }}</b>
    </td>
    <td>
      <codx-mfunc
        [dataItem]="data"
        [formModel]="view.formModel"
        (clickMF)="handleClickMoreFuncs($event, data)"
        [isBookMark]="true"
        type="view"
      ></codx-mfunc>
    </td>
  </tr>
</ng-template>

<ng-template #moreTemplate let-data>
  <codx-mfunc
    [dataItem]="data"
    [formModel]="view.formModel"
    (clickMF)="handleClickMoreFuncs($event, data)"
    [isBookMark]="true"
    type="view"
  ></codx-mfunc>
</ng-template>
