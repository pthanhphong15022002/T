<codx-layout-add
  #form
  [title]="title"
  [tabInfo]="tabInfo"
  [footer]="footer"
  [formModel]="dialog.formModel"
  [dialog]="dialog"
  (setTitle)="setTitle()"
  [openMore]="true"
  [tabContent]="[tabDescription, tabestablish]"
  [data]="chartOfAccounts"
>
</codx-layout-add>
<ng-template #tabDescription>
  <ng-container *ngIf="form?.formGroup">
    <div class="row">
      <div class="col-6">
        <div class="form-group">
          <codx-label
            [formModel]="form.formModel"
            fiedName="AccountID"
          ></codx-label>
          <codx-input
            [Group]="form.formGroup"
            [crrValue]="chartOfAccounts.accountID"
            [formModel]="form.formModel"
            field="accountID"
            (valueChange)="valueChange($event)"
          >
          </codx-input>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <codx-label
            [formModel]="form.formModel"
            fiedName="ParentID"
          ></codx-label>
          <codx-input
            [Group]="form.formGroup"
            [formModel]="form.formModel"
            [crrValue]="chartOfAccounts.parentID"
            field="parentID"
            (valueChange)="valueChange($event)"
          >
          </codx-input>
        </div>
      </div>
    </div>
    <div class="form-group">
      <codx-label
        [formModel]="form.formModel"
        fiedName="AccountName"
      ></codx-label>
      <codx-input
        [Group]="form.formGroup"
        field="accountName"
        [crrValue]="chartOfAccounts.accountName"
        [formModel]="form.formModel"
        (valueChange)="valueChange($event)"
      >
      </codx-input>
    </div>
    <div class="form-group">
      <codx-label
        [formModel]="form.formModel"
        fiedName="AccountType"
      ></codx-label>
      <codx-input
        [Group]="form.formGroup"
        [formModel]="form.formModel"
        [crrValue]="chartOfAccounts.accountType"
        field="accountType"
        (valueChange)="valueChange($event)"
      >
      </codx-input>
    </div>
    <div class="d-flex align-items-center mb-2">
      <div class="me-2">
        <codx-input
          type="switch"
          field="detail"
          (valueChange)="valueChange($event)"
          [checked]="chartOfAccounts.detail"
        >
        </codx-input>
      </div>
      <codx-label [formModel]="form.formModel" fiedName="Detail"></codx-label>
    </div>
    <div class="d-flex align-items-center mb-2">
      <div class="me-2">
        <codx-input
          type="switch"
          field="multiCurrency"
          (valueChange)="valueChange($event)"
          [checked]="chartOfAccounts.multiCurrency"
        >
        </codx-input>
      </div>
      <codx-label
        [formModel]="form.formModel"
        fiedName="MultiCurrency"
      ></codx-label>
    </div>
    <div class="d-flex align-items-center mb-4">
      <div class="me-2">
        <codx-input
          type="switch"
          field="subLGControl"
          (valueChange)="valueChange($event)"
          [checked]="chartOfAccounts.subLGControl"
        >
        </codx-input>
      </div>
      <codx-label
        [formModel]="form.formModel"
        fiedName="SubLGControl"
      ></codx-label>
    </div>
    <div class="row">
      <div class="col-6">
        <div class="form-group">
          <codx-label
            [formModel]="form.formModel"
            fiedName="SubLGType"
          ></codx-label>
          <codx-input
            [Group]="form.formGroup"
            [formModel]="form.formModel"
            [crrValue]="chartOfAccounts.subLGType"
            field="subLGType"
            (valueChange)="valueChange($event)"
          >
          </codx-input>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <codx-label
            [formModel]="form.formModel"
            fiedName="ObjectID"
          ></codx-label>
          <codx-input
            [Group]="form.formGroup"
            [formModel]="form.formModel"
            field="objectID"
            [crrValue]="chartOfAccounts.objectID"
            (valueChange)="valueChange($event)"
          >
          </codx-input>
        </div>
      </div>
    </div>
    <div class="d-flex align-items-center mb-2">
      <div class="me-2">
        <codx-input
          type="switch"
          field="invoiceDetail"
          (valueChange)="valueChange($event)"
          [checked]="chartOfAccounts.invoiceDetail"
        >
        </codx-input>
      </div>
      <codx-label
        [formModel]="form.formModel"
        fiedName="InvoiceDetail"
      ></codx-label>
    </div>
    <div class="form-group">
      <codx-label [formModel]="form.formModel" fiedName="Note"></codx-label>
      <codx-input
        [formModel]="form.formModel"
        [crrValue]="chartOfAccounts.note"
        field="note"
        (valueChange)="valueChange($event)"
      >
      </codx-input>
    </div>
    <div class="d-flex align-items-center">
      <div class="me-2">
        <codx-input
          [formModel]="form.formModel"
          field="stop"
          (valueChange)="valueChange($event)"
          [checked]="form.data.stop"
        >
        </codx-input>
      </div>
      <codx-label [formModel]="form.formModel" fiedName="Stop"></codx-label>
    </div>
  </ng-container>
</ng-template>
<ng-template #tabestablish>
  <ng-container *ngIf="form?.formGroup">
    <div class="mb-3 text-primary fw-bold fs-6">
      <codx-label
        [formModel]="form.formModel"
        default="Ràng buộc dữ liệu"
      ></codx-label>
    </div>
    <div class="form-group">
      <codx-label
        [formModel]="form.formModel"
        fiedName="DiM1Control"
      ></codx-label>
      <codx-input
        [Group]="form.formGroup"
        [formModel]="form.formModel"
        [crrValue]="chartOfAccounts.diM1Control"
        field="diM1Control"
        (valueChange)="valueChange($event)"
      >
      </codx-input>
    </div>
    <div class="form-group">
      <codx-label
        [formModel]="form.formModel"
        fiedName="ProjectControl"
      ></codx-label>
      <codx-input
        [Group]="form.formGroup"
        [formModel]="form.formModel"
        [crrValue]="chartOfAccounts.projectControl"
        field="projectControl"
        (valueChange)="valueChange($event)"
      >
      </codx-input>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label
            [formModel]="form.formModel"
            fiedName="DiM2Control"
          ></codx-label>
          <codx-input
            [Group]="form.formGroup"
            [formModel]="form.formModel"
            [crrValue]="chartOfAccounts.diM2Control"
            field="diM2Control"
            (valueChange)="valueChange($event)"
          >
          </codx-input>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <codx-label
            [formModel]="form.formModel"
            fiedName="DiM3Control"
          ></codx-label>
          <codx-input
            [Group]="form.formGroup"
            [formModel]="form.formModel"
            [crrValue]="chartOfAccounts.diM3Control"
            field="diM3Control"
            (valueChange)="valueChange($event)"
          >
          </codx-input>
        </div>
      </div>
    </div>
    <div class="form-group">
      <codx-label
        [formModel]="form.formModel"
        fiedName="LoanControl"
      ></codx-label>
      <codx-input
        [Group]="form.formGroup"
        [formModel]="form.formModel"
        [crrValue]="chartOfAccounts.loanControl"
        field="loanControl"
        (valueChange)="valueChangeloan($event)"
      >
      </codx-input>
    </div>
    <div class="form-group">
      <codx-label
        [formModel]="form.formModel"
        fiedName="AssetControl"
      ></codx-label>
      <codx-input
        [Group]="form.formGroup"
        [formModel]="form.formModel"
        [crrValue]="chartOfAccounts.assetControl"
        field="assetControl"
        (valueChange)="valueChange($event)"
      >
      </codx-input>
    </div>
    <div class="mb-3 text-primary fw-bold fs-6">
      <codx-label
        [formModel]="form.formModel"
        default="Kiểm soát ghi số"
      ></codx-label>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label
            [formModel]="form.formModel"
            fiedName="BudgetControl"
          ></codx-label>
          <codx-input
            [Group]="form.formGroup"
            [formModel]="form.formModel"
            [crrValue]="chartOfAccounts.budgetControl"
            field="budgetControl"
            (valueChange)="valueChange($event)"
          >
          </codx-input>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <codx-label
            [formModel]="form.formModel"
            fiedName="balControl"
          ></codx-label>
          <codx-input
            [Group]="form.formGroup"
            [formModel]="form.formModel"
            [crrValue]="chartOfAccounts.balControl"
            field="balControl"
            (valueChange)="valueChange($event)"
          >
          </codx-input>
        </div>
      </div>
    </div>
  </ng-container>
</ng-template>
<ng-template #footer>
  <div class="d-flex justify-content-end">
    <button type="button" class="btn btn-primary" (click)="onSave()">
      <codx-label
        fiedName="lblSave"
        [formName]="formModel?.formName"
        [gridViewName]="formModel?.gridViewName"
        default="Lưu"
      ></codx-label>
    </button>
  </div>
</ng-template>
