<codx-form #form [headerText]="headerText" [body]="body" [formModel]="dialog.formModel" [dialog]="dialog"
  [footer]="footer" [data]="address" subToolbarCss="text-end">
</codx-form>
<ng-template #body>
  <div class="form-group">
    <codx-label [formModel]="form.formModel" fiedName="AdressType" default="Loại địa chỉ"></codx-label>
    <codx-input [crrValue]="adressType" type="valuelist" refValue="AC015" field="adressType"
      (valueChange)="valueChangeAdressType($event)">
    </codx-input>
  </div>
  <div class="form-group">
    <codx-label [formModel]="form.formModel" fiedName="AdressName" default="Địa chỉ"></codx-label>
    <codx-input [crrValue]="adressName" [formModel]="form.formModel" field="adressName"
      (valueChange)="valueChangeAdressName($event)">
    </codx-input>
  </div>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="CountryID" default="Quốc gia"></codx-label>
        <codx-input [crrValue]="countryID" type="combobox" refValue="Countries" field="countryID"
          (valueChange)="valueChangeCountryID($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="ProvinceID" default="Tỉnh/thành"></codx-label>
        <codx-input [crrValue]="provinceID" type="combobox" refValue="Provinces" field="provinceID"
          (valueChange)="valueChangeProvinceID($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
<<<<<<< HEAD
        <codx-label
        [formModel]="form.formModel"
        fiedName="Note"
        default="Ghi chú"      
      ></codx-label>
      <codx-input 
      [crrValue]="form.data != null ? form.data.note : ''"
      [formModel]="form.formModel"
      field="note"
      (valueChange)="valueChange($event)"
      >
    </codx-input>
      </div>
      <div class="row mx-0 mt-3">
        <div class="col-11 ps-0">
          <div class="form-group">
            <codx-label
            [formModel]="form.formModel"
            default="Người liên hệ"           
          ></codx-label>
          </div>   
        </div>
        <div class="col-1 ps-0">
          <div class="form-group">
            <span (click)="openPopupContact()">
              <i class="fa-sharp fa-solid fa-plus"></i>
              <i class="fa-solid fa-user-group"></i>
            </span>        
          </div>
        </div>
      </div>
      <div *ngFor="let item of objectContactAddress">
      <div class="row pb-5" *ngIf="item.reference == address.recID" >
        <div class="col-6 ps-0">
          <div class="d-flex align-items-top">
            <div class="me-4">
              <div>
                <codx-img [objectId]="item?.recID" [objectName]="item?.contactName"
                [objectType]="formModel?.entityName" [width]="50">
                </codx-img>
              </div>
=======
        <codx-label [formModel]="form.formModel" fiedName="DistrictID" default="Quận/huyện"></codx-label>
        <codx-input [crrValue]="districtID" type="combobox" refValue="DistrictsAC" field="districtID"
          (valueChange)="valueChangeDistrictID($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="PostalCode" default="Phường/xã"></codx-label>
        <codx-input [crrValue]="postalCode" type="combobox" refValue="PostalCodes" field="postalCode"
          (valueChange)="valueChangePostalCode($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="form-group">
    <codx-label [formModel]="form.formModel" fiedName="Note" default="Ghi chú"></codx-label>
    <codx-input [crrValue]="form.data != null ? form.data.note : ''" [formModel]="form.formModel" field="note"
      (valueChange)="valueChange($event,'note')">
    </codx-input>
  </div>
  <div class="d-flex align-items-center justify-content-between mb-3">
    <codx-label class="fw-bold text-dark" [formModel]="form.formModel" default="Người liên hệ"></codx-label>
    <button type="button" class="btn btn-sm btn-icon btn-light-primary" (click)="openPopupContact()">
      <i class="icon-person_add icon-16"></i>
    </button>
  </div>
  <div *ngFor="let item of objectContactAddress">
    <div class="mb-3 d-flex align-items-top justify-content-between" *ngIf="item.reference == address.recID">
      <div class="d-flex align-items-top">
        <div class="me-3">
          <codx-img [objectId]="item?.recID" [objectName]="item?.contactName" [objectType]="formModel?.entityName"
            [width]="30">
          </codx-img>
        </div>
        <div class="d-flex flex-column space_personal">
          <div class="fw-bold text-dark fs-6">
            <span>{{item.contactName}}</span>
          </div>
          <div class="text-gray-600">
            {{item.jobTitle}}
          </div>
          <div class="d-flex align-items-center">
            <div class="d-flex me-3">
              <span class="icon-email icon-16 me-1 text-gray-500"></span>
              <span>{{item.email}}</span>
>>>>>>> 86837da71b4c827e9963cf3c30de901215798236
            </div>
            <div class="d-flex">
              <span class="icon-phone_android icon-16 me-1 text-gray-500"></span>
              <span>{{item.phone}}</span>
            </div>
          </div>
        </div>
      </div>
<<<<<<< HEAD
      </div>   
      <div class="row mx-0 mt-3">
        <div class="col-1 ps-0">
          <div class="form-group">
           
          </div>   
        </div>
        <div class="col-6 ps-0">
          <div class="form-group">
           
          </div>   
        </div>
      </div>
</ng-template>
<ng-template #footer>
  <div class="d-flex justify-content-end mt-1 me-3">
    <div class="col-8 ps-0">
      <div class="d-flex">
        <div class="col-1 ps-0"> 
          <codx-input
          [checked]="form.data != null ? form.data.isDefault : false"
          type="switch"
          field="isDefault"
          (valueChange)="valueChange($event)"
        >
        </codx-input>  
      </div>  
      <div class="col-2 ps-0"> 
        <codx-label
        [formModel]="form.formModel"
        fiedName="IsDefault"
        default="Mặc định"
      ></codx-label>
    </div>     
      </div>
    </div>
    <div class="ms-2">
      <button type="button" class="btn btn-light-primary">
        <codx-label class="fs-6 fw-normal" fiedName="lblSave" [formName]="formModel?.formName"
          [gridViewName]="formModel?.gridViewName" default="Lưu & thêm"></codx-label>
      </button>
    </div>
    <div class="ms-2">
      <button type="button" class="btn btn-primary" style="min-width: 60px;" (click)="onSave()">
        <codx-label class="fs-6 fw-normal" fiedName="lblSave" [formName]="formModel?.formName"
          [gridViewName]="formModel?.gridViewName" default="Lưu"></codx-label>
      </button>
    </div>
  </div>
=======
      <div class="d-flex align-items-center">
        <span (click)="editobject(item,'datacontact')" class="icon-edit icon-16 py-1"></span>
        <span (click)="deleteobject(item,'datacontact')" class="icon-delete icon-16"></span>
      </div>
    </div>
  </div>
  <div class="d-flex align-items-center">
    <codx-input class="me-2" [checked]="form.data != null ? form.data.isDefault : false" type="switch" field="isDefault"
      (valueChange)="valueChange($event,'isDefault')">
    </codx-input>
    <codx-label [formModel]="form.formModel" fiedName="IsDefault" default="Mặc định"></codx-label>
  </div>
</ng-template>
<ng-template #footer>

  <div class="d-flex justify-content-end">
    <button type="button" class="btn btn-primary">
      <codx-label [formName]="formModel?.formName" [gridViewName]="formModel?.gridViewName"
        default="Lưu & Thêm"></codx-label>
    </button>
    <button (click)="onSave()" type="button" class="btn btn-primary">
      <codx-label [formName]="formModel?.formName" [gridViewName]="formModel?.gridViewName" default="Lưu"></codx-label>
    </button>
  </div>
>>>>>>> 86837da71b4c827e9963cf3c30de901215798236
</ng-template>