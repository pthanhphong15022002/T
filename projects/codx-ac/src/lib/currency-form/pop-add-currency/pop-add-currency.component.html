<codx-form #form [headerText]="headerText" [body]="body" [formModel]="dialog.formModel" [dialog]="dialog"
  [footer]="footer" [data]="currencies" subToolbarCss="text-end">
</codx-form>

<ng-template popup adde #body let-data>
  <div class="row mt-3">
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="CurrencyID" default="Mã tiền tệ"></codx-label>
        <codx-input [formModel]="form.formModel" field="currencyID" [crrValue]="curID"
          (valueChange)="valueChangecurID($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="Symbol" default="Ký hiệu"></codx-label>
        <codx-input field="symbol" [crrValue]="symbol" [formModel]="form.formModel"
          (valueChange)="valueChangesymbol($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="form-group">
    <codx-label [formModel]="form.formModel" fiedName="CurrencyName" default="Tên tiền tệ"></codx-label>
    <codx-input field="currencyName" [formModel]="form.formModel" [crrValue]="curName"
      (valueChange)="valueChangecurName($event)">
    </codx-input>
  </div>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="TranslateName" default="Phát âm"></codx-label>
        <codx-input field="translateName" [crrValue]="form.data.translateName" [formModel]="form.formModel"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="PrecisionName" default="Đọc số nguyên"></codx-label>
        <codx-input field="precisionName" [crrValue]="form.data.precisionName" [formModel]="form.formModel"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="PRoundOff" default="Số lẻ đơn giá"></codx-label>
        <codx-input field="pRoundOff" [crrValue]="form.data.pRoundOff" [formModel]="form.formModel"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="ARoundOff" default="Số lẻ thành tiền"></codx-label>
        <codx-input field="aRoundOff" [crrValue]="form.data.aRoundOff" [formModel]="form.formModel"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="form-group d-flex">
    <span class="me-2">
      <codx-input [checked]="form.data.stop" field="stop" [formModel]="form.formModel"
        (valueChange)="valueChange($event)">
      </codx-input>
    </span>
    <codx-label [formModel]="form.formModel" fiedName="Stop" default="Ngưng sử dụng"></codx-label>
  </div>
  <div class="d-flex align-items-center justify-content-between mb-4">
    <codx-label class="text-primary fw-bold fs-6" [formModel]="form.formModel" default="Tỷ giá"></codx-label>
    <div class="d-flex">
      <span type="button" class="btn btn-icon btn-primary" (click)="openPopup()">
        <i class="icon-addchart"></i>
      </span>
      <span type="button" class="btn btn-icon btn-primary ms-2" (click)="opensetting()">
        <i class="icon-settings"></i>
      </span>
    </div>
  </div>
  <div *ngFor="let item of objectExchange" class="row border-bottom pt-3 pb-2">
    <div class="col-3 d-flex align-items-center">
      <div class="text-gray-600" [innerHTML]="item.toDate | date:'dd/MM/yyyy'"></div>
    </div>
    <div class="col-7 d-flex align-items-center">
      <div class="text-dark fw-bold" [innerHTML]="item.exchangeRate"></div>
    </div>
    <div class="col-2 d-flex align-items-center justify-content-end">
      <span type="button" class="btn btn-icon btn-sm btn-light-primary" (click)="editExchangerate(item)">
        <i class="icon-edit icon-16"></i>
      </span>
      <span type="button" class="btn btn-icon btn-sm btn-light-danger ms-1" (click)="deleteExchangerate(item)">
        <i class="icon-delete icon-16"></i>
      </span>
    </div>
  </div>
</ng-template>
<ng-template #footer>
  <div class="d-flex justify-content-end mt-1 me-3">
    <div class="ms-2">
      <button type="button" class="btn btn-light-primary">
        <codx-label class="fs-6 fw-normal" fiedName="lblSave" default="Lưu & thêm"></codx-label>
      </button>
    </div>
    <div class="ms-2">
      <button type="button" class="btn btn-primary" style="min-width: 60px;" (click)="onSave()">
        <codx-label class="fs-6 fw-normal" fiedName="lblSave" default="Lưu"></codx-label>
      </button>
    </div>
  </div>
</ng-template>