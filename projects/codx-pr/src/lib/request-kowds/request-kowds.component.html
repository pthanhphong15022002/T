<codx-views #view [views]="views"  [service]="service" [assemblyName]="assemblyName" [formModel]="formModel"
  [entityName]="entity" [className]="className" [method]="method" 
  (selectedChange)="changeItemDetail($event)" [selectedFirst]="true" (clickMF)="clickMF($event, itemDetail)"
  (changeDataMF)="changeDataMF($event, itemDetail)">
</codx-views>
<ng-template #itemTemplate let-data>
  <div class="d-flex flex-row">
    <div class="d-flex justify-content-center align-items-center">
      <span class="mx-2 bg-success rounded-circle dowCode d-flex flex-column justify-content-center align-items-center text-light">
        <span class="fs-4" [innerHTML]="data?.dowCode | substring : 0:2:true"> 
        </span>
        <span class=" fs-6" [innerHTML]="data?.dowCode | substring : 0 : 4" >
        </span>
      </span>
    </div>
    <div class="flex-grow w-100">
      <codx-temp-full cardCss="card-template border-bottom p-3" [typeMF]="'hover'" [title]="data?.requestName"
      [titleCss]="'fw-bold fs-6 mb-1'" [subTitleTmp]="subTitleTmp"
      [descTmp]="descTmp"
      [formModel]="view?.formModel" (clickMF)="clickMF($event, data)" typeMF="hover" [dataItem]="data"
      (changeDataMF)="changeDataMF($event, data)">
    </codx-temp-full>
    </div>
    
  </div>

</ng-template>
<ng-template #subTitleTmp let-data>
  <div class="pb-1">
    <codx-label class="text-gray-600" name="lblSendDate" default="Ngày gửi: " [formName]="funcList?.formName"
      [gridViewName]="funcList?.gridViewName"></codx-label>
    <span [innerHTML]="data?.createdOn | fmDT : 'dmy'"></span>
  </div>
</ng-template>
<ng-template #descTmp let-data>
  <div class="pb-1">
    <codx-vll [showText]="true" [showBgColor]="true" [name]="'HRS102a'" [value]="data?.approveStatus"
    class="badge badge-light badge-md fs-7">
  </codx-vll>
    <span *ngIf="data?.approveStatus =='5' && data?.approvedOn"  class="text-gray-600"  [innerHTML]="data?.approvedOn | fmDT : 'dmy'"></span>
  </div>
</ng-template>

<ng-template #panelRight>
  <view-detail-request-kowds #viewdetail  [recID]="selectRecID" [funcID]="funcID">
  </view-detail-request-kowds>
</ng-template>

<!-- [predicate]="'IsTemplate=@0'"
  [dataValue]="false" -->
<ng-template #baseHeaderRight let-data>
  <codx-vll class="badge" [name]="'ES003'" [value]="data?.approveStatus" [showText]="true" [showBgColor]="true">
  </codx-vll>
</ng-template>