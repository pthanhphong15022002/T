<codx-views
  #view
  [views]="views"
  [selectedFirst]="true"
  idField="recID"
  [button]="buttonAdd"
  (selectedChange)="onSelectionChanged($event)"
  (buttonClick)="btnClick($event)"
  (clickMF)="clickMF($event, itemSelected)"
  >
  <!-- (viewChanged)="viewChanged($event)" -->
<!-- service="PR"
assemblyName="ERM.Business.PR"
className="KowDsBusiness"
method="LoadDataAsync" -->
</codx-views>

<!-- <ng-template #tempTree let-data>
    <div class="d-flex align-items-top py-1">
      <i class="icon-home me-2"></i>
      <span>{{ data.orgUnitName }}</span>
    </div>
  </ng-template> -->

  <ng-template #leftPanel let-data>
    <codx-listview
    id="chartOrg"
    #chartOrg
    [pageSize]="10"
    [itemTemplate]="tempTree"
    funcId=""
    entityName="HR_OrganizationUnits"
    service="HR"
    type="treeView"
    assemblyName="ERM.Business.HR"
    className="OrganizationUnitsBusiness"
    textField="orgUnitName"
    gridViewName="grvOrganizationUnits"
    formName="OrganizationUnits"
    [enableCheck]="false"
    [method]="'GetDataOrgAsync'"
    idField="orgUnitID"
    [dataService]="dtService"
    (onSelectionChanged)="onSelectionChangedTreeOrg($event)"
  >
  </codx-listview>
  </ng-template>

  <ng-template #tempTree let-data>
    <div class="d-flex align-items-top py-1">
      <i class="icon-home me-2"></i>
      <span>{{ data.orgUnitName }}</span>
    </div>
  </ng-template>

  <ng-template #tmpPanelRight>
    <!-- <ng-container *ngIf="isAfterViewSelect == true && filterOrgUnit" >
      <lib-kowds-schedule
        [filterOrg] = "filterOrgUnit"
      >
      </lib-kowds-schedule>
    </ng-container> -->

    <ng-container *ngIf="gridDataSource.length > 0" >
      <codx-gridview-v2
      #calendarGrid
      [formModel]="view.formModel"
      [columnsGrid]="calendarGridColumns"
      [autoFitColumns]="false"
      [dataSource] = "gridDataSource"
      [hideMoreFunc]="true"
      (onDoubleClick)="doubleClickGrid($event)"
      ></codx-gridview-v2>
      <!-- [predicates]="'EmployeeID=@0'" -->
      <!-- [method]="'LoadDataAsync'" -->
      <!-- [className]="'DataBusiness'" -->
      <!-- [assemblyName]="'Core'" -->
      <!-- [service]="'HR'" -->
      <!-- [dataValues]="employeeID"
      [emptyTemplate]="emptyDataTemplate" -->
      <!-- [sorts]='[eAwardsSortModel1, eAwardsSortModel2]' -->
    </ng-container>
  </ng-template>

  <ng-template #tmpOrgChart>
    <hr-organization-orgchart
      [activeMFC]="true"
      [view]="view"
      [dataService]="view.dataService"
      [formModel]="view.formModel"
      [orgUnitID]="orgUnitID"
      [formModelEmployee]="formModelEmployee"
    ></hr-organization-orgchart>
  </ng-template>

  <ng-template #tempEmployee let-data>
  <div class="d-flex align-items-center border-bottom">
    <div class="p-3 ps-5"
    >
        <div class="d-flex align-items-center">
          <div class="d-flex flex-column me-4">
            <codx-img [funcId]="'HRT03a1'" [objectId]="data.employeeID" [objectName]="data.employeeName"
              objectType="HR_Employees" [width]="40" 
              [imageType]="'circle'"
              class="pic-emloyee"
              >
            </codx-img>
            <!-- <ng-container *ngIf="data.gender">
              <div class="mt-1 mx-auto">
                <codx-vll [name]="grvSetup['Gender']?.referedValue" [value]="data.gender" [showText]="true"
                  [showBgColor]="true" [classList]="'badge badge-sm badge-inline flex-wrap me-0'"></codx-vll>
              </div>
            </ng-container> -->
          </div>
          <div class="d-flex flex-column">
            <!-- <div #nameField [ngbTooltip]="nameField.scrollHeight > nameField.clientHeight? nameTooltip :null" -->
              <div
              class="align-items-center line-clamp line-clamp-1 mb-1">
              <span class="fw-bold fs-6 me-3 text-nowrap">
                {{data.employeeName}}</span>
              <i class="icon-qr_code_scanner text-danger icon-14 me-1"></i>
              <span class="text-danger">{{ data.employeeID }}</span>
              <ng-template #nameTooltip>
                <div class="inline-tooltip">
                  <span class="fw-bold fs-6 me-3 text-nowrap">
                    {{data.employeeName}}</span>
                  <i class="icon-qr_code_scanner text-danger icon-14 me-1"></i>
                  <span class="text-danger">{{ data.employeeID }}</span>
                </div>
              </ng-template>
            </div>
            <div>
              {{data.positionName}}
            </div>
            <!-- <div #positionField *ngIf="data.positionID" class="text-gray-600 mb-1 fs-7 line-clamp line-clamp-1">
              <span [ngbTooltip]="positionTooltip">{{data.positionName? data.positionName : data.positionID}}</span>
              <ng-template #positionTooltip>
                <div class="d-flex flex-column">
                  <span class="label-text-color">{{grvSetupHrEmp['PositionID'].headerText}}</span>
                  <span *ngIf="positionField.scrollHeight > positionField.clientHeight"
                    class="text-gray-600">{{data.positionName? data.positionName : data.positionID}}</span>
                </div>
              </ng-template>
            </div> -->

            <!-- <div #orgUnitField *ngIf="data.orgUnitID" class="text-gray-700 mb-1 line-clamp line-clamp-1">
              <span [ngbTooltip]="orgUnitTooltip">{{data.orgUnitName? data.orgUnitName : data.orgUnitID}}</span>
              <ng-template #orgUnitTooltip>
                <div class="d-flex flex-column">
                  <span class="label-text-color">{{grvSetup['OrgUnitID'].headerText}}</span>
                  <span *ngIf="orgUnitField.scrollHeight > orgUnitField.clientHeight"
                    class="text-gray-600">{{data.orgUnitName? data.orgUnitName : data.orgUnitID}}</span>
                </div>
              </ng-template>
            </div>
            <div #departmentField [ngbTooltip]="departmentTooltip"
              class="text-gray-600 align-items-center line-clamp line-clamp-1">
              <span *ngIf="data.departmentID != data.orgUnitID">
                {{data.departmentName? data.departmentName :data.departmentID}}</span>
              <span *ngIf="data?.departmentID && data.divisionID" class="text-gray-400 mx-1">,</span>
              <span *ngIf="data.divisionID">{{data.divisionName? data.divisionName: data.divisionID }}</span>
              <ng-template #departmentTooltip>
                <div class="d-flex flex-column">
                  <span class="label-text-color">{{grvSetup['DepartmentID'].headerText}}</span>
                  <span *ngIf="data.departmentID != data.orgUnitID 
                    && departmentField.scrollHeight > departmentField.clientHeight">
                    {{data.departmentName? data.departmentName :
                    data.departmentID}}</span>
                  <span *ngIf="data.divisionID && departmentField.scrollHeight > departmentField.clientHeight">
                    {{data.divisionName? data.divisionName: data.divisionID }}</span>
                </div>
              </ng-template>
            </div> -->
          </div>
        </div>
      </div>
      </div>
  </ng-template>

  <ng-template #tempDayData let-data>
    <span>
      {{data.employeeID}}
    </span>
  </ng-template>
