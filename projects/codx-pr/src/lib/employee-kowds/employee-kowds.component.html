<codx-views
  #view
  [views]="views"
  [selectedFirst]="true"
  idField="recID"
  [button]="buttonAdd"
  (selectedChange)="onSelectionChanged($event)"
  (buttonClick)="btnClick($event)"
  (onActions)="onAction($event)"
  (clickMF)="clickMF($event)"
  [titleToolBarTmp]="breadCumbs"
  [service]="'HR'"
  (changeDataMF)="handleShowHideMF($event)"
  >
  <!-- (viewChanged)="viewChanged($event)" -->
<!-- service="PR"
assemblyName="ERM.Business.PR"
className="KowDsBusiness"
method="LoadDataAsync" -->
</codx-views>

<!-- <ng-template #tempTree let-data>
    <div class="d-flex align-items-top py-1">
      <i class="icon-home me-2"></i>
      <span>{{ data.orgUnitName }}</span>
    </div>
  </ng-template> -->

  <ng-template #leftPanel let-data>
    <codx-listview
    id="chartOrg"
    #chartOrg
    [pageSize]="10"
    [itemTemplate]="tempTree"
    funcId=""
    entityName="HR_OrganizationUnits"
    service="HR"
    type="treeView"
    assemblyName="ERM.Business.HR"
    className="OrganizationUnitsBusiness"
    textField="orgUnitName"
    gridViewName="grvOrganizationUnits"
    formName="OrganizationUnits"
    [enableCheck]="false"
    [method]="'GetDataOrgAsync'"
    idField="orgUnitID"
    [dataService]="dtService"
    (onSelectionChanged)="onSelectionChangedTreeOrg($event)"
  >
  </codx-listview>
  </ng-template>

  <ng-template #tempTree let-data>
    <div class="d-flex align-items-top py-1">
      <i class="icon-home me-2"></i>
      <span>{{ data.orgUnitName }}</span>
    </div>
  </ng-template>

  <ng-template #tmpPanelRight>
    <!-- <ng-container *ngIf="isAfterViewSelect == true && filterOrgUnit" >
      <lib-kowds-schedule
        [filterOrg] = "filterOrgUnit"
      >
      </lib-kowds-schedule>
    </ng-container> -->

    <ng-container class="h-100" >
      <!-- Lưới đọc gridviewsetup a trầm -->
      <codx-gridview-v2
      *ngIf="viewDetailData == true && calendarGridColumns.length > 0"
      #calendarGrid
      [formName]="view.formModel?.formName"
      [entityName]="view.formModel?.entityName"
      [gridViewName]="'grvKowDsUIByDay'"
      [columnsGrid]="calendarGridColumns"
      [service]="'HR'"
      [assemblyName]="'PR'"
      [className]="'KowDsBusiness'"
      [predicates]=""
      [dataValues]="dataValues"
      [autoFitColumns]="false"
      [hideMoreFunc]="true"
      (onDoubleClick)="doubleClickGrid($event)"
      [height]="'100%'"
      [method]="'LoadDataForGridAsync'"
      [idField]="'employeeID'"
      ></codx-gridview-v2>

      <!-- Lưới cũ chưa sửa theo setting mới -->
      <codx-gridview-v2
      *ngIf="viewStatistic == true && gridStatisticColumns.length > 0"
      #calendarGrid2
      [formModel]="view.formModel"
      [columnsGrid]="gridStatisticColumns"
      [autoFitColumns]="false"
      [gridViewName]="'grvKowDsUIByKow'"
      [hideMoreFunc]="true"
      [height]="'100%'"
      [service]="'HR'"
      [assemblyName]="'PR'"
      [className]="'KowDsBusiness'"
      [predicates]=""
      [method]="'LoadDataForGridStatisticAsync'"
      [dataValues]="dataValues"
      [idField]="'emp'"
      ></codx-gridview-v2>
      <!-- (onDoubleClick)="doubleClickGrid($event)" -->
    </ng-container>
  </ng-template>

  <ng-template #tmpOrgChart>
    <hr-organization-orgchart
      [activeMFC]="true"
      [view]="view"
      [dataService]="view.dataService"
      [formModel]="view.formModel"
      [orgUnitID]="orgUnitID"
      [formModelEmployee]="formModelEmployee"
    ></hr-organization-orgchart>
  </ng-template>

  <ng-template #tempEmployee let-data>
    {{logData(data)}}
    <!-- {{data? data[data.column.field] : "" }} -->
  <div class="d-flex align-items-center border-bottom">
    <div class="p-3 ps-5"
    >
        <div class="d-flex align-items-center">
          <div class="d-flex flex-column me-4">
            <codx-img [funcId]="'HRT03a1'" [objectId]="data?.emp?.employeeID" [objectName]="data?.emp?.employeeName"
              objectType="HR_Employees" [width]="40"
              [imageType]="'circle'"
              class="pic-emloyee"
              >
            </codx-img>
          </div>
          <div class="d-flex flex-column">
              <div
              class="align-items-center line-clamp line-clamp-1 mb-1">
              <span class="fw-bold fs-6 me-3 text-nowrap">
                {{data?.emp?.employeeName}}</span>
              <i class="icon-qr_code_scanner text-danger icon-14 me-1"></i>
              <span class="text-danger">{{ data?.emp?.employeeID }}</span>
              <ng-template #nameTooltip>
                <div class="inline-tooltip">
                  <span class="fw-bold fs-6 me-3 text-nowrap">
                    {{data?.emp?.employeeName}}</span>
                  <i class="icon-qr_code_scanner text-danger icon-14 me-1"></i>
                  <span class="text-danger">{{ data?.emp?.employeeID }}</span>
                </div>
              </ng-template>
            </div>
            <div>
              {{data?.positionName}}
            </div>
          </div>
        </div>
      </div>
      </div>
  </ng-template>


  <ng-template #tempDayData let-data>
    <!-- {{logData(data[data.column.field])}} //null
    {{logData(data)}} //object -->
    <!-- {{logData(data)}} -->
    <!-- {{logData(data[data.column.field])}} -->

    <div *ngIf="data && data[data.column.field]">
      <div *ngFor="let kow of data[data.column.field]">
        <span>{{kow.dayNum}} {{kow.kowCode}}</span>
      </div>
    </div>

    <!-- <span>
      {{data? data[data.column.field][0]?.kowCode : "" }}
    </span> -->
  </ng-template>

  <ng-template #tempEmployeeTC let-data>
    <!-- {{logData(data)}} //object -->
    <span class="fw-bold">
      {{data? data[data.column.field] : "0" }}
    </span>
  </ng-template>

  <ng-template #breadCumbs>
    <codx-label
    [formModel]="view.formModel"
    [name]="'lblbreadCumbs'"
    [default]="formHeaderText"
    class="fw-bold fs-4"
  >
  </codx-label>
  <span *ngIf="timeKeepingMode == '2'">
    <codx-label
    [formModel]="view.formModel"
    [name]="'lblbreadCumbs2'"
    [default]="' > Chi tiết theo ngày '"
   (click)="switchModeView(1)"
    class="ms-2 fw-bold fs-4 text-primary"
  >
  </codx-label>
    <span class="ms-2 fw-bold fs-4 text-primary"> | </span>
    <codx-label
    [formModel]="view.formModel"
    [name]="'lblbreadCumbs3'"
    [default]="'Bảng công tổng hợp'"
    (click)="switchModeView(2)"
    class="ms-2 fw-bold fs-4 text-primary"
    >
    </codx-label>
  </span>
  </ng-template>
