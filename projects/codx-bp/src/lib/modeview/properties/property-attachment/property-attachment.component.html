<div class="d-flex flex-column w-100 h-100 px-4 py-6 property-rank">
    <lib-property-default-title [data]="data" [isBack]="isBack" (dataChange)="changeValue($event)" (back)="backDefault()"></lib-property-default-title>
    <div class="mt-4">
        <codx-label formName="DynamicForms" [gridViewName]="'grvDynamicForms' + data.controlType" [fiedName]="'title'" default="Tên ô nhập liệu" class="fw-bold"></codx-label>
        <codx-input type="text" [crrValue]="data.title" field="title" (valueChange)="changeValue($event)"></codx-input>
    </div>
    <div class="d-flex flex-column mt-4">
        <codx-label formName="DynamicForms" [gridViewName]="'grvDynamicForms' + data.controlType" [fiedName]="'documentControl'" default="Danh sách mẫu" class="fw-bold"></codx-label>
        <table class="table mt-2">
            <thead>
              <tr class="bg-light">
                <th scope="col">Tên file</th>
                <th scope="col">Mẫu</th>
                <th scope="col">Bắt buộc</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody>
                <tr class="border-top" *ngFor="let item of data.documentControl , let i = index">                
                    <th><codx-input type="text" placeholder="Tên File" field="title" [crrValue]="item.title" (valueChange)="valueChangeAttach($event,i)"></codx-input></th>
                    <td><i class="icon-attach_file cursor-pointer" (click)="uploadFile(item.recID, i)"></i></td>
                    <td class="text-center"><codx-input type="checkbox" [checked]="item.isRequired" field="isRequired" (valueChange)="valueChangeAttach($event,i)"></codx-input></td>
                    <td><i class="icon-close cursor-pointer" (click)="deleteRow(i)"></i></td>
                </tr>
                <tr class="border-top cursor-pointer" (click)="addRow()">                
                    <th class="text-muted">Thêm file</th>
                    <td><i class="icon-attach_file"></i></td>
                    <td class="text-center"><input type="checkbox" disabled/></td>
                </tr>
            </tbody>
          </table>
    </div>
    <div class="border-top mt-8">
        <div class="d-flex align-items-center mt-4">
            <codx-input type="switch" [crrValue]="data.isRequired" field="isRequired" label="Bắt buộc" (valueChange)="changeValue($event)" class="mt-2"></codx-input>
            <codx-label formName="DynamicForms" [gridViewName]="'grvDynamicForms' + data.controlType" [fiedName]="'IsRequired'" default="Bắt buộc" class="fw-bold ms-2"></codx-label>
        </div>
        <div class="d-flex align-items-center mt-1">
            <codx-input type="switch"  field="isRequired" label="Bắt buộc"  class="mt-2"></codx-input>
            <codx-label formName="DynamicForms" [gridViewName]="'grvDynamicForms' + data.controlType" [fiedName]="'IsRequired'" default="Điều kiện hiển thị" class="fw-bold ms-2"></codx-label>
        </div>
    </div>
</div>

<codx-attachment 
  #attachment 
  hideImageUpload="1"
  hideImageThumb="1" 
  showMessage="0" 
  hideBtnSave="1" 
  hideFolder="1" 
  hideUploadBtn="1"
  hideDes="1" 
  isDeleteTemp="1" 
  isSaveSelected="1"
  [allowMultiFile]="1" 
  [idBrowse]="'add'"
  hideMoreF="0" 
  [idField]="'RecID'" 
  [objectType]="' BP_Processes_Steps_ExtendInfo'"
  (fileSave)="fileSave($event)"
>
</codx-attachment>