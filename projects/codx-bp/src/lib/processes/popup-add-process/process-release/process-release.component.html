<codx-views
  #view
  [views]="views"
  [button]="button"
  (buttonClick)="click($event)"
  [service]="service"
  [entityName]="entityName"
  [idField]="idField"
  [funcID]="funcID"
  [selectedFirst]="true"
  [autoLoad]="true"
  [assemblyName]="assemblyName"
  [className]="className"
  [method]="method"
  [dataObj]="dataObj"
>
</codx-views>

<!--VIEW KANBAN-->
<ng-template #viewColumKaban let-data>
  <div
    class="d-flex align-items-center justify-content-between cursor-pointer w-100 has-actions-menu h-100"
    [id]="data?.keyField"
    [ngStyle]="{ 'background-color': data?.colorText }"
  >
    <div class="line-colums d-flex align-items-center">
      <span
        [ngClass]="data?.icon"
        [ngStyle]="{ color: data?.color }"
        class="me-1"
      >
      </span>
      <span
        class="fs-6"
        [ngStyle]="{ color: data?.color }"
        [ngbTooltip]="data.headerText"
        container="body"
        placement="bottom"
      >
        {{ data?.headerText }}
      </span>
    </div>
  </div>
</ng-template>

<ng-template #cardKanban let-data let-setting="setting">
  <div class="d-flex flex-column p-4" (dblclick)="openFormDetail(data)">
    <span class="fw-bold">{{ data.title }}</span>
    <div class="d-flex align-items-center justify-content-between mt-2">
      <div class="d-flex align-items-center">
        <codx-vll
          [name]="'BP014'"
          [value]="data?.status"
          [showText]="true"
          [showIcon]="true"
          class="badge badge-light badge-md"
        >
        </codx-vll>
        <span class="mx-2">Ngày tạo : </span>
        <span>{{ data.createdOn | date : "dd/MM/yyyy" }}</span>
      </div>
      <codx-img
        [objectId]="data?.createdBy"
        objectType="AD_Users"
        [width]="30"
        [imageType]="'circle'"
      >
      </codx-img>
    </div>
  </div>
</ng-template>
<!--END VIEW KANBAN-->

<!--VIEW LIST-->
<ng-template #headerTemplateList let-data>
  <div class="d-flex w-100 ps-2 pe-4 m-2" style="background: #e3ecf1">
    <div class="w-30 text-dark fw-bold p-3 fw-500">
      <codx-label
        fiedName="list_Title"
        [setRequire]="false"
        [formModel]="view.formModel"
        [default]="'Yêu cầu'"
      ></codx-label>
    </div>
    <div class="w-10 text-dark fw-bold p-3 fw-500">
      <codx-label
        fiedName="list_CurrentStage"
        [setRequire]="false"
        [formModel]="view.formModel"
        [default]="'Giai đoạn'"
      ></codx-label>
    </div>
    <div class="w-15 text-dark fw-bold p-3 fw-500">
      <codx-label
        fiedName="list_Status"
        [setRequire]="false"
        [formModel]="view.formModel"
        [default]="'Trình trạng'"
      ></codx-label>
    </div>
    <div class="w-5 text-dark fw-bold p-3 fw-500">
      <codx-label
        fiedName="list_Demurrage"
        [setRequire]="false"
        [formModel]="view.formModel"
        [default]="'Trễ hạn?'"
      ></codx-label>
    </div>
    <div class="w-25 text-dark fw-bold p-3 fw-500">
      <codx-label
        fiedName="list_ExecutionTime"
        [setRequire]="false"
        [formModel]="view.formModel"
        [default]="'Thời gian thực hiện'"
      ></codx-label>
    </div>
    <div class="w-15 text-dark fw-bold p-3 fw-500">
      <codx-label
        fiedName="list_CreatedBy"
        [setRequire]="false"
        [formModel]="view.formModel"
        [default]="'Người tạo'"
      ></codx-label>
    </div>
  </div>
</ng-template>

<ng-template #templateList let-data>
  <lib-view-list-instances [dataSelected]="data" [formModel]="view.formModel" [lstStages]="lstSteps"></lib-view-list-instances>
</ng-template>
<!--END VIEW LIST-->
