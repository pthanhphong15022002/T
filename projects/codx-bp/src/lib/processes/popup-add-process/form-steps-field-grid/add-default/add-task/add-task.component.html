<div class="d-flex flex-column w-100 h-100">
    <div class="d-flex flex-column mt-4">
        <codx-label formName="fmBPFieldGrid" fiedName="lblTaskTitle" default="Giai đoạn thực hiện" class="fw-bold"></codx-label>
        <codx-input type="text" field="stepName" [crrValue]="stage?.stepName" (valueChange)="valueChange($event)"></codx-input>
    </div>
    <div class="d-flex flex-column mt-4">
        <codx-label formName="fmBPFieldGrid" fiedName="lblTaskName" default="Tên công việc" class="fw-bold"></codx-label>
        <codx-input type="text" field="stepName" [crrValue]="data?.stepName" (valueChange)="valueChange($event)"></codx-input>
    </div>
    <div class="d-flex flex-column mt-4">
        <codx-label formName="fmBPFieldGrid" fiedName="lblTaskDes" default="Diễn giải" class="fw-bold"></codx-label>
        <codx-input type="textarea" format="ed2" field="memo" [crrValue]="data?.memo" (valueChange)="valueChange($event)"></codx-input>
    </div>
    <div class="d-flex flex-column mt-4">
        <codx-label formName="fmBPFieldGrid" fiedName="lblTaskDuration" default="Thời gian thực hiện" class="fw-bold"></codx-label>
        <div class="d-flex align-items-center">
            <codx-input type="number"  field="duration" [crrValue]="data?.duration" (valueChange)="valueChange($event)" [ngClass]="'w-80px'"></codx-input>
            <codx-input type="valuelist" [refValue]="'VL004'" [crrValue]="data.interval"  field="interval" (valueChange)="valueChange($event)" [ngClass]="'mx-2 w-80px'"></codx-input>
        </div>
    </div>
    <div class="d-flex flex-column mt-4">
        <codx-label formName="fmBPFieldGrid" fiedName="lblTaskLocation" default="Địa điểm" class="fw-bold"></codx-label>
        <codx-input type="text" field="location" [crrValue]="data?.location" (valueChange)="valueChange($event)"></codx-input>
    </div>
    <div class="d-flex flex-column border-top mt-4 pt-4">
        <div class="d-flex align-items-center justify-content-between">
            <codx-label formName="fmBPFieldGrid" fiedName="lblTaskOwners" default="Người thực hiện" class="fw-bold"></codx-label>
            <codx-input type="Combobox" [refValue]="'Share_Users'" [showInput]="false"
                refType="P" field="popup"
                (valueChange)="valueChangeUser($event)"    
            >
            </codx-input>
        </div>
        <div class="d-flex flex-column">
            <div class="d-flex align-items-center justify-content-between mt-2" *ngFor="let item of listUses , let i = index">
                <div class="d-flex align-items-center">
                    <codx-img [objectId]="item?.objectID" [objectType]="'AD_Users'" [referType]="'avt'" [width]="30"></codx-img>
                    <div class="d-flex flex-column ms-2">
                        <span>{{item.objectName}}</span>
                    </div>
                </div>
                <div class="cursor-pointer" (click)="deleteUser(i)">
                    <i class="icon-close"></i>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex flex-column border-top mt-4 pt-4">
        <codx-label formName="fmBPFieldGrid" fiedName="lblTaskSettingForm" default="Thiết lập Form" class="fw-bold"></codx-label>
        <button type="button" class="btn btn-light w-100 mt-4" ><i class="icon-i-plus"></i> <codx-label formName="fmBPFieldGrid" fiedName="lblTaskSettings" default="Thiết lập form nhập liệu"></codx-label></button>
    </div>
    <div class="d-flex flex-column border-top mt-4 pt-4">
        <div class="d-flex align-items-center justify-content-between mt-2">
            <codx-label formName="fmBPFieldGrid" fiedName="lblTaskExport" default="Xuất khẩu nhập liệu" class="fw-bold"></codx-label>
            <codx-input type="switch"></codx-input>
        </div>
        <button type="button" class="btn btn-light w-100 mt-4" ><i class="icon-i-plus"></i> <codx-label formName="fmBPFieldGrid" fiedName="lblTaskSelectFile" default="Chọn file template"></codx-label></button>
    </div>
</div>
