<div
  class="h-100"
  *ngIf="columnsGrid?.length > 0"
  [ngClass]="isShow ? 'grid-full' : 'scroll-grid'"
>
  <codx-gridview-v2
    #grid
    [sorts]="[sortField]"
    [dataSource]="lstUpdate"
    [templateMore]="tempMorefunction"
    rowHeight="40"
    [height]="'100%'"
    [hideMoreFunc]="false"
    [columnsGrid]="columnsGrid"
  ></codx-gridview-v2>
</div>

<!--temp Grids-->
<ng-template #tempMorefunction let-data>
  <div
    class=""
    style="height: 30px"
    *ngIf="dataWorkOrder?.status != '5' && dataWorkOrder?.status != '7'"
  >
    <codx-mfunc
      [dataItem]="data"
      [formModel]="formModel"
      type="view"
      [isBookMark]="false"
      (clickMF)="clickMF($event, data)"
      (changeDataMF)="changeDataMF($event, data)"
    ></codx-mfunc>
  </div>
</ng-template>

<ng-template #headerStatusCode>
  <codx-label
    [formModel]="formModel"
    fiedName="StatusCode"
    [setRequire]="false"
  >
  </codx-label>
</ng-template>

<ng-template #tempStatusCode let-data>
  <div class="d-flex justify-content-start align-items-center">
    <!-- <span
      class="text-gray-800"
      [innerHTML]="
        data?.statusCode | formatvalue : formModel : 'statusCode' | async
      "
    >
    </span> -->
    <span>
      {{ data?.statusCode }}
    </span>
  </div>
</ng-template>

<ng-template #headerComment>
  <codx-label [formModel]="formModel" fiedName="Comment" [setRequire]="false">
  </codx-label>
</ng-template>
<ng-template #tempComment let-data>
  <div
    class="d-flex justify-content-start align-items-center w-400px"
    style="white-space: pre-wrap"
  >
    <div
      class="mt-1"
      [innerHTML]="data?.comment | formatvalue : formModel : 'comment' | async"
    ></div>
    <!-- <div class="d-flex justify-content-start mt-1">
      <codx-attachment
        #attachment
        [objectId]="data?.recID"
        [objectType]="formModel.entityName"
        [referType]="'source'"
        hideFolder="1"
        hideImageUpload="0"
        hideImageThumb="0"
        hideUploadBtn="1"
        hideDes="1"
        type="inline"
        allowMultiFile="1"
        [formModel]="formModel"
        displayThumb="full"
        showMessage="0"
        [heightScroll]="100"
        [dataSelected]="data"
      >
      </codx-attachment>
    </div> -->
  </div>
</ng-template>
<ng-template #headerScheduleStart>
  <codx-label
    [formModel]="formModel"
    fiedName="ScheduleStart"
    [setRequire]="false"
  >
  </codx-label>
</ng-template>
<ng-template #tempScheduleStart let-data>
  <div class="d-flex justify-content-start align-items-center"></div>
</ng-template>
<ng-template #headerScheduleTime>
  <codx-label
    [formModel]="formModel"
    fiedName="ScheduleTime"
    [setRequire]="false"
  >
  </codx-label>
</ng-template>
<ng-template #tempScheduleTime let-data>
  <div class="d-flex justify-content-start align-items-center">
    <span
      *ngIf="data?.startDate"
      class="text-gray-800 me-2"
      [innerHTML]="
        data?.startDate | formatvalue : formModel : 'StartDate' | async
      "
    >
    </span>
    <span *ngIf="data?.scheduleTime" class="text-gray-800"
      >{{ data?.scheduleTime }}
    </span>
  </div>
</ng-template>
<ng-template #headerEngineerID>
  <codx-label
    [formModel]="formModel"
    fiedName="EngineerID"
    [setRequire]="false"
  >
  </codx-label>
</ng-template>
<ng-template #tempEngineerID let-data>
  <div class="d-flex justify-content-start align-items-center">
    <span
      class="text-gray-800"
      [innerHTML]="
        data?.engineerID | formatvalue : formModel : 'EngineerID' | async
      "
    >
    </span>
  </div>
</ng-template>
<ng-template #headerCreatedBy>
  <codx-label [formModel]="formModel" fiedName="CreatedBy" [setRequire]="false">
  </codx-label>
</ng-template>
<ng-template #tempCreatedBy let-data>
  <div class="d-flex justify-content-start align-items-center">
    <span
      class="text-gray-800"
      [innerHTML]="
        data?.createdBy | formatvalue : formModel : 'CreatedBy' | async
      "
    >
    </span>
  </div>
</ng-template>

<ng-template #headerAttachment>
  <codx-label [formModel]="formModel" name="lblAttachment" default="Tá»‡p">
  </codx-label>
</ng-template>
<ng-template #tempAttachment let-data>
  <div class="d-flex justify-content-start align-items-center">
    <codx-attachment-temp
      [objectID]="data?.recID"
      [hideMoreF]="0"
      [hideDelete]="1"
    ></codx-attachment-temp>
  </div>
</ng-template>
