<ng-template #itemTemplate let-data>
  <codx-temp-full (clickMF)="openFormFuncID($event, data)" (click)="click(data)" [typeMF]="'hover'"
    [title]="data?.title" [desc]="
      convertHtmlAgency(
        data.agencyName,
        this.gridViewSetup?.AgencyName?.headerText
      )
    " [status]="data.status" [statusVll]="gridViewSetup['Status']['referedValue']" [date]="data.createdOn"
    cardCss="card-template border-bottom px-2 pt-4 pb-2" [formModel]="view.formModel"
    [resources]="getIdUser(data.createdBy, data.owner)" [resourceObjType]="'AD_Users'" [icoStatus]="data?.urgency"
    [icoStatusVll]="gridViewSetup['Urgency']['referedValue']" [icoStatus2]="data?.security"
    [icoStatusVll2]="gridViewSetup['Security']['referedValue']" [modeImgs]="false" [bookmark]="data.isBookmark"
    [titleLine]="2" [icoDateCss]="'icon-access_alarm'" [dataItem]="data" (changeDataMF)="changeDataMF($event,data)">
  </codx-temp-full>
  <!--  [titleLine]="2"  [icoDateCss]="'icon-access_alarm'" -->
</ng-template>
<ng-template #panelRightRef>
  <app-view-detail #viewdetail [data]="lstDtDis" [dataItem]="dataItem" [gridViewSetup]="gridViewSetup" [view]="view"
    (uploaded)="getDtDis($event)">
  </app-view-detail>
</ng-template>

<ng-template #cardKanban let-data let-setting="setting">
  <codx-card-img (clickMF)="openFormFuncID($event, data)" cardCss="card-template border-bottom px-2 pt-4 pb-2"
    (changeDataMF)="changeDataMF($event, data)" [typeMF]="'hover'" [icoStatus2]="data?.security"
    [icoStatusVll2]="gridViewSetup['Security']['referedValue']" [statusVll]="gridViewSetup['Status']['referedValue']"
    [icoStatus]="data?.urgency" [title]="data?.title" [status]="data.status" [date]="data.createdOn"
    [rootData]="data" [formModel]="view.formModel"
    [setting]="setting" [footer]="cardImgFooter" [dataItem]="data">
  </codx-card-img>
</ng-template>

<ng-template #cardImgFooter let-data let-setting="setting">
  <div class="d-flex flex-column flex-grow-1 mt-2">
    <div class="d-flex align-items-center mb-2" [innerHTML]="convertHtmlAgency(
      data.agencyName,
      this.gridViewSetup?.AgencyName?.headerText
    )
  "></div>
    <div class="d-flex justify-content-end" >
      <codx-imgs [objectId]="getIdUser(data.createdBy, data.owner)" objectType="AD_Users" [numberImages]="4" [width]="30">

      </codx-imgs>
    </div>
  </div>
</ng-template>


<codx-views #view [views]="views" (buttonClick)="click($event)" [button]="button" [entityName]="'OD_Dispatches'"
  [method]="'GetListByStatusAsync'" [assemblyName]="'OD'" [service]="'OD'" [className]="'DispatchesBusiness'"
  (selectedChange)="valueChange($event)" [selectedFirst]="true" idField="recID" (requestEnded)="requestEnded($event)">
</codx-views>
