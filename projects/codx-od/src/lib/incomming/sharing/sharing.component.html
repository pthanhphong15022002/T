<form [formGroup]="shareForm" (ngSubmit)="onSave()" class="h-100">
    <codx-form headerText="Chia sẻ văn bản" subHeaderText="" [body]="body" [footer]="footer" [dialog]="dialog">
        <ng-template popup adde #body>
            <div class="request-to">
                <div class="d-flex justify-content-between mb-2 p-2">
                    <div class="d-flex align-items-center flex-grow-1">
                        <codx-label default="Đến" class="w-50px"></codx-label>
                        <codx-input
                            [Group]="shareForm"
                            ControlName="to"
                            [refValue]="gridViewSetup['Owner']['referedValue']"
                            type="combobox"
                            [multiple]="true"
                            style="width:100%"
                        >
                        </codx-input> <!--   [formModel]="formModel"[gridViewName]="'Owner'" -->
                    </div>
                </div>
                <div class="d-flex justify-content-between mb-2 p-2">
                    <div class="d-flex align-items-center flex-grow-1">
                        <codx-label default="CC:" class="w-50px"></codx-label>
                        <codx-input
                            [Group]="shareForm"
                            ControlName="cc"
                            [refValue]="gridViewSetup['Owner']['referedValue']"
                            type="combobox"
                            style="width:100%"
                            [multiple]="true"
                        >
                        </codx-input>
                    </div>
                </div>
            </div>
            <ng-container *ngIf="data.files != null && data.files.length>0">
                
            </ng-container>
            <!-- <div class="d-flex align-items-center justify-content-between mt-8 mb-8">
                <ng-container *ngIf="data.files != null && data.files.length>0">
                    <div class="d-flex  mt-8 mb-8" *ngFor="let item of data.files">
                    <img class="w-35px me-3" src="{{'../../../assets/demos/dms/'+item?.avatar}}" />
                    <div class="d-flex flex-column flex-grow-1">
                        <span class="text-dark fs-6">{{item?.fileName}} ({{formatBytes(item?.fileSize)}})</span>
                    </div>
                    </div>
                </ng-container>
            </div> -->
            <div class="form-group mt-3">
                <codx-label default="Nội dung chia sẻ" class="text-primary"></codx-label>
                <codx-input 
                    type="textarea" 
                    field="textarea" 
                    [Group]="shareForm"
                    ControlName="desc"
                >
                </codx-input>
            </div>
            <div class="d-flex align-items-center justify-content-between mt-8">
                <codx-label default="Cho phép chỉnh sửa nội dung văn bản?"></codx-label>
                <codx-input 
                    #checkbox 
                    type="switch" 
                    class="test-switch"
                    [Group]="shareForm"
                    ControlName="edit"
                >
                </codx-input>
            </div>
            <div class="d-flex align-items-center justify-content-between mt-8">
                <codx-label default="Cho phép chia sẻ lại cho người khác"></codx-label>
                <codx-input 
                    #checkbox 
                    type="switch" 
                    class="test-switch"
                    [Group]="shareForm"
                    ControlName="share"
                >
                </codx-input>
            </div>
            <div class="d-flex align-items-center justify-content-between mt-8">
                <codx-label default="Cho phép dowlnload hoặc in tài liệu?"></codx-label>
                <codx-input 
                    #checkbox 
                    type="switch" 
                    class="test-switch"
                    [Group]="shareForm"
                    ControlName="download"
                >
                </codx-input>
            </div>
            <label class="text-primary mt-12">Giới hạn thời gian chia sẻ</label>
            <div class="row p-4">
                <div class="col-6 d-flex align-items-center justify-content-between ">
                    <codx-label default='Từ ngày' class="w-100px"></codx-label>
                    <codx-input 
                      type="dateTime" 
                      format="d" 
                      field="date"
                      [Group]="shareForm"
                      ControlName="formDate"
                    >
                    </codx-input>
                </div>
                <div class="col-6 d-flex align-items-center justify-content-between">
                    <codx-label default="Đến ngày"  class="w-100px"></codx-label>
                    <codx-input 
                      type="dateTime" 
                      format="d" 
                      field="date"
                      [Group]="shareForm"
                      ControlName="toDate"
                    >
                    </codx-input>
                </div>
            </div>
        
        </ng-template>
        <ng-template #footer>
            <div class="d-flex justify-content-end">
                <button class="btn btn-light-success" type="submit">
                    Gửi
                </button>
            </div>
        </ng-template>
    </codx-form>
</form>
