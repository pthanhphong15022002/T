<codx-views #base [funcID]="funcID" [showToolBar]="true" [service]="service" [assemblyName]="assemblyName"
  [entityName]="entityName" [predicate]="predicate" [dataValue]="dataValue" [views]="views" [button]="button"
  (buttonClick)="click($event)" [moreFuncs]="moreFunc" [idField]="idField" [className]="className" [method]="method"
  (requestEnded)="closeEditForm($event)">
</codx-views>



<ng-template #sideBarRightRef>
  <app-edit-signature #editSignature (closeSidebar)="closeSidebar($event)"></app-edit-signature>
</ng-template>

<ng-template #signatureType let-dataItem>
  <div class="d-flex justify-content-center">
    <span class="badge badge-light-success fs-7 fw-bold mb-1">{{dataItem.signatureType|vll:'ES001':'text'|async}}</span>
  </div>
</ng-template>

<ng-template #supplier let-dataItem>
  <div class="d-flex justify-content-center">
    <span class="badge badge-light-success fs-7 fw-bold mb-1">{{dataItem.supplier|vll:'ES006':'text'|async}}</span>
  </div>
</ng-template>

<ng-template #oTPControl let-dataItem>
  <!-- <div class="d-flex justify-content-center" hoverable="true" placement="top" [ngbPopover]="popContent"
  triggers="mouseenter:outside" [autoClose]="'outside'"> -->
  <div class="d-flex justify-content-center">
    <span class="badge badge-light-success fs-7 fw-bold mb-1">{{dataItem.otpControl|vll:'ES005':'text'|async}}</span>
  </div>
</ng-template>

<ng-template #createdBy let-dataItem>
  <!-- <div class="d-flex justify-content-center">
  <span class="badge badge-light-success fs-7 fw-bold mb-1">{{dataItem.createdBy|vll:'ES006':'text'|async}}</span>
 </div> -->

  <div class="d-flex align-items-center" #itemCreateBy>
    <codx-img class="symbol symbol-30 symbol-circle mr-3" [objectId]="dataItem.createdBy" objectType="AD_Users"
      width="40">
    </codx-img>
    <div class="text-dark font-size-lg">{{dataItem.userName}}</div>
  </div>
</ng-template>


<ng-template #noName let-dataItem>
  <div class="d-flex align-items-center">
    <a class="action-item d-flex align-items-center">
      <div class="d-flex align-items-center btn-tooltip" (click)="edit(dataItem)">
        <span class="icon-edit icon-18 ml-2 mr-2"></span>
        <span class="tooltiptext">Edit</span>
      </div>
    </a>
    <a class="action-item d-flex align-items-center">
      <div class="d-flex align-items-center btn-tooltip" (click)="deleteSignature(dataItem)">
        <span class="icon-close icon-18 text-danger mx-2"></span>
        <span class="tooltiptext">Xóa</span>
      </div>
    </a>
  </div>
</ng-template>

<ng-template #imageStamp let-dataItem>
  <div *ngIf="dataItem.stamp"
    class="border border-gray-300 border-dashed rounded py-3 px-4 me-6 mb-3 d-flex align-items-center">
    <div class="m-auto">
      <img class="square" [src]="getLinkImg(dataItem.stamp)" />
    </div>
  </div>
</ng-template>

<ng-template #imageSignature1 let-dataItem>
  <div *ngIf="dataItem.signature1"
    class="border border-gray-300 border-dashed rounded py-3 px-4 me-6 mb-3 d-flex align-items-center">
    <div class="m-auto">
      <img class="square" [src]="getLinkImg(dataItem.signature1)" />
    </div>
  </div>
</ng-template>

<ng-template #imageSignature2 let-dataItem>
  <div *ngIf="dataItem.signature2"
    class="border border-gray-300 border-dashed rounded py-3 px-4 me-6 mb-3 d-flex align-items-center">
    <div class="m-auto">
      <img class="square" [src]="getLinkImg(dataItem.signature2)" />
    </div>
  </div>
</ng-template>


<ng-template #popContent let-data>
  <div class="d-flex align-items-center">
    <a class="action-item d-flex align-items-center">
      <div class="d-flex align-items-center btn-tooltip" (click)="edit(data)">
        <span class="icon-edit icon-18 ml-2 mr-2" style="color: green;"></span>
        <span class="tooltiptext">Edit</span>
      </div>
    </a>
    <a class="action-item d-flex align-items-center">
      <div class="d-flex align-items-center btn-tooltip" (click)="deleteSignature(data)">
        <span class="icon-close icon-18 text-danger mx-2"></span>
        <span class="tooltiptext">Xóa</span>
      </div>
    </a>
  </div>
</ng-template>
