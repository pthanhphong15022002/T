<!-- <codx-form #form [dialog]="dialog" [headerText]="headerText" [subHeaderText]="subHeaderText" [body]="body"
  [footer]="footer" *ngIf="isAfterRender">

  <ng-template #body>
    <div class="d-flex flex-stack fs-6 py-2">
      <div class="fw-bolder text-primary">
        <codx-label [name]="'lblTitleAddSignature'" default="THÔNG TIN CHỮ KÝ SỐ" [formModel]="dialog.formModel">
        </codx-label>
      </div>
      <span class="text-end align-items-end" style="display: none;">
        <button type="button" class="btn btn-clean btn-sm btn-icon btn-icon-md" data-dismiss="modal"
          (click)="openPopup(null)">
          <i class="icon-select_all text-primary text-hover-primary-dark icon-24"></i>
        </button>
      </span>
    </div>
    <div class="form-group">
      <codx-label fiedName="Email" default="Email" [formModel]="dialog.formModel">
      </codx-label>
      <div class="d-flex">
        <div class="w-100 me-2">
          <codx-input type="text" name="text" cssClass="form-control" field="email" [Group]="dialogSignature">
          </codx-input>
        </div>

        <codx-input type="Combobox" name="combobox" [refValue]="'Users'" refType="P" field="userID" [showInput]="false"
          (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="form-group">
      <codx-label fiedName="FullName" default="Tên" [formModel]="dialog.formModel">
      </codx-label>
      <codx-input type="text" name="text" cssClass="form-control" field="fullName" [Group]="dialogSignature">
      </codx-input>
    </div>
    <div class="form-group row mt-3">
      <div class="col-6">
        <codx-label fiedName="SignatureType" [formModel]="dialog.formModel" default="Loại chữ kí">
        </codx-label>
        <codx-input type="valuelist" name="valuelist" [crrValue]="dialogSignature.value?.signatureType"
          [refValue]="cbxName['SignatureType']" field="signatureType" (valueChange)="valueChange($event)">
        </codx-input>
      </div>
      <div class="col-6">
        <codx-label fiedName="Supplier" default="Nhà cung cấp" [formModel]="dialog.formModel">
        </codx-label>
        <codx-input type="valuelist" name="valuelist" [crrValue]="dialogSignature.value.supplier"
          [refValue]="cbxName['Supplier']" field="supplier" (valueChange)="valueChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="form-group">
      <div class="d-flex flex-stack fs-6 py-2">
        <div class="fw-bolder ">
          <codx-label default="Chữ ký & Con dấu" name="lblTitleSignment" [formModel]="dialog.formModel"></codx-label>
        </div>
        <span class="text-end align-items-end">
          <button type="button" class="btn btn-clean btn-sm btn-icon btn-icon-md" data-dismiss="modal">
            <i class="icon-select_all text-primary text-hover-primary-dark icon-24" (click)="openPopup(content)"></i>
          </button>
        </span>
      </div>
    </div>
    <div class="d-flex flex-column flex-grow-1 pe-8">
      <div class="d-flex flex-wrap">
        <div class="text-center">
          <div class="border border-gray-300 border-dashed rounded py-3 px-4 me-6 mb-3 d-flex align-items-center">
            <div class="m-auto">
              <div class="m-auto">
                <codx-img [objectId]="dialogSignature.value.signature1 == null ? '': dialogSignature.value.recID+'1'"
                  imageType="square" [width]="50" [recId]="dialogSignature.value.signature1"></codx-img>
              </div>
            </div>
          </div>
          <codx-label fiedName="Signature1" default="Kí thường" [formModel]="dialog.formModel"></codx-label>
        </div>
        <div class="text-center">
          <div class="border border-gray-300 border-dashed rounded py-3 px-4 me-6 mb-3 d-flex align-items-center">
            <div class="m-auto">
              <codx-img [objectId]="dialogSignature.value.signature2 == null ? '': dialogSignature.value.recID+'2'"
                imageType="square" [width]="50" [recId]="dialogSignature.value.signature2"></codx-img>
            </div>
          </div>
          <codx-label fiedName="Signature2" default="Kí nháy" [formModel]="dialog.formModel">
          </codx-label>
        </div>
        <div class="text-center">
          <div class="border border-gray-300 border-dashed rounded py-3 px-4 me-6 mb-3 d-flex align-items-center">
            <div class="m-auto">
              <codx-img [objectId]="dialogSignature.value.stamp == null ? '': dialogSignature.value.recID+'s'"
                imageType="square" [width]="50" [recId]="dialogSignature.value.stamp"></codx-img>
            </div>
          </div>
          <codx-label fiedName="Stamp" default="Con dấu" [formModel]="dialog.formModel">
          </codx-label>
        </div>
      </div>
    </div>

    <div class="form-group row mt-3">
      <div class="col-6">
        <codx-label fiedName="OTPControl" default="OTP" [formModel]="dialog.formModel">
        </codx-label>
        <codx-input type="valuelist" name="valuelist" [crrValue]="dialogSignature.value.oTPControl"
          [refValue]="cbxName['OTPControl']" field="oTPControl" (valueChange)="valueChange($event)">
        </codx-input>
      </div>
      <div class="col-6">
        <codx-label fiedName="SpanTime" default="Thời gian" [formModel]="dialog.formModel">
        </codx-label>
        <codx-input type="number" field="spanTime" value="5" [crrValue]="dialogSignature.value.spanTime" [min]="0"
          max="50" (valueChange)="valueChange($event)" [showSpinButton]="false">
        </codx-input>
      </div>
    </div>
  </ng-template>
  <ng-template #footer>
    <div class="d-flex justify-content-end">
      <button class="btn btn-primary" (click)="onSaveForm()">
        <codx-label default="Lưu" name="lblSave" [formModel]="dialog.formModel"></codx-label>
      </button>
    </div>
  </ng-template>
</codx-form> -->

<codx-form
  #form
  [headerText]="headerText"
  [subHeaderText]=""
  [body]="body"
  [footer]="footer"
  [data]="data"
  [formModel]="dialog.formModel"
  [dialog]="dialog"
>
  <ng-template #body>
    <div class="d-flex flex-stack fs-6 py-2">
      <div class="fw-bolder text-primary">
        <codx-label
          [name]="'lblTitleAddSignature'"
          default="THÔNG TIN CHỮ KÝ SỐ"
          [formModel]="dialog.formModel"
        >
        </codx-label>
      </div>
      <span class="text-end align-items-end" style="display: none">
        <button
          type="button"
          class="btn btn-clean btn-sm btn-icon btn-icon-md"
          data-dismiss="modal"
          (click)="openPopup(null)"
        >
          <i
            class="icon-select_all text-primary text-hover-primary-dark icon-24"
          ></i>
        </button>
      </span>
    </div>
    <div class="form-group">
      <codx-label fiedName="Email" [formModel]="dialog.formModel"> </codx-label>
      <div class="d-flex">
        <div class="w-100 me-2">
          <codx-input
            type="text"
            field="email"
            [Group]="form.formGroup"
            [formModel]="dialog.formModel"
          >
          </codx-input>
        </div>

        <codx-input
          type="Combobox"
          name="combobox"
          [refValue]="'Users'"
          refType="P"
          field="userID"
          [showInput]="false"
          (valueChange)="valueChange($event)"
        >
        </codx-input>
      </div>
    </div>
    <div class="form-group">
      <codx-label fiedName="FullName" [formModel]="dialog.formModel">
      </codx-label>
      <codx-input
        type="text"
        field="fullName"
        [Group]="form.formGroup"
        [formModel]="dialog.formModel"
        [crrValue]="data.fullName"
      >
      </codx-input>
    </div>
    <div class="form-group row mt-3">
      <div class="col-6">
        <codx-label fiedName="SignatureType" [formModel]="dialog.formModel">
        </codx-label>
        <codx-input
          type="valuelist"
          field="signatureType"
          [Group]="form.formGroup"
          [formModel]="dialog.formModel"
          (valueChange)="valueChange($event)"
        >
        </codx-input>
      </div>
      <div class="col-6">
        <codx-label fiedName="Supplier" [formModel]="dialog.formModel">
        </codx-label>
        <codx-input
          type="valuelist"
          field="supplier"
          [Group]="form.formGroup"
          [formModel]="dialog.formModel"
          [disabled]="data.signatureType == '2'"
        >
        </codx-input>
      </div>
    </div>
    <div class="form-group">
      <div class="d-flex flex-stack fs-6 py-2">
        <div class="fw-bolder">
          <codx-label
            default="Chữ ký & Con dấu"
            name="lblTitleSignment"
            [formModel]="dialog.formModel"
          ></codx-label>
        </div>
        <span class="text-end align-items-end">
          <button
            type="button"
            class="btn btn-clean btn-sm btn-icon btn-icon-md"
            data-dismiss="modal"
          >
            <i
              class="icon-select_all text-primary text-hover-primary-dark icon-24"
              (click)="openPopup(content)"
            ></i>
          </button>
        </span>
      </div>
    </div>
    <div class="d-flex flex-column flex-grow-1 pe-8">
      <div class="d-flex flex-wrap">
        <div class="text-center">
          <div
            class="border border-gray-300 border-dashed rounded py-3 px-4 me-6 mb-3 d-flex align-items-center"
          >
            <div class="m-auto">
              <div class="m-auto">
                <codx-img
                  [objectId]="data.signature1 == null ? '' : data.recID + '1'"
                  imageType="square"
                  [width]="50"
                  [recId]="data.signature1"
                ></codx-img>
              </div>
            </div>
          </div>
          <codx-label
            fiedName="Signature1"
            [formModel]="dialog.formModel"
          ></codx-label>
        </div>
        <div class="text-center">
          <div
            class="border border-gray-300 border-dashed rounded py-3 px-4 me-6 mb-3 d-flex align-items-center"
          >
            <div class="m-auto">
              <codx-img
                [objectId]="data.signature2 == null ? '' : data.recID + '2'"
                imageType="square"
                [width]="50"
                [recId]="data.signature2"
              ></codx-img>
            </div>
          </div>
          <codx-label fiedName="Signature2" [formModel]="dialog.formModel">
          </codx-label>
        </div>
        <div class="text-center">
          <div
            class="border border-gray-300 border-dashed rounded py-3 px-4 me-6 mb-3 d-flex align-items-center"
          >
            <div class="m-auto">
              <codx-img
                [objectId]="data.stamp == null ? '' : data.recID + 's'"
                imageType="square"
                [width]="50"
                [recId]="data.stamp"
              ></codx-img>
            </div>
          </div>
          <codx-label fiedName="Stamp" [formModel]="dialog.formModel">
          </codx-label>
        </div>
      </div>
    </div>

    <div class="form-group row mt-3">
      <div class="col-6">
        <codx-label fiedName="OTPControl" [formModel]="dialog.formModel">
        </codx-label>
        <codx-input
          type="valuelist"
          field="oTPControl"
          [Group]="form.formGroup"
          [formModel]="dialog.formModel"
        >
        </codx-input>
      </div>
      <div class="col-6">
        <codx-label fiedName="SpanTime" [formModel]="dialog.formModel">
        </codx-label>
        <codx-input
          type="number"
          field="spanTime"
          [min]="0"
          max="50"
          [showSpinButton]="false"
          [Group]="form.formGroup"
          [formModel]="dialog.formModel"
        >
        </codx-input>
      </div>
    </div>
  </ng-template>
  <ng-template #footer>
    <div class="d-flex justify-content-end">
      <button class="btn btn-primary" (click)="onSaveForm()">
        <codx-label
          default="Lưu"
          name="lblSave"
          [formModel]="dialog.formModel"
        ></codx-label>
      </button>
    </div>
  </ng-template>
</codx-form>
