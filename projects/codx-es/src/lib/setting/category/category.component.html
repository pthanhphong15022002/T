<codx-views #base [funcID]="funcID" [service]="service" [assemblyName]="assemblyName" [entityName]="entityName"
  [predicate]="predicate" [dataValue]="dataValue" [views]="views" [button]="button" (buttonClick)="click($event)"
  [moreFuncs]="moreFunc" [idField]="idField" [className]="className" [method]="method"
  (requestEnded)="closeEditForm($event)">
</codx-views>

<ng-template #process let-data>
  <div class="has-action-menu">
    <div class="progress-approval mt-3 mb-3" *ngIf="data?.countStep > 0">
      <ng-container *ngFor="let item of getCount(data?.countStep)">
        <div class="process-step">
          <div class="step-node">{{item}}</div>
        </div>
      </ng-container>

    </div>

    <div class="center w-400 mt-5 mb-3" *ngIf="data?.countStep == 0">
      <codx-label name="lblNotSetup" default="Chưa thiết lập" [formModel]="viewBase.formModel">
      </codx-label>
    </div>
    <div class="action-menu">
      <codx-mfunc [formModel]="viewBase.formModel" (clickMF)="clickMF($event,data)" type="hover" [dataItem]="data">
      </codx-mfunc>
    </div>
  </div>
</ng-template>

<ng-template #memo let-data>
  <div #memo class="text-dark">{{ data.memo | formatvalue: viewBase.formModel:"memo": memo | async}}</div>
</ng-template>

<ng-template #icon let-data>
  <div class="">
    <i [ngClass]="data.icon" [style.color]="data.color" class="icon-24"></i>
  </div>
</ng-template>


<!-- <ng-template #color let-data>
  <div class="d-flex">
    <div class="badge badge-square badge-md me-3" [style.background]="data.color"></div>
    <div #color1 class="text-dark">{{ data.color | formatvalue: viewBase.formModel:"color": color1 | async}}</div>
  </div>
</ng-template> -->


<ng-template #parentID let-data>
  <div #parentID class="text-dark">{{ data.parentID | formatvalue: viewBase.formModel:"parentID": parentID | async}}
  </div>
</ng-template>

<ng-template #listItem let-data>
  <div class="task-row py-3 px-6">
    <table class="table w-100 table-action-menu">
      <tbody>
        <td class="w-25">
          <div class="d-flex justify-content-center">
            {{data.categoryID}}
          </div>
        </td>
        <td class="w-15">
          <div class="d-flex justify-content-center">
            {{data.categoryName}}
          </div>
        </td>
        <td class="w-15">
          <div class="d-flex justify-content-center">
            <span
              class="badge badge-light-success fs-7 fw-bold mb-1">{{data.signatureType|vll:'ES001':'text'|async}}</span>
          </div>
        </td>
        <td class="w-150px">
          <div id="progress" class="cdx-progress mt-3" *ngIf="data?.countStep > 1">
            <div id="progress-bar"></div>
            <ul id="progress-num">
              <ng-container *ngFor="let item of getCount(data?.countStep)">
                <li class="step">{{item}}</li>
              </ng-container>
            </ul>
          </div>
          <div *ngIf="data?.countStep == 1">
            <li class="step">1</li>
          </div>
          <div class="center" *ngIf="data?.countStep == 0">
            <codx-label name="lblNotSetup" default="Chưa thiết lập" [formModel]="viewBase.formModel"></codx-label>
          </div>
        </td>
      </tbody>
    </table>
  </div>
  <codx-temp-full [formModel]="viewBase.formModel" (clickMF)="clickMF($event,data)" (click)="click(data)">
  </codx-temp-full>
</ng-template>
