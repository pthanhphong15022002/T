<codx-layout-add #form [title]="header" [tabInfo]="tabInfo" [footer]="footer" [formModel]="dialog.formModel"
  [dialog]="dialog" [openMore]="true" [tabContent]="[tabDescription, tabRoles]" [data]="adUser">
</codx-layout-add>

<ng-template #tabDescription>
  <ng-container *ngIf="form?.formGroup">
    <div class="mt-3 pb-5">
      <codx-img #imageUpload class="symbol symbol-120 symbol-circle me-2 image-inpt-wrapper fullImage" [width]="60"
        [funcId]="formModel?.funcID" [objectId]="adUser.userID" [objectType]="'AD_Users'" [isAllowEdit]="true" [isDefaulImg]="true" [imgOn]="date">
      </codx-img>
  <!-- <img class="w-40px" src="data:image/jpeg;base64,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" alt=""> -->

    </div>
    <div class="row mx-0 mt-3">
      <div class="col-6 ps-0">
        <div class="form-group">
          <codx-label fiedName="UserID" [formModel]="form.formModel">
          </codx-label>
          <codx-input field="userID" [disabled]="true" [Group]="form.formGroup" [formModel]="form.formModel">
          </codx-input>
        </div>
      </div>
      <div class="col-6 pe-0">
        <div class="form-group">
          <codx-label fiedName="EmployeeID" [formModel]="form?.formModel">
          </codx-label>
          <codx-input [disabled]="!adUser.employeeID ? false : true" field="employeeID" (valueChange)="valueEmp($event)"
            [Group]="form.formGroup" [formModel]="form.formModel" *ngIf="formType == 'edit'">
          </codx-input>
          <codx-input field="employeeID" (valueChange)="valueEmp($event)"
            *ngIf="formType == 'add' || formType == 'copy'" [Group]="form.formGroup" [formModel]="form.formModel">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="form-group">
      <codx-label fiedName="UserName" [formModel]="form?.formModel">
      </codx-label>
      <codx-input field="userName" (valueChange)="valueChangeU($event)" [Group]="form.formGroup"
        [formModel]="form.formModel">
      </codx-input>
    </div>
    <div class="form-group">
      <codx-label fiedName="UserGroup" [formModel]="form?.formModel">
      </codx-label>
      <codx-input field="userGroup" (valueChange)="valueUG($event)" [Group]="form.formGroup"
        [formModel]="form.formModel">
      </codx-input>
    </div>
    <div class="form-group">
      <codx-label fiedName="BUID" [formModel]="form?.formModel">
      </codx-label>
      <codx-input field="buid" (valueChange)="valueBU($event)" [Group]="form.formGroup" [formModel]="form.formModel">
      </codx-input>
    </div>
    <div class="form-group row m-0">
      <div class="form-group col-6 ps-0">
        <codx-label fiedName="Email" [formModel]="form?.formModel">
        </codx-label>
        <codx-input field="email" [Group]="form.formGroup" [formModel]="form.formModel"
          (valueChange)="valueChangeM($event)" [disabled]="!adUser.email ? false : true" *ngIf="formType == 'edit'">
        </codx-input>
        <codx-input field="email" [Group]="form.formGroup" [formModel]="form.formModel"
          (valueChange)="valueChangeM($event)" [disabled]="false" *ngIf="formType == 'add' || formType == 'copy'">
        </codx-input>
      </div>
      <div class="form-group col-6 pe-0">
        <codx-label fiedName="Mobile" [formModel]="form?.formModel">
        </codx-label>
        <codx-input field="mobile" (valueChange)="valueChangeP($event)" [Group]="form.formGroup"
          [formModel]="form.formModel">
        </codx-input>
      </div>
    </div>
  </ng-container>

</ng-template>
<ng-template #tabRoles>
  <div class="form-group mt-3">
    <div class="d-flex justify-content-end">
      <button type="button" class="btn btn-primary" (click)="openPopup(viewChooseRole)">
        <codx-label fiedName="titleUserRoles" [formModel]="form?.formModel" default="Chỉnh sửa
        quyền">
        </codx-label>
      </button>
    </div>
    <div class="" *ngIf="countListViewChooseRoleApp > 0">
      <div class="d-flex align-items-center mb-3">
        <codx-label class="me-1 text-primary fs-6" fiedName="titleUserRoles" [formModel]="form?.formModel"
          default="Ứng dụng được phần quyền">
        </codx-label>
        <span class="fw-bold">({{countListViewChooseRoleApp}})</span>
      </div>
      <div *ngFor="let item of viewChooseRole; let i = index">
        <div class="d-flex align-items-center justify-content-between mb-4" *ngIf="!item.isPortal">
          <div class="d-flex align-items-center">
            <div class="me-2">
              <img class="w-30px" src="../../../{{item.smallIcon}}" alt="" />
            </div>
            <div class="fw-bold">{{item.customName}}</div>
          </div>
          <div class="text-end">
            <div [style.color]="item.color">
              {{item.roleName}}
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group" *ngIf="countListViewChooseRoleService > 0">
      <div class="row">
        <div class="col-12">
          <div class="d-flex align-items-center mb-3 mt-3">
            <codx-label class="me-1 text-primary fs-6" fiedName="titleUserRoles" [formModel]="form?.formModel"
              default="Dịch vụ nhân viên được phân quyền">
            </codx-label>
            <span class="fw-bold">({{countListViewChooseRoleService}})</span>
          </div>
        </div>
        <div class="col-12 " *ngFor="let item of viewChooseRole; let i = index">
          <div class="d-flex align-items-center justify-content-between mb-4" *ngIf="item.isPortal">
            <div class="d-flex align-items-center">
              <div class="me-2">
                <img class="w-40px" src="../../../{{item.smallIcon}}" alt="" />
              </div>
              <div class="fw-bold">{{item.customName}}</div>
            </div>
            <div class="text-end">
              <div [style.color]="item.color">
                {{item.roleName}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #footer>
  <div class="d-flex justify-content-end">
    <button type="button" class="btn btn-primary" (click)="onSave()">
      <codx-label fiedName="Save" [formModel]="formModel" default="Lưu"></codx-label>
    </button>
  </div>
</ng-template>

<ng-template #firstComment>
  <div *ngIf="dataComment">
    <div [innerHTML]="contentComment"></div>
  </div>
</ng-template>