<div class="page-home page-master">
  <div class="d-flex flex-row">
    <div id="codx_master" class="min-w-200px w-250px">
      <div class="codx_master_container">
        <ng-container [ngTemplateOutlet]="leftMenu"></ng-container>
      </div>
    </div>
    <div class="page-home page-master container-fluid">
      <div class="d-flex flex-row">
        <div id="codx_master" class="background_form">
          <div class="codx_master_container">
            <ng-container [ngTemplateOutlet]="itemView"></ng-container>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<ng-template #leftMenu>
  <ng-container *ngFor="let items of moreFunc">
    <div class="menu-item">
      <a class="dropdown-toggle" href="javascript:void(0);">
        <span class="icon-holder">
          <i class="fa {{ items.largeIcon }}"></i>
        </span>
        <span class="title_mf">{{ items.defaultName }}</span>
      </a>
    </div>
  </ng-container>
</ng-template>

<ng-template #itemView>
  <!-- <lib-company-setting-details [formModel]="view.formModel"  >
  </lib-company-setting-details> -->

  <codx-detail-tmp [body]="body" class="font_size"></codx-detail-tmp>

  <ng-template #body>

    <!-- Account Information -->
    <div class="header_detail" *ngIf="data">
      <div class="header_title">
        <strong>
          <codx-label fiedName="" class="header_title" formName="" gridViewName="" default="Thông tin tài khoản">
          </codx-label>
        </strong>
      </div>
      <div class="header_content">
        <div class="accountinfo">
          <codx-label fiedName="" formName="" class="title" gridViewName="" default="Tên công ty"></codx-label>
          <div class="row">
            <div class="col-6 mt-1">
              <codx-input type="text" field="legalName" [crrValue]="data.legalName" placeholder="Tên công ty">
              </codx-input>
            </div>
          </div>
        </div>
        <div class="accountinfo">
          <codx-label fiedName="" formName="" class="title" gridViewName="" default="Web Address"></codx-label>
          <div class="row">
            <div class="col-3 mt-1">
              <codx-input type="text" field="" [crrValue]="data.companyCode" (valueChange)="txtToLower($event)"
                disabled="true"></codx-input>
            </div>
            <div class="col-9 url">
              <i>
                <codx-label fiedName="" class="" formName="" gridViewName="" default=".erm.com"></codx-label>
              </i>
            </div>
          </div>
        </div>
        <div class="accountinfo">
          <codx-label fiedName="" class="title" formName="" gridViewName="" default="Mã số thuế"></codx-label>
          <div class="row">
            <div class="col-3 mt-1">
              <codx-input type="text" field="" [crrValue]="data.taxCode"></codx-input>
            </div>
          </div>
        </div>
        <div class="accountinfo">
          <div class="row">
            <div class="col-1 img_option">
              <!-- change url image Main logo -->
              <div class="container_img_logo img_logo">
                <input name="imageUrlMain" hidden #fileInput_main type="file" accept="image/*"
                  (change)="handleInputChangeMain($event)" />
                <div *ngIf="!imageSrcMain; then imageDefaultMain; else imageUpdateMain">
                </div>
                <ng-template #imageDefaultMain>
                  <img class="img_logo img_settings_logo" src="../../../assets/themes/ad/default/img/logo.png">
                  <div class="overlay_main img_logo"></div>
                  <div class="button_image_main">
                    <button class="button-icon button_change_main" type="button" (click)="fileInput_main.click()">
                      <i class="icon-create icon-18"></i>
                    </button>
                  </div>
                </ng-template>
                <ng-template #imageUpdateMain>
                  <img [src]="imageSrcMain" class="img_logo img_settings_logo">
                  <div class="overlay_main img_logo"></div>
                  <div class="button_image_main">
                    <button class="button-icon button_change_main" type="button" (click)="fileInput_main.click()">
                      <i class="icon-create icon-18"></i>
                    </button>
                  </div>
                </ng-template>
              </div>

            </div>
            <div class="col-11">
              <div class="col-12">
                <strong>
                  <codx-label fiedName="" formName="" gridViewName="" default="Main Logo"></codx-label>
                </strong>
              </div>
              <div class="col-12">
                <i>
                  <codx-label fiedName="" formName="" gridViewName="" default="Recommended: 50x50px PNG with">
                  </codx-label><br>
                  <codx-label default="transparent background"></codx-label>
                </i>
              </div>
            </div>
          </div>
        </div>
        <div class="accountinfo">
          <div class="row">
            <div class="col-4 img_optionFull">

              <div class="container_img img_logoFull">
                <input name="imageUrl" hidden #fileInput type="file" accept="themes/ad/images/*"
                  (change)="handleInputChange($event)" />

                <div *ngIf="!imageSrc; then imageDefault; else imageUpdate">
                </div>

                <ng-template #imageDefault>
                  <img class="img_logoFull img_settings"
                    src="../../../assets/themes/ad/default/img/logoFull_default.png">
                  <div class="overlay img_logoFull"></div>
                  <div class="button_image">
                    <button class="button-icon button_change_email" type="button" (click)="fileInput.click()">
                      <i class="icon-create icon-18"></i>
                    </button>
                  </div>
                </ng-template>
                <ng-template #imageUpdate>
                  <img [src]="imageSrc" class="img_logoFull img_settings">
                  <div class="overlay img_logoFull"></div>
                  <div class="button_image">
                    <button class="button-icon button_change_email" type="button" (click)="fileInput.click()">
                      <i class="icon-create icon-18"></i>
                    </button>
                  </div>
                </ng-template>

              </div>

            </div>
            <div class="col-8">
              <div class="col-12">
                <strong>
                  <codx-label fiedName="" formName="" gridViewName="" default="E-mail header"></codx-label>
                </strong>
              </div>
              <div class="col-12">
                <i>
                  <codx-label fiedName="" formName="" gridViewName="" default="Recommended resolution"></codx-label><br>
                  <codx-label default="200x60px"></codx-label>
                </i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Contact Information -->
    <div class="body_detail" *ngIf="data">
      <div class="row content">
        <div class="col-6 pb-5">
          <strong>
            <codx-label fiedName="" class="title_contact" formName="" gridViewName="" default="Liên hệ"></codx-label>
          </strong>
        </div>
        <div class="col-6 pb-5">
          <div class="button_edit">
            <button (click)="clickEditContact(data)"><i class="icon-create icon-18"></i></button>
          </div>
        </div>
        <div class="col-5">
          <div class="contact">
            <strong>
              <codx-label formName="CompanySetting" gridViewName="" [default]="">
              </codx-label>
              {{data.street}}
            </strong>
          </div>
          <div class="contact">
            <codx-label fiedName="phone" formName="" gridViewName="" [default]="'Tel: '">
            </codx-label>
            {{data.phone}} - {{data.faxNo}}
          </div>
          <div class="contact">
            <codx-label [default]="'Email: '"></codx-label>
            <span class="url-contact">{{data.email}}</span>
          </div>
          <div class="contact">
            <codx-label fiedName="" formName="" gridViewName="" [default]="'Website: '"></codx-label>
            <span class="url-contact"> {{data.webPage}}</span>
          </div>
        </div>
        <div class="col-7">
          <div class="contact-map">
            <iframe class="contact-map-size"
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.1916277478313!2d106.67422991524113!3d10.796630561771677!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x317528d61d708d9b%3A0xa88abf9cfd8e5128!2zMjMgTmd1eeG7hW4gVGjhu4sgSHXhu7NuaCwgUGjGsOG7nW5nIDgsIFBow7ogTmh14bqtbiwgVGjDoG5oIHBo4buRIEjhu5MgQ2jDrSBNaW5oLCBWaWV0bmFt!5e0!3m2!1sen!2sus!4v1657168799748!5m2!1sen!2sus"
              allowfullscreen="" loading="lazy"></iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- Personal Information -->
    <div class="footer_detail" *ngIf="data">
      <div class="row footer_content">
        <div class="col-6">
          <strong>
            <codx-label fiedName="" class="title_contact" formName="" gridViewName="" default="Người đại diện">
            </codx-label>
          </strong>
        </div>
        <div class="col-6">
          <div class="button_edit">
            <button (click)="clickEditPersonal(data)"> <i class="icon-create icon-18"></i></button>
          </div>
        </div>
      </div>
      <div class="footer_content">
        <div class="row pb-5">
          <div class="col-6">
            <div class="row">
              <div class="col-3">
                <div *ngIf="data.Logo; else imgDefault_personal">
                  <img class="img_avatar" src="../../../{{data.Logo}}}" alt="" />
                </div>
                <ng-template #imgDefault_personal> <img class="img_avatar" src="../../../assets/img/avatar.png" />
                </ng-template>
              </div>
              <div class="col-9">
                <div class="col-12 contactName">
                  <strong>
                    <span>{{data.contactName}}</span>
                  </strong>
                </div>
                <div class="col-12 personal_option">
                  <i>
                    {{data.jobTitle}}
                  </i>
                </div>
                <div class="col-12 personal_option">
                  <codx-label fiedName="" formName="" gridViewName="" default="Email">
                  </codx-label><span>{{data.personalEmail}}</span> <br>
                </div>
                <div class="col-12 personal_option">
                  <codx-label fiedName="" formName="" gridViewName="" default="Phone: ">
                  </codx-label>{{data.mobile}}<br>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </ng-template>
  <codx-views #view [views]="views" entityName="AD_CompanySettings" service="SYS" assemblyName="AD"
    className="CompanySettingsBusiness" method="GetAsync" [autoLoad]="false"></codx-views>
