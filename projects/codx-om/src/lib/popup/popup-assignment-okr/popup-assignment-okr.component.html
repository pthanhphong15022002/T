<codx-form #form [body]="body" [footer]="footer" [dialog]="dialogRef" 
  [showHeader]="true" [headerText]="title" [subHeaderText]="okrName" *ngIf="isAfterRender" >
  
  <ng-template #body>
    <div class="px-5 justify-content-between align-items-center h-100">
      <!--Header-->
      <div class="d-flex flex-column justify-content-center align-items-center ">
        <!-- <codx-label [default]="title" name="lblAssignment" class="fs-2 fw-bold"></codx-label>
        <span class="fs-5  text-center w-75">{{okrName}}</span> -->
        <!-- <div class="d-flex justify-content-center my-1">
          <div class="d-flex align-items-center mx-2">
            <codx-input type="radio" name="category" field="R" [checked]="radioKRCheck" 
            [label]="'Phân công thành kết quả'"
              [crrValue]="radioKRCheck" (valueChange)="valueTypeChange($event)">
            </codx-input>            
          </div>
          <div class="d-flex align-items-center  mx-2">
            <codx-input type="radio" name="category" field="O" [checked]="radioOBCheck"
              [crrValue]="radioOBCheck" (valueChange)="valueTypeChange($event)"
              [label]="'Phân công thành mục tiêu'">
            </codx-input>
          </div>
        </div> -->
        <!--Body-->
        <div class="d-block w-75">
          <ejs-tab id="om-tab" class="h-100">
            <e-tabitems>
              <e-tabitem>
                <ng-template #headerText>
                  <div class="d-flex align-items-center position-sticky h-100">
                    <span class="fa-solid icon-i-diagram-3-fill me-2"></span>
                    <codx-label default="Cấp trực tiếp" fiedName="lbltaget" class="fw-bold"></codx-label>
                  </div>
                </ng-template>
                <ng-template #content>
                  <div class="mt-5">
                    <codx-input
                      type="combobox"
                      [refValue]="'OrganizationUnits'"
                      placeholder="Tìm kiếm"
                      (valueChange)="cbxOrgChange($event)"
                    ></codx-input>
                  </div>
                  <div class="d-flex justify-content-between align-items-center mt-5" *ngIf="assignmentOKR?.orgUnitID!=null">
                    <div class="d-flex col-8 flex-row " *ngIf="funcID==compFuncID">
                      <span class="d-flex justify-content-center align-items-center badge-avatar badge-circle badge-light rounded-circle"> <span class="icon-i-building text-primary"></span></span>
                      <div class="d-flex flex-column" >
                        <span class="ms-4 fw-bold">{{assignmentOKR?.departmentName}}</span>
                        <span class="ms-4 text-gray-600">{{assignmentOKR?.employeeName}}</span>
                        <span class="ms-4 text-gray-600">{{assignmentOKR?.positionName}}</span>
                      </div>                     
                    </div>  
                    <div class="d-flex col-8 flex-row" *ngIf="funcID==deptFuncID">
                      <span class="d-flex justify-content-center align-items-center badge-avatar badge-circle badge-light rounded-circle"> <span class="icon-i-building text-primary"></span></span>
                      <div class="d-flex flex-column">
                        <span class="ms-4 fw-bold">{{assignmentOKR?.positionName}}</span>
                        <span class="ms-4 text-gray-600">{{assignmentOKR?.employeeName}}</span>
                        <span class="ms-4 text-gray-600">{{assignmentOKR?.orgUnitName}}</span>
                      </div>                     
                    </div>  
                    <div class="d-flex col-8 flex-row" *ngIf="funcID==orgFuncID">
                      <span class="d-flex justify-content-center align-items-center badge-avatar badge-circle badge-light rounded-circle"> <span class="icon-i-building text-primary"></span></span>
                      <div class="d-flex flex-column">
                        <span class="ms-4 fw-bold">{{assignmentOKR?.deptFuncID}}</span>
                        <span class="ms-4 text-gray-600">{{assignmentOKR?.orgUnitName}}</span>
                        <span class="ms-4 text-gray-600">{{assignmentOKR?.orgUnitName}}</span>
                      </div>                     
                    </div>  
                    <span class="icon-close" role="button" (click)="deleteOrg()"></span>
                  </div>
                </ng-template>
              </e-tabitem>
              <e-tabitem>
                <ng-template #headerText>
                  <div class="d-flex align-items-center">
                    <span class="fa-solid icon-groups me-2"></span>
                    <codx-label default="Nhóm" fiedName="lbltreetaget" class="fw-bold"></codx-label>
                  </div>
                </ng-template>
                <ng-template #content>
    
                </ng-template>
              </e-tabitem>
              <e-tabitem>
                <ng-template #headerText>
                  <div class="d-flex align-items-center">
                    <span class="fa-solid icon-account_circle me-2"></span>
                    <codx-label default="Nhân viên " fiedName="lblmeeting" class="fw-bold"></codx-label>
                  </div>
                </ng-template>
                <ng-template #content>
    
                </ng-template>
              </e-tabitem>
            </e-tabitems>
          </ejs-tab>
        </div>
      </div>

    </div>


  </ng-template>

  <ng-template #footer>
    <!--Footer-->
      <div class="d-flex justify-content-center">
        <div class="w-75">
          <div class="mb-5 d-flex justify-content-end"> 
            <span type="button" (click)="cancel()"
              class="me-2 btn d-flex py-2 px-4 btn-sm btn-outline btn-outline-primary btn-active-light-primary  rounded justify-content-center">
              <codx-label name="lblCancel" default="Hủy" class="fw-bold px-3" ></codx-label>
            </span>
            <span type="button" (click)="onSaveForm()"
              class="d-flex py-2 px-4 bg-color rounded justify-content-center ">
              <codx-label name="lblSave" class="text-light px-3 fw-bold" default="Lưu" ></codx-label>
            </span>
          </div>
        </div>
        
    </div>
    
  </ng-template>
</codx-form>