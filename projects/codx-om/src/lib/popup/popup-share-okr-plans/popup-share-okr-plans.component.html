<codx-form #form [headerText]="headerText" [body]="body"
  [footer]="footer" [dialog]="dialogRef" [formModel]="formModel"  [data]="sharesData" *ngIf="isAfterRender">
  <ng-template #body>
    <div class="d-flex justify-content-center align-items-center ">
      <div class="w-50px">
        <codx-label [default]="'Đến'"></codx-label>
      </div>
      <codx-input type="share"  [refValue]="'DM001'" 
          refType="P" field="popup" [ngClass]="'w-100'"  (valueChange)="changeInput($event,'from')">
      </codx-input>
    </div>
    <div class="d-flex justify-content-center align-items-center mt-5">
      <div class="w-50px">
        <codx-label [default]="'CC'"></codx-label>
      </div>
      
      <codx-input type="share"  [refValue]="'DM001'" 
          refType="P" field="popup" [ngClass]="'w-100'" (valueChange)="changeInput($event,'to')">
      </codx-input>
    </div>
    <div class="py-5">
      <div class="mb-2">
        <codx-label fiedName="Note" [formModel]="form?.formModel" class="fw-bold mb-2"></codx-label>
      </div>
      <codx-input [type]="'textarea'" [height]="'400px'" field="note" [crrValue]="sharesData?.note"  (valueChange)="valueChange($event)"></codx-input>
    </div>
    <div class="py-4">
      <div class="d-flex justify-content-between align-items-center">
        <codx-label fiedName="Write" [formModel]="form?.formModel"></codx-label>
        <codx-input [type]="'switch'"  field="write" [crrValue]="sharesData?.write"  (valueChange)="valueChange($event)"></codx-input>
      </div>
      <div class="d-flex justify-content-between align-items-center mt-4">
        <codx-label fiedName="Share" [formModel]="form?.formModel"></codx-label>
        <codx-input [type]="'switch'" field="share" [crrValue]="sharesData?.share" (valueChange)="valueChange($event)"></codx-input>
      </div>
    </div>
    <div>
      <div class="mb-2">
        <codx-label default="Giới hạn thời gian chia sẻ" class="text-primary"></codx-label>
      </div>
      <div class="d-flex justify-content-between align-items-center px-2">
        <codx-label fiedName="StartedOn" [formModel]="form?.formModel"></codx-label>
        <codx-input [type]="'datetime'" format="d" ngClass="w-120px"  [formModel]="form?.formModel" [Group]="fgShares" [ControlName]="'startedOn'"></codx-input>
        <codx-label fiedName="ExpiredOn" [formModel]="form?.formModel"></codx-label>
        <codx-input [type]="'datetime'" format="d" ngClass="w-120px"  [formModel]="form?.formModel" [Group]="fgShares" [ControlName]="'expiredOn'"></codx-input>
      </div>
    </div>
  </ng-template>
  <ng-template #footer>
    <div class="d-flex justify-content-end">
      <button class="btn btn-primary" (click)="onSaveForm()">
        <codx-label
          name="lblSave"
          default="Lưu"
          [formModel]="form?.formModel"
        ></codx-label>
      </button>
    </div>
  </ng-template>
</codx-form>
