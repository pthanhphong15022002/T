<codx-form
  #form
    [body]="body"
    [footer]="footer"
    [dialog]="dialogRef"
>
<ng-template #subHeader>
<div class="d-flex justify-content-center">
  <codx-label default="Check-in" name="lblCheckin"></codx-label>
</div>
</ng-template>
<ng-template #body> 
  <div class="d-flex flex-column px-5 py-5 justify-content-between align-items-center h-100">
    <!--Header-->
    <div class="d-flex flex-column justify-content-center align-items-center">
      <span><codx-label default="Check-in" name="lblCheckin" class="fs-2 fw-bold"></codx-label></span>
      <codx-label [default]="'KR: '+ dataKR.okrName" class="fs-5 fw-bold mt-2"></codx-label>
      <div class="d-flex align-items-center kr-process w-300px min-w-300px ms-3 mt-2 mb-5">
        <div class="h-15px w-100 bg-gray-200 rounded-4">
          <div class="bg-primary rounded-4 h-15px" role="progressbar" [style.width]="(dataKR.progress + '%')"
            aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <div class="process-per position-absolute top-0 fs-8" style="left:72%">{{dataKR.progress}}%</div>
        <div class="pic-local" style="left:77%;">
          <span class="icon-language text-primary icon-20"></span>
        </div>
        <div *ngIf="dataKR.confidence" class="pic-face" style="left:90%;">
          <img class="w-18px h-18px"
            [src]="'assets/themes/wp/default/img/'+(dataKR.confidence == '2'?'L1480_4':'L1480_3')+'.svg'">
        </div>

      </div>
      <!--Body-->
      <div class="d-flex flex-column mt-5">
        <div class="d-flex flex-row form-group">
          <div class="col-4">
            <codx-label name="lblResult" default="Kết quả thực hiện"></codx-label>
            <codx-input type="number" ></codx-input>
            <codx-label name="lbl" default="(*)" class="text-primary"></codx-label>
          </div>
          <div class="col-4 ms-5">
            <codx-label name="lblStatus" default="Tình trạng"></codx-label>
            <codx-input type="number" ></codx-input>
          </div>        
        </div>
        <div>
          <codx-label name="Note" default="Ghi chú"></codx-label>
          <codx-input type="text"></codx-input>
        </div>
        <div class="flex-nowrap overflow-auto h-100px">
          <codx-attachment #attachment [objectType]="'OM_OKRs'" hideBtnSave="1" hideFolder="1"
            hideUploadBtn="1" hideDes="1" hideImageUpload="0" hideImageThumb="0" [functionID]="'OMT01'"
            [objectId]="dataKR.recID" [allowMultiFile]="0" [idBrowse]="'add'" displayThumb="full"
            (fileAdded)="fileAdded($event)" (fileCount)="fileCount($event)">
          </codx-attachment>
        </div>
      </div>
    </div>
    
</div>
    
    
</ng-template>

<ng-template #footer>
<!--Footer-->
<div class="d-flex justify-content-between">
  <div (click)="popupUploadFile($event)"
    class="btn btn-sm btn-outline btn-outline-primary btn-active-light-primary d-flex flex-row">
    <span class="icon-cloud_upload btn-text-primary me-2"></span>
    <codx-label fiedName="lblUploadFile" default="Đính kèm" [formModel]="formModel"></codx-label>
  </div>
  <div class="btn-group">
    <button class="btn btn-outline-primary me-2" (click)="checkinCancel()">
      <codx-label name="lblCancel" default="Huỷ" class=" px-3" [formModel]="formModel"></codx-label>
    </button>
    <button class="btn btn-primary" (click)="checkinSave()">
      <codx-label name="lblSave" class=" px-3" default="Lưu" [formModel]="formModel"></codx-label>
    </button>
  </div>
</div>
</ng-template>
</codx-form>
