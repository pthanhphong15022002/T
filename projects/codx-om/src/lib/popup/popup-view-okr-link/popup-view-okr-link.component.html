<codx-form #form [headerText]="'Phân công'"  [body]="body" [bodyCss]="'px-0 py-0 overflow-hidden'" [dialog]="dialog"
  [formModel]="" *ngIf="isAfterRender"></codx-form>
<ng-template #body>
  <div class=" ps-5 w-100 d-flex flex-wrap pb-5">
    <span class="fs-6">{{data?.okrName}}
    </span>
  </div>

  <div class="ps-5 w-100 d-flex flex-column justify-content-between align-items-center overflow-auto mxh-300px" *ngFor="let link of listLink">
    <div class="w-100 d-flex flex-row justify-content-between align-items-center">
      <div class="d-flex flex-row justify-content-between ">
        <span class="h-100px position-relative">
          <codx-img [width]="75" [objectId]="link?.owner" [objectType]="'AD_Users'"></codx-img>
            <span class="position-absolute badge-avatar badge-circle badge-light rounded-circle om-img-icon d-flex align-items-center justify-content-center">
              <span class=" icon-26 text-primary" [ngClass]="link?.objectType =='1' ? 'icon-person' : link?.objectType =='3' || link?.objectType =='2' ? 'icon-i-building':'icon-person_pin_circle' "></span>
            </span>
        </span>

        <div class="ps-5 d-flex flex-column" *ngIf="link?.objectType=='1'">
          <span class="fs-6 text-dark fw-bold">{{link?.employeeName}}</span>
          <span class="text-gray-700">{{link?.orgUnitName}}</span>
          <span class="fs-7 text-gray-700">{{link?.positionName}}</span>
        </div> 

        <div class="ps-5 d-flex flex-column" *ngIf="link?.objectType=='3'||link?.objectType=='2'">
          <span class="fs-6 text-dark fw-bold">{{link?.orgUnitName}}</span>
          <span class="text-gray-700">{{link?.employeeName}}</span>
          <span class="fs-7 text-gray-700">{{link?.positionName}}</span>
        </div> 

        <div class="ps-5 d-flex flex-column" *ngIf="link?.objectType=='1' && link?.objectType=='2' && link?.objectType=='3'">
          <span class="fs-6 text-dark fw-bold">{{link?.positionName}}</span>
          <span class="text-gray-700">{{link?.employeeName}}</span>
          <span class="fs-7 text-gray-700">{{link?.orgUnitName}}</span>
        </div> 

      </div>
      <div class="pb-5 pe-5 col-5 ">
        <div class="d-flex align-items-center justify-content-end">          
          <span *ngIf="data?.umid == '%'" class="me-1" [innerHTML]="
          link?.distributeValue | formatvalue : okrFM?.krFM : 'progress' | async
            "></span>
          <span *ngIf="data?.umid != '%'" class="me-1" [innerHTML]="
          link?.distributeValue | formatvalue : okrFM?.krFM : 'target' | async
            "></span>
          <span [innerHTML]="data?.umName"></span>
        </div>
      </div>
    </div>
    
  
  </div>
</ng-template>

