<codx-views
  #view
  [views]="views"
  (viewChanged)="viewChanged($event)"
  [autoLoad]="false"
  [toolbarDisplay]="false"
>
</codx-views>
<ng-template #panelRight>
  <div class="w-100 h-100 bg-white px-5">
    <lib-okr-toolbar (click)="click($event)" (hiddenChart)="hiddenChart($event)" [data]="dataOKRPlans" [dataChild]="dataOKR" [formModel]="view?.formModel"></lib-okr-toolbar>
    <div class="pt-5 pb-2 text-center" *ngIf="funcID==compFuncID">
      <codx-label
        [default]="compName"
        fiedName="titleRoom"
        class="fw-bold fs-2"
      ></codx-label>
    </div>
    <div class="pt-5 pb-2 text-center" *ngIf="funcID == deptFuncID">
      <codx-label
        [default]="deptName"
        fiedName="titleRoom"
        class="fw-bold fs-2"
      ></codx-label>
    </div>
    <div class="pt-5 pb-2 text-center" *ngIf="funcID == orgFuncID">
      <codx-label
        [default]="orgName"
        fiedName="titleRoom"
        class="fw-bold fs-2"
      ></codx-label>
    </div>
    <div class="pt-5 pb-2 text-center" *ngIf="funcID == persFuncID">
      <codx-label
        [default]="persName"
        fiedName="titleRoom"
        class="fw-bold fs-2"
      ></codx-label>
    </div>

    <div class="p-om-okr d-flex justify-content-center">
      <ejs-tab id="om-tab">
        <e-tabitems style="padding: 0px;">
          <e-tabitem style="padding: 0px;">
            <ng-template #headerText>
              <div class="d-flex align-items-center">
                <i class="fa-solid fa-bullseye me-2"></i>
                <codx-label
                  default="Mục tiêu"
                  fiedName="lbltaget"
                  class="fw-bold"
                ></codx-label>
              </div>
            </ng-template>
            <ng-template #content>
              <ng-container *ngIf="dataOKRPlans != null; else elseOKR">
                <ng-container *ngIf="dataOKR != null">
                <lib-okr-targets
                  [dataOKRPlans]="dataOKRPlans"
                  [dataOKR]="dataOKR"
                  [formModel]="view?.formModel"
                  [gridView]="gridView"
                  [obFuncID]="obFuncID"
                  [krFuncID]="krFuncID"
                  [skrFuncID]="skrFuncID"

                  [formModelKR]="formModelKR"
                  [formModelOB]="formModelOB"                  
                  [formModelSKR]="formModelSKR"
                  [funcID]="funcID"
                  [isHiddenChart]="isHiddenChart"
                ></lib-okr-targets>
              </ng-container>
              </ng-container>
              <ng-template #elseOKR>
                <div
                  class="om-def text-center d-flex flex-column w-100 justify-content-center align-item-center"
                >
                  <div>
                    <div class="my-2">
                      <span
                        > <span class="fw-bold">{{ funcID==compFuncID? compName : funcID==deptFuncID? deptName : funcID==orgFuncID? orgName :persName }}</span> chưa thiết lập mục tiêu cho
                        <span class="fw-bold">{{periodID}}</span></span
                      >
                    </div>
                    <div class="my-2">
                      <span>Vui lòng chọn nút < </span
                      ><span class="text-primary fw-bold">Tạo bộ mục tiêu</span
                      ><span> > để thiết lập bộ mục tiêu cho <span class="fw-bold">{{ funcID==compFuncID? compName : funcID==deptFuncID? deptName : funcID==orgFuncID? orgName :persName }}</span></span>
                    </div>

                    <div class="d-flex justify-content-center">
                      <!-- <div
                        class="d-flex align-items-center cursor-pointer border rounded p-2"
                        (click)="click({ id: 'btnAddPlan' })"
                      >
                        <i class="fa-solid fa-bullseye me-3 ms-1"></i>
                        <codx-label
                          default="Tạo bộ mục tiêu"
                          fiedName="lblTargets"
                        ></codx-label>
                      </div> -->
                      <span type="button" (click)="click({ id: 'btnAddPlan' })"
                      class="w-110px d-flex mt-3 py-2 px-4 bg-color rounded justify-content-center align-items-center">
                      <span class="fa-solid fa-bullseye btn-text-primary text-light me-1"></span>
                      <codx-label class="text-light" fiedName="lbl" default="Tạo bộ mục tiêu"></codx-label>
                    </span>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ng-template>
          </e-tabitem>
          <e-tabitem>
            <ng-template #headerText>
              <div class="d-flex align-items-center">
                <i class="fa-solid fa-folder-tree me-2"></i>
                <codx-label
                  default="Cây mục tiêu"
                  fiedName="lbltreetaget"
                  class="fw-bold"
                ></codx-label>
              </div>
            </ng-template>
            <ng-template #content>
            <lib-okr-trees [funcID]="funcID" [planRecID]="dataOKRPlans?.recID" ></lib-okr-trees>  
            </ng-template>
          </e-tabitem>
          <e-tabitem>
            <ng-template #headerText>
              <div class="d-flex align-items-center">
                <i class="fa-solid fa-list me-2"></i>
                <codx-label
                  default="Công việc"
                  fiedName="lbljob"
                  class="fw-bold"
                ></codx-label>
              </div>
            </ng-template>
            <ng-template #content>
              <codx-tasks-share
                [funcID]="'OMT013'"
                [showButtonAdd]="true"
                [showMoreFunc]="true"
              ></codx-tasks-share>
            </ng-template>
          </e-tabitem>
          <e-tabitem>
            <ng-template #headerText>
              <div class="d-flex align-items-center">
                <i class="fa-regular fa-calendar me-2"></i>
                <codx-label
                  default="Họp định kỳ"
                  fiedName="lblmeeting"
                  class="fw-bold"
                ></codx-label>
              </div>
            </ng-template>
            <ng-template #content
              ><lib-okr-reviews [formModel]="view?.formModel"></lib-okr-reviews>
            </ng-template>
          </e-tabitem>
          <e-tabitem>
            <ng-template #headerText>
              <div class="d-flex align-items-center">
                <i class="fa-regular fa-square-check me-2"></i>
                <codx-label
                  default="Đánh giá"
                  fiedName="lblmeeting"
                  class="fw-bold"
                ></codx-label>
              </div>
            </ng-template>
            <ng-template #content> Đánh giá </ng-template>
          </e-tabitem>
          <e-tabitem>
            <ng-template #headerText>
              <div class="d-flex align-items-center">
                <i class="fa-solid fa-clock-rotate-left me-2"></i>
                <codx-label
                  default="Cập nhật"
                  fiedName="lblmeeting"
                  class="fw-bold"
                ></codx-label>
              </div>
            </ng-template>
            <ng-template #content> Cập nhật </ng-template>
          </e-tabitem>
        </e-tabitems>
      </ejs-tab>
    </div>
  </div>
</ng-template>
