<div class="position-relative my-3">
    <ng-container *ngIf="type=='view'">
        <div class="d-flex align-items-center mt-4">
            <div class="me-3">
                <codx-img [objectId]="user.userID" objectType="AD_Users" [width]="35"></codx-img>
            </div>
            <div class="position-relative cmt feed-box cmt-cmt c3 w-100" (keyup.enter)="sendComments()">
                <codx-input type="text" placeholder="Trả lời" [crrValue]="comment" (valueChange)="valueChange($event)">
                </codx-input>
                <div class="feed-icon btn-send">
                    <span class="btn btn-icon btn-sm px-0 text-dark-50 text-hover-primary " (click)="uploadFile()">
                        <span class="icon-attach_file icon-18"></span>
                    </span>
                    <span class="btn btn-icon btn-sm px-0 text-dark-50 text-hover-primary " (click)="sendComments()">
                        <span class="icon-send icon-18"></span>
                    </span>
                </div>
            </div>
        </div>
        <codx-attachment #codxATM 
            [functionID]="funcID" 
            [objectType]="objectType" 
            [hideFolder]="'1'"
            [hideUploadBtn]="'1'" 
            [hideDes]="'1'" 
            [type]="'inline'" 
            allowExtensions=".jpg,.png" 
            [allowMultiFile]="'1'"
            [hideImageUpload]="'1'" 
            [hideBtnSave]="'1'" 
            [hideImageThumb]="'1'" 
            [showMessage]="'0'"
            (fileCount)="selectedFiles($event)">
        </codx-attachment>
        <ng-container *ngIf="lstFile">
            <div class="container">
                <ng-container *ngFor="let item of lstFile">
                    <div class="d-flex position-relative">
                        <div class="my-3">
                            <ng-container *ngIf="item.referType == REFERTYPE.IMAGE">
                                <ng-container *ngIf="item.recID;else imageSrc">
                                    <codx-img [recId]="item.recID" [objectId]="item.objectID" [width]="100"
                                        cssClass="pic" imageType="square">
                                    </codx-img>
                                </ng-container>
                                <ng-template #imageSrc>
                                    <img [src]="item.data || item.thumbnail" alt="" class="image">
                                </ng-template>
                            </ng-container>
                            <ng-container *ngIf="item.referType == REFERTYPE.VIDEO">
                                <video #video controls class="w-100 rounded min-h-250px">
                                    <source [src]="item.srcVideo || item.data" type="video/mp4">
                                </video>
                            </ng-container>
                            <ng-container *ngIf="item.referType == REFERTYPE.APPLICATION">
                                <codx-temp-full imageSrc="{{item.extension | avtFile}}" imgCss="w-20px me-3 cursor-pointer"
                                    title="{{item.fileName}}" [descLine]="1">
                                </codx-temp-full>
                            </ng-container>
                            
                        </div>
                        <div class="remove-file">
                            <a href="javascript:void(0)" class="h-100" (click)="removeFile(item)">
                                <i class="icon-close icon-18 text-danger"></i>
                            </a>
                        </div>
                    </div>
                </ng-container>
            </div>
            
        </ng-container>
        
    </ng-container>
</div>