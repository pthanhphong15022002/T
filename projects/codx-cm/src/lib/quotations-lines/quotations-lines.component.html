<div class="h-100 p-3">
    <codx-gridview-v2
      #gridQuationsLines
      service="CM"
      [formName]="fmQuotationLines.formName"
      [gridViewName]="fmQuotationLines.gridViewName"
      [entityName]="fmQuotationLines.entityName"
      [templateMore]="morefunction"
      [allowFiltering]="true"
      [allowSorting]="true"
      [dataSource]="listQuotationLines"
      [autoLoad]="false"
      rowHeight="50"
      predicates="TransID=@0"
      [dataValues]="transID"
      (cellChanged)="quotationsLineChanged($event)"
      (created)="gridCreated($event, gridQuationsLines)"
    ></codx-gridview-v2>
  </div>
  <div class="d-flex">
    <button
      type="button"
      class="btn btn-clean btn-sm btn-icon btn-icon-md p-5"
      (click)="addPopup()"
    >
      <i class="icon-add_box icon-24 text-primary"></i>
    </button>
    <button class="btn btn-light-primary" (click)="addRow()">
      <codx-label name="AddLines" default="Thêm dòng"></codx-label>
    </button>
  </div>
  <!-- //  [editSettings]="editSettings"  [columnsGrid]="columnsGrid" không dung de cho nó ok roi dung line-->
  <ng-template #morefunction let-data>
    <div class="" style="height: 30px">
      <codx-mfunc
        [dataItem]="data"
        [formModel]="fmQuotationLines"
        type="view"
        [isBookMark]="false"
        (clickMF)="clickMFQuotationLines($event, data)"
      ></codx-mfunc>
    </div>
  </ng-template>
  <!-- tem grid -->
  <ng-template #itemTemp let-data>
    <div class="d-flex align-items-center me-5 mb-1">
      <span
        class="fw-bold line-clamp line-clamp-2"
        #itemID
        [innerHTML]="
          data?.itemID
            | formatvalue
              : formModel
              : 'itemID'
              : itemID
              : fmQuotationLines.formName
              : fmQuotationLines.gridViewName
            | async
        "
      ></span>
    </div>
    <div class="d-flex flex-wrap text-nowrap">
      <div class="d-flex align-items-center mb-1 me-6">
        <!-- <span class="icon-i-dot icon-22"></span> -->
        <codx-label
          class="text-gray-700 label-colon"
          fiedName="IDIM0"
          [formName]="fmQuotationLines.formName"
          [gridViewName]="fmQuotationLines.gridViewName"
        >
        </codx-label>
        <span
          class="fs-6 fw-bold"
          #idiM0
          [innerHTML]="
            data?.idiM0
              | formatvalue
                : formModel
                : 'idiM0'
                : idiM0
                : fmQuotationLines.formName
                : fmQuotationLines.gridViewName
              | async
          "
        ></span>
      </div>

      <div class="d-flex align-items-center mb-1 me-6">
        <!-- <span class="icon-i-dot icon-22"></span> -->
        <codx-label
          class="text-gray-700 label-colon"
          fiedName="IDIM1"
          [formName]="fmQuotationLines.formName"
          [gridViewName]="fmQuotationLines.gridViewName"
        >
        </codx-label>
        <span
          class="fs-6 fw-bold"
          #idiM1
          [innerHTML]="
            data?.idiM1
              | formatvalue
                : formModel
                : 'idiM1'
                : idiM1
                : fmQuotationLines.formName
                : fmQuotationLines.gridViewName
              | async
          "
        ></span>
      </div>

      <div class="d-flex align-items-center mb-1 me-6">
        <!-- <span class="icon-i-dot icon-22"></span> -->
        <codx-label
          class="text-gray-700 label-colon"
          fiedName="IDIM2"
          [formName]="fmQuotationLines.formName"
          [gridViewName]="fmQuotationLines.gridViewName"
        >
        </codx-label>
        <span
          class="fs-6 fw-bold"
          #idiM2
          [innerHTML]="
            data?.idiM2
              | formatvalue
                : formModel
                : 'idiM2'
                : idiM2
                : fmQuotationLines.formName
                : fmQuotationLines.gridViewName
              | async
          "
        ></span>
      </div>

      <div class="d-flex align-items-center mb-1 me-6">
        <!-- <span class="icon-i-dot icon-22"></span> -->
        <codx-label
          class="text-gray-700 label-colon"
          fiedName="IDIM3"
          [formName]="fmQuotationLines.formName"
          [gridViewName]="fmQuotationLines.gridViewName"
        >
        </codx-label>
        <span
          class="fs-6 fw-bold"
          #idiM3
          [innerHTML]="
            data?.idiM3
              | formatvalue
                : formModel
                : 'idiM3'
                : idiM3
                : fmQuotationLines.formName
                : fmQuotationLines.gridViewName
              | async
          "
        ></span>
      </div>

      <div class="d-flex align-items-center mb-1 me-6">
        <!-- <span class="icon-i-dot icon-22"></span> -->
        <codx-label
          class="text-gray-700 label-colon"
          fiedName="IDIM4"
          [formName]="fmQuotationLines.formName"
          [gridViewName]="fmQuotationLines.gridViewName"
        >
        </codx-label>

        <span
          class="fs-6 fw-bold"
          #idiM4
          [innerHTML]="
            data?.idiM4
              | formatvalue
                : formModel
                : 'idiM4'
                : idiM4
                : fmQuotationLines.formName
                : fmQuotationLines.gridViewName
              | async
          "
        ></span>
      </div>
    </div>
  </ng-template>
