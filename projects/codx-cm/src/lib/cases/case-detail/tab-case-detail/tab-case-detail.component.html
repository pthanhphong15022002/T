<container-element [ngSwitch]="tabClicked">
  <some-element
    *ngSwitchCase="tabInformation"
    [ngTemplateOutlet]="information"
  ></some-element>
  <some-element
    *ngSwitchCase="tabField"
    [ngTemplateOutlet]="field"
  ></some-element>
  <some-element
    *ngSwitchCase="tabTask"
    [ngTemplateOutlet]="task"
  ></some-element>
  <some-element *ngSwitchDefault></some-element>
</container-element>
<!-- nvthuan công việc -->
<ng-template #task let-data="value">
  <div></div>
  <div *ngFor="let step of listStep; let i = index" class="mt-5">
    <div>
      <span
        class="h4 me-3 justify-content-center align-items-center"
        style="
          width: 35px;
          height: 35px;
          border-radius: 50%;
          background-color: rgb(45, 171, 255);
          display: inline-flex;
        "
        >{{ i + 1 }}</span
      >
      <span class="h4">{{ step.stepName }}</span>
    </div>
    <codx-step-task
      [dataSources]="step"
      [isShowButton]="false"
      [isShowMore]="true"
    ></codx-step-task>
    <hr />
  </div>
</ng-template>

<ng-template #information>  <div class="d-flex flex-column">
    <div>
      <h2><codx-label default="Thông tin chung"></codx-label></h2>
    </div>


      <div class="mb-3">
        <div class="row py-2">
          <div class="col-2">
            <codx-label
              class="label-colon"
              [setRequire]="false"
              [formModel]="formModel"
              fiedName="State"


            ></codx-label>
          </div>
          <div class="col-4">
            <span
              class="fs-7"
              #state
              [innerHTML]="
                dataSelected?.state
                  | formatvalue : formModel : 'state' : state
                  | async
              "
            ></span>
          </div>

          <div class="col-2">
            <codx-label
              class="label-colon"
              [setRequire]="false"
              [formModel]="formModel"
              fiedName="ProcessID"

            ></codx-label>
          </div>
          <div class="col-4">
            <span
              class="fs-7"
              #processID
              [innerHTML]="
                dataSelected?.ProcessID
                  | formatvalue : formModel : 'processID' : processID : 'CMCases'
                  : 'grvCMCases'
                  | async
              "
            ></span>
          </div>
        </div>


        <div class="row py-2">
          <div class="col-2">
            <codx-label
              class="label-colon"
              [setRequire]="false"
              [formModel]="formModel"
              fiedName="OccuredPlace"
            ></codx-label
            >
          </div>
          <div class="col-4">
            <span
              class="fs-7"
              #occuredPlace
              [innerHTML]="
                dataSelected?.occuredPlace
                  | formatvalue
                    : formModel
                    : 'occuredPlace'
                    : occuredPlace
                    : 'CMCases'
                    : 'grvCMCases'
                  | async
              "
            ></span>
          </div>

          <div class="col-2">
            <codx-label
            class="label-colon"
            [setRequire]="false"
            [formModel]="formModel"
            fiedName="ChannelID"
            ></codx-label>
          </div>
          <div class="col-4">
            <span
              class="fs-7"
              #channelID
              [innerHTML]="
                dataSelected?.channelID
                  | formatvalue
                    : formModel
                    : 'channelID'
                    : channelID
                    : 'CMCases'
                    : 'grvCMCases'
                  | async
              "
            ></span>
          </div>
        </div>

        <div *ngIf="casesType == '1'">
          <div class="row py-2">
            <div class="col-2">
              <codx-label
                class="label-colon"
                [setRequire]="false"
                [formModel]="formModel"
                fiedName="OccuredOn"
              ></codx-label
              >
            </div>
            <div class="col-4">
              <span
                class="fs-7"
                #occuredOn
                [innerHTML]="
                  dataSelected?.occuredOn
                    | formatvalue
                      : formModel
                      : 'occuredOn'
                      : occuredOn
                      : 'CMCases'
                      : 'grvCMCases'
                    | async
                "
              ></span>
            </div>
          </div>

          <div class="row py-2">
            <div class="col-2">
              <codx-label
                default="Thời gian phát hiện"
                fiedName="OccuredOn"
              ></codx-label
              >
            </div>
            <div class="col-4">
              <span
                class="fs-7"
                #occuredOn
                [innerHTML]="
                  dataSelected?.occuredOn
                    | formatvalue
                      : formModel
                      : 'occuredOn'
                      : occuredOn
                      : 'CMCases'
                      : 'grvCMCases'
                    | async
                "
              ></span>
            </div>
          </div>
        </div>

      </div>

    <div class="mt-5">
      <div class="mb-3">
        <h2><codx-label default="Mô tả chi tiết"></codx-label></h2>
      </div>
      <div class="d-flex flex-column-reverse">
        <div class="d-flex justify-content-start pb-2">
          <div class="col-2">
            <codx-label default="Hiện trạng" fieldName="Reality"></codx-label>:
          </div>
          <div class="col-10">
            <span
              class="fs-7"
              #reality
              [innerHTML]="
                dataSelected?.reality
                  | formatvalue
                    : formModel
                    : 'reality'
                    : reality
                    : 'CMCases'
                    : 'grvCMCases'
                  | async
              "
            ></span>
          </div>
        </div>
      </div>
      <div class="d-flex flex-column-reverse py-2">
        <div class="d-flex justify-content-start">
          <div class="col-2">
            <codx-label default="Mô tả chi tiết" fieldName="Memo"></codx-label>:
          </div>
          <div class="col-10">
            <span
              class="fs-7"
              #memo
              [innerHTML]="
                dataSelected?.memo
                  | formatvalue
                    : formModel
                    : 'memo'
                    : memo
                    : 'CMCases'
                    : 'grvCMCases'
                  | async
              "
            ></span>
          </div>
        </div>
      </div>

      <div class="d-flex flex-column-reverse py-2">
        <div class="d-flex justify-content-start">
          <div class="col-2">
            <codx-label default="Mô tả chi tiết" fieldName="Solution"></codx-label>:
          </div>
          <div class="col-10">
            <span
              class="fs-7"
              #solution
              [innerHTML]="
                dataSelected?.solution
                  | formatvalue
                    : formModel
                    : 'solution'
                    : solution
                    : 'CMCases'
                    : 'grvCMCases'
                  | async
              "
            ></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #field>
  <div class="d-flex flex-column">
    <ng-container *ngFor="let item of listStep">
      <codx-fields-detail-temp
        *ngIf="item?.fields?.length > 0"
        [dataStep]="item"
        [showColumnControl]="showColumnControl(item.stepID)"
        [isUpdate]="isUpdate && item.stepStatus < '2'"
      >
      </codx-fields-detail-temp>
    </ng-container>
  </div>
</ng-template>
