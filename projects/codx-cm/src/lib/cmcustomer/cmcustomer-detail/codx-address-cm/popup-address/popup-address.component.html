<codx-form
  #form
  headerText="{{ title }}"
  [body]="body"
  [footer]="footer"
  [dialog]="dialog"
  [data]="data"
  [formModel]="dialog.formModel"
>
</codx-form>

<ng-template #body>
  <ng-container *ngIf="form?.formGroup">
    <div class="form-group mt-4">
      <codx-label
        fiedName="AdressType"
        [formModel]="form.formModel"
      ></codx-label>
      <codx-input
        [formModel]="form.formModel"
        (valueChange)="valueChange($event)"
        [crrValue]="data?.adressType"
        field="adressType"
      >
      </codx-input>
    </div>
    <div class="form-group mt-4">
      <div class="d-flex justify-content-between">
        <codx-label
          fiedName="Address"
          [formModel]="form.formModel"
        ></codx-label>
        <span
          class="icon-refresh icon-18 text-dark fw-bold text-hover-primary cursor-pointer"
          (click)="clickRefesh()"
        >
        </span>
      </div>
      <input
        class="input w-100"
        type="text"
        [placeholder]="gridViewSetup?.Address?.description ?? gridViewSetup?.Address?.headerText"
        [(ngModel)]="data.address"
        (change)="checkAdressName()"
      />
    </div>
    <div class="row">
      <div class="col-6">
        <div class="form-group">
          <codx-label
            fiedName="CountryID"
            [formModel]="form.formModel"
          ></codx-label>
          <codx-input
            [formModel]="form.formModel"
            (valueChange)="valueChange($event)"
            [formGroup]="form?.formGroup"
            field="countryID"
          >
          </codx-input>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <codx-label
            fiedName="ProvinceID"
            [formModel]="form.formModel"
          ></codx-label>
          <codx-input
            [formModel]="form.formModel"
            (valueChange)="valueChange($event)"
            [Group]="form.formGroup"
            field="provinceID"
          >
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-6">
        <div class="form-group">
          <codx-label
            fiedName="DistrictID"
            [formModel]="form.formModel"
          ></codx-label>
          <codx-input
            [formModel]="form.formModel"
            (valueChange)="valueChange($event)"
            [Group]="form.formGroup"
            field="districtID"
          >
          </codx-input>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <codx-label
            fiedName="WardID"
            [formModel]="form.formModel"
          ></codx-label>
          <codx-input
            [formModel]="form.formModel"
            (valueChange)="valueChange($event)"
            [Group]="form.formGroup"
            field="wardID"
          >
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-6 form-group">
        <codx-label
          fiedName="PostalCode"
          [formModel]="form.formModel"
        ></codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="postalCode"
        >
        </codx-input>
      </div>
      <div class="col-6 form-group">
        <codx-label
          fiedName="RegionID"
          [formModel]="form.formModel"
        ></codx-label>
        <codx-input
          [formModel]="form.formModel"
          (valueChange)="valueChange($event)"
          [formGroup]="form?.formGroup"
          field="regionID"
        >
        </codx-input>
      </div>
    </div>
    <div class="d-flex justify-content-between">
      <div class="me-3">
        <codx-input
          [field]="'isDefault'"
          [crrValue]="isDefault"
          type="switch"
          (valueChange)="valueIsDefault($event)"
        ></codx-input>
      </div>
      <div class="w-100">
        <codx-label [formModel]="form.formModel" fiedName="IsDefault">
        </codx-label>
      </div>
    </div>
  </ng-container>
</ng-template>
<ng-template #footer>
  <div class="d-flex justify-content-end">
    <div class="me-2">
      <button
        type="button"
        (click)="dialog.close()"
        class="btn btn-outline-primary"
      >
        <codx-label
          name="lblCancel"
          [formModel]="dialog.formModel"
          default="Hủy"
        ></codx-label>
      </button>
    </div>
    <div class="">
      <button type="button" (click)="onSave()" class="btn btn-primary">
        <codx-label
          name="lblSave"
          [formModel]="dialog.formModel"
          default="Đồng ý"
        ></codx-label>
      </button>
    </div>
  </div>
</ng-template>
