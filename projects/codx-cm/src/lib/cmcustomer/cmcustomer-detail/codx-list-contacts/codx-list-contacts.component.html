<div
  class="empty-data"
  *ngIf="listContacts == null || listContacts.length == 0"
>
  <div class="container h-100">
    <div class="list-empty card card-flush h-100">
      <div class="d-flex flex-column flex-center justify-content-center">
        <img
          src="../assets/themes/sys/default/img/DataEmpty.svg"
          class="w-200px"
        />
        <div class="fs-5 text-dark fw-bold mt-2 text-center">
          {{ "SYS011" | mssg | async }}
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="listContacts != null && listContacts.length > 0">
  <div
    class="d-flex justify-content-end bg-gray-200 p-3 rounded-2 mb-2"
    *ngIf="!hidenMF"
  >
    <div class="me-3">
      <button
        type="button"
        class="btn btn-clean btn-sm btn-icon btn-icon-md"
        (click)="clickPopupContacts()"
      >
        <i class="icon-check-correct icon-18 text-primary"></i>
      </button>
    </div>
    <div>
      <button
        type="button"
        class="btn btn-clean btn-sm btn-icon btn-icon-md"
        (click)="clickAddContact('add', null, moreFuncAdd)"
      >
        <i class="icon-person_add_alt_1 icon-18 text-primary"></i>
      </button>
    </div>
  </div>
  <div *ngFor="let item of listContacts">
    <ng-container
      [ngTemplateOutlet]="contacts"
      [ngTemplateOutletContext]="{ $implicit: item }"
    >
    </ng-container>
  </div>

  <ng-template #contacts let-data>
    <div class="row mb-2 has-action-menu-od">
      <div class="col-4 d-flex">
        <div class="me-3">
          <codx-img
            [objectId]="data.recID"
            [objectName]="data?.contactName"
            [objectType]="'CM_Contacts'"
            [width]="35"
          >
          </codx-img>
        </div>
        <div class="d-flex flex-column flex-grow-1">
          <div class="d-flex justify-content-between">
            <div class="d-flex flex-column">
              <div class="fw-bold fs-6 text-dark codx-text-overflow-1line mb-1">
                {{ data?.contactName }}
              </div>
              <div class="me-4" *ngIf="data.address">
                <span
                  class="icon-location_on icon-16 me-1 text-gray-700"
                ></span>
                <span class="text-gray-900">{{ data.address }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-4 d-flex flex-column">
        <div class="mb-1" *ngIf="data?.mobile">
          <span
            [ngClass]="
              data.allowCall
                ? 'icon-phone_android text-primary'
                : 'icon-phonelink_erase'
            "
            class="icon-16 me-1"
          ></span>
          <span
            [ngClass]="data.allowCall ? 'text-primary' : ''"
            class="text-gray-900"
            >{{ data.mobile }}</span
          >
        </div>
        <div *ngIf="data?.personalEmail">
          <span
            [ngClass]="
              data.allowEmail
                ? 'icon-email text-primary'
                : 'icon-print_disabled'
            "
            class="icon-16 me-1 text-gray-900"
          ></span>
          <span
            [ngClass]="data.allowEmail ? 'text-primary' : ''"
            class="text-gray-900"
            >{{ data.personalEmail }}</span
          >
        </div>
      </div>
      <div class="col-4 d-flex justify-content-start">
        <div
          class="mb-1"
          *ngIf="
            data?.contactType != null && data?.contactType.split(';').length > 0
          "
        >
          <ng-container *ngFor="let item of data?.contactType.split(';')">
            <div
              class="mb-1"
              [innerHTML]="
                item | formatvalue : formModelContact : 'ContactType' | async
              "
            >
              <!-- {{ item | vll : vllContactType : "text" | async }} -->
            </div>
          </ng-container>
        </div>
        <div class="action-menu-od d-flex ms-5">
          <codx-mfunc
            [hidden]="hidenMF"
            [formModel]="formModelContact"
            [isBookMark]="true"
            [dataItem]="data"
            [type]="'hover'"
            (clickMF)="clickMFContact($event, data)"
            (changeDataMF)="changeDataMFContact($event, data)"
          >
          </codx-mfunc>
        </div>
      </div>
    </div>
  </ng-template>
</div>
