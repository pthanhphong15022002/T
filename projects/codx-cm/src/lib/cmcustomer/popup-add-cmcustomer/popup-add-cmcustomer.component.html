<codx-layout-add
  #form
  [title]="title"
  (setTitle)="setTitle($event)"
  [subHeader]="subHeader"
  [tabInfo]="tabInfo"
  [tabContent]="
    checkType == '1'
      ? [tabGeneralInfo, tabDefault, tabAddress, tabContacts]
      : checkType == '2'
      ? [tabGeneralInfo, tabDefault, tabAddress]
      : checkType == '3'
      ? [tabGeneralInfo, tabDefault, tabContacts]
      : [tabGeneralInfo, tabDefault]
  "
  [openMore]="false"
  [dialog]="dialog"
  [formModel]="dialog.formModel"
  [footer]="footer"
  [data]="data"></codx-layout-add>
<ng-template #subHeader>
  <codx-tag
    field="tags"
    [entityName]="dialog.formModel.entityName"
    [isEdit]="true"
    [disabled]="isView"
    [value]="data?.tags"
    (valueChange)="valueTagChange($event)"></codx-tag>
</ng-template>

<ng-template #tabGeneralInfo>
  <ng-container *ngIf="form?.formGroup" (mouseenter)="closePopover()">
    <ng-container
      *ngIf="checkType == '1' || checkType == '5'"
      (mouseenter)="closePopover()">
      <ng-container [ngTemplateOutlet]="tabCustomer"></ng-container>
    </ng-container>
    <ng-container *ngIf="checkType == '2'" (mouseenter)="closePopover()">
      <ng-container [ngTemplateOutlet]="tabContact"></ng-container>
    </ng-container>
    <ng-container
      *ngIf="checkType == '3' || checkType == '4'"
      (mouseenter)="closePopover()">
      <ng-container [ngTemplateOutlet]="tabPartner"></ng-container>
    </ng-container>
  </ng-container>
</ng-template>
<ng-template #tabAddress (mouseenter)="closePopover()">
  <ng-container *ngIf="form?.formGroup" (mouseenter)="closePopover()">
    <div (mouseenter)="closePopover()">
      <codx-address-cm
        #codxListAddress
        (lstAddressEmit)="lstAddressEmit($event)"
        (lstAddressDeleteEmit)="lstAddressDeleteEmit($event)"
        [type]="'formAdd'"
        [funcID]="funcID"
        [hidden]="isView"
        [entityName]="dialog.formModel.entityName"
        [id]="data.recID"
        [objectName]="getNameCrm(data)"></codx-address-cm>
    </div>
  </ng-container>
</ng-template>
<ng-template #tabContacts (mouseenter)="closePopover()">
  <ng-container *ngIf="form?.formGroup" (mouseenter)="closePopover()">
    <div (mouseenter)="closePopover()">
      <codx-list-contacts
        [selectAll]="false"
        (lstContactDeleteEmit)="lstContactDeleteEmit($event)"
        (lstContactEmit)="lstContactEmit($event)"
        [funcID]="funcID"
        [objectID]="data?.recID"
        [objectType]="checkType == '1' ? '1' : '3'"
        [objectName]="checkType == '1' ? data.customerName : data.partnerName"
        [hidenMF]="isView"
        [type]="'formAdd'"></codx-list-contacts>
    </div>
  </ng-container>
</ng-template>
<ng-template #tabDefault (mouseenter)="closePopover()">
  <ng-container *ngIf="form?.formGroup" (mouseenter)="closePopover()">
    <ng-container
      *ngIf="checkType == '1' || checkType == '5'"
      (mouseenter)="closePopover()">
      <div class="mb-2" (mouseenter)="closePopover()">
        <codx-label
          (mouseenter)="closePopover()"
          name="lblUpdateInfo"
          class="fs-6 text-dark text-primary fw-bold"
          default="Thông tin mở rộng"
          [formModel]="form.formModel">
        </codx-label>
        <div class="row mt-5" (mouseenter)="closePopover()">
          <div class="col-6" (mouseenter)="closePopover()">
            <div
              class="form-group"
              *ngIf="checkType == '1'"
              (mouseenter)="closePopover()">
              <codx-label [formModel]="form.formModel" fiedName="AnnualRevenue">
              </codx-label>
              <codx-input
                (mouseenter)="closePopover()"
                [formModel]="form.formModel"
                [Group]="form.formGroup"
                [disabled]="isView"
                field="annualRevenue">
              </codx-input>
            </div>
            <div class="form-group" (mouseenter)="closePopover()">
              <codx-label [formModel]="form.formModel" fiedName="BankAccount">
              </codx-label>
              <codx-input
                (mouseenter)="closePopover()"
                [formModel]="form.formModel"
                [Group]="form.formGroup"
                field="bankAccount"
                [disabled]="isView">
              </codx-input>
            </div>
            <div
              class="form-group"
              *ngIf="checkType == '1'"
              (mouseenter)="closePopover()">
              <codx-label [formModel]="form.formModel" fiedName="WorkingDays">
              </codx-label>
              <codx-input
                [formModel]="form.formModel"
                [Group]="form.formGroup"
                field="workingDays"
                [disabled]="isView">
              </codx-input>
            </div>
          </div>
          <div class="col-6" (mouseenter)="closePopover()">
            <div
              class="form-group"
              *ngIf="checkType == '1'"
              (mouseenter)="closePopover()">
              <codx-label [formModel]="form.formModel" fiedName="Headcounts">
              </codx-label>
              <codx-input
                (mouseenter)="closePopover()"
                [formModel]="form.formModel"
                [Group]="form.formGroup"
                field="headcounts"
                [disabled]="isView">
              </codx-input>
            </div>
            <div class="form-group" (mouseenter)="closePopover()">
              <codx-label
                [formModel]="form.formModel"
                fiedName="bankID"
                (mouseenter)="closePopover()">
              </codx-label>
              <codx-input
                (mouseenter)="closePopover()"
                [formModel]="form.formModel"
                [Group]="form.formGroup"
                field="bankID"
                [disabled]="isView">
              </codx-input>
            </div>
            <div
              class="form-group"
              (mouseenter)="closePopover()"
              style="margin-top: 33px"
              *ngIf="checkType == '1'">
              <div
                class="d-flex justify-content-between"
                (mouseenter)="closePopover()">
                <div class="me-2" (mouseenter)="closePopover()">
                  <codx-input
                    (mouseenter)="closePopover()"
                    [formModel]="form.formModel"
                    [Group]="form.formGroup"
                    field="officialHour"
                    [disabled]="isView">
                  </codx-input>
                </div>
                <div class="w-100" (mouseenter)="closePopover()">
                  <codx-label
                    [formModel]="form.formModel"
                    fiedName="OfficialHour">
                  </codx-label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row form-group" (mouseenter)="closePopover()">
          <div class="col-6" (mouseenter)="closePopover()">
            <div class="form-group" (mouseenter)="closePopover()">
              <codx-label [formModel]="form.formModel" fiedName="SegmentID">
              </codx-label>
              <codx-input
                [formModel]="form.formModel"
                [Group]="form.formGroup"
                field="segmentID"
                [disabled]="isView">
              </codx-input>
            </div>
          </div>
          <div class="col-6" (mouseenter)="closePopover()">
            <div class="form-group" (mouseenter)="closePopover()">
              <codx-label [formModel]="form.formModel" fiedName="BusinessType">
              </codx-label>
              <codx-input
                [formModel]="form.formModel"
                [Group]="form.formGroup"
                field="businessType"
                [disabled]="isView">
              </codx-input>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="mb-2 mt-5" (mouseenter)="closePopover()">
        <codx-label
          (mouseenter)="closePopover()"
          name="lblSystemInfo"
          class="fs-6 text-dark text-primary fw-bold"
          default="Thông tin mặc định"
          [formModel]="form.formModel">
        </codx-label>
        <div class="row mt-3" (mouseenter)="closePopover()">
          <div class="form-group" (mouseenter)="closePopover()">
            <codx-label [formModel]="form.formModel" fiedName="ChannelID">
            </codx-label>
            <codx-input
              (mouseenter)="closePopover()"
              [formModel]="form.formModel"
              [Group]="form.formGroup"
              field="channelID"
              [disabled]="isView">
            </codx-input>
          </div>
        </div>

      </div> -->
    </ng-container>
    <ng-container *ngIf="checkType == '2'" (mouseenter)="closePopover()">
      <div class="row">
        <div class="col-6 form-group" (mouseenter)="closePopover()">
          <codx-label
            [formModel]="form.formModel"
            fiedName="Nationality"
            (mouseenter)="closePopover()">
          </codx-label>
          <codx-input
            (mouseenter)="closePopover()"
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="nationality"
            [disabled]="isView">
          </codx-input>
        </div>
        <div class="col-6 form-group" (mouseenter)="closePopover()">
          <codx-label [formModel]="form.formModel" fiedName="BirthPlace">
          </codx-label>
          <codx-input
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="birthPlace"
            [disabled]="isView">
          </codx-input>
        </div>
      </div>
      <div class="row" (mouseenter)="closePopover()">
        <div class="col-6 form-group" (mouseenter)="closePopover()">
          <codx-label [formModel]="form.formModel" fiedName="IDCardNo">
          </codx-label>
          <codx-input
            (mouseenter)="closePopover()"
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="idCardNo"
            [disabled]="isView">
          </codx-input>
        </div>
        <div class="col-6 form-group" (mouseenter)="closePopover()">
          <codx-label [formModel]="form.formModel" fiedName="IssuedOn">
          </codx-label>
          <codx-input
            (mouseenter)="closePopover()"
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="issuedOn"
            [disabled]="isView">
          </codx-input>
        </div>
      </div>
      <div class="form-group" (mouseenter)="closePopover()">
        <codx-label [formModel]="form.formModel" fiedName="IssuedBy">
        </codx-label>
        <codx-input
          (mouseenter)="closePopover()"
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="issuedBy"
          [disabled]="isView">
        </codx-input>
      </div>
      <div class="row" (mouseenter)="closePopover()">
        <div class="col-6 form-group" (mouseenter)="closePopover()">
          <codx-label [formModel]="form.formModel" fiedName="EthnicGroup">
          </codx-label>
          <codx-input
            (mouseenter)="closePopover()"
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="ethnicGroup"
            [disabled]="isView">
          </codx-input>
        </div>
        <div class="col-6 form-group" (mouseenter)="closePopover()">
          <codx-label
            [formModel]="form.formModel"
            fiedName="Religion"
            (mouseenter)="closePopover()">
          </codx-label>
          <codx-input
            (mouseenter)="closePopover()"
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="religion"
            [disabled]="isView">
          </codx-input>
        </div>
      </div>
      <div class="row" (mouseenter)="closePopover()">
        <div class="col-6 form-group" (mouseenter)="closePopover()">
          <codx-label
            [formModel]="form.formModel"
            [fiedName]="'BankAccount'"
            (mouseenter)="closePopover()">
          </codx-label>
          <codx-input
            (mouseenter)="closePopover()"
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            [field]="'bankAccount'"
            [disabled]="isView">
          </codx-input>
        </div>
        <div class="col-6 form-group" (mouseenter)="closePopover()">
          <codx-label
            [formModel]="form.formModel"
            [fiedName]="'BankID'"
            (mouseenter)="closePopover()">
          </codx-label>
          <codx-input
            (mouseenter)="closePopover()"
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            [field]="'bankID'"
            [disabled]="isView">
          </codx-input>
        </div>
      </div>
      <div class="row" (mouseenter)="closePopover()">
        <div class="col-6 form-group" (mouseenter)="closePopover()">
          <div class="row" (mouseenter)="closePopover()">
            <div class="col-7" (mouseenter)="closePopover()">
              <codx-label
                [formModel]="form.formModel"
                fiedName="Phone"
                (mouseenter)="closePopover()">
              </codx-label>
              <codx-input
                (mouseenter)="closePopover()"
                [formModel]="form.formModel"
                [Group]="form.formGroup"
                field="phone"
                [disabled]="isView">
              </codx-input>
            </div>
            <div class="col-5" (mouseenter)="closePopover()">
              <codx-label
                [formModel]="form.formModel"
                fiedName="PhoneExt"
                (mouseenter)="closePopover()">
              </codx-label>
              <codx-input
                (mouseenter)="closePopover()"
                [formModel]="form.formModel"
                [Group]="form.formGroup"
                field="phoneExt"
                [disabled]="isView">
              </codx-input>
            </div>
          </div>
        </div>
        <div class="col-6 form-group" (mouseenter)="closePopover()">
          <codx-label
            [formModel]="form.formModel"
            fiedName="Email"
            (mouseenter)="closePopover()">
          </codx-label>
          <codx-input
            (mouseenter)="closePopover()"
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="email"
            [disabled]="isView">
          </codx-input>
        </div>
      </div>
    </ng-container>
    <ng-container
      *ngIf="checkType == '3' || checkType == '4'"
      (mouseenter)="closePopover()">
      <div class="mb-2" (mouseenter)="closePopover()">
        <codx-label
          name="lblUpdateInfo"
          class="fs-6 text-dark text-primary fw-bold"
          default="Thông tin mở rộng"
          [formModel]="form.formModel">
        </codx-label>
        <div class="row mt-5" (mouseenter)="closePopover()">
          <div class="col-6 form-group" (mouseenter)="closePopover()">
            <codx-label
              [formModel]="form.formModel"
              fiedName="AnnualRevenue"
              (mouseenter)="closePopover()">
            </codx-label>
            <codx-input
              (mouseenter)="closePopover()"
              [formModel]="form.formModel"
              [Group]="form.formGroup"
              field="annualRevenue"
              [disabled]="isView">
            </codx-input>
          </div>
          <div class="col-6 form-group" (mouseenter)="closePopover()">
            <codx-label
              [formModel]="form.formModel"
              fiedName="Headcounts"
              (mouseenter)="closePopover()">
            </codx-label>
            <codx-input
              [formModel]="form.formModel"
              [Group]="form.formGroup"
              field="headcounts"
              [disabled]="isView">
            </codx-input>
          </div>
        </div>
      </div>
      <div
        class="mb-2 mt-5"
        *ngIf="checkType == '3'"
        (mouseenter)="closePopover()">
        <codx-label
          name="lblSystemInfo"
          class="fs-6 text-dark text-primary fw-bold"
          default="Thông tin mặc định"
          [formModel]="form.formModel">
        </codx-label>
        <div class="row mt-3">
          <!-- <div class="col-6 form-group">
            <codx-label [formModel]="form.formModel" fiedName="SegmentID">
            </codx-label>
            <codx-input
              [formModel]="form.formModel"
              [Group]="form.formGroup"
              field="segmentID"
            >
            </codx-input>
          </div> -->
          <div class="form-group">
            <codx-label
              [formModel]="form.formModel"
              fiedName="ChannelID"
              (mouseenter)="closePopover()">
            </codx-label>
            <codx-input
              (mouseenter)="closePopover()"
              [formModel]="form.formModel"
              [Group]="form.formGroup"
              field="channelID"
              [disabled]="isView">
            </codx-input>
          </div>
        </div>
        <!-- <div class="form-group mt-3" *ngIf="funcID == 'CM0104'">
          <codx-label [formModel]="form.formModel" fiedName="SegmentID">
          </codx-label>
          <codx-input
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="segmentID"
          >
          </codx-input>
        </div> -->
      </div>
    </ng-container>
  </ng-container>
</ng-template>

<ng-template #footer>
  <div
    class="d-flex justify-content-end"
    *ngIf="!isView"
    (mouseenter)="closePopover()">
    <button
      type="button"
      class="btn btn-primary"
      [disabled]="isSaved"
      (click)="onSave()">
      <codx-label
        name="lblSave"
        [formModel]="dialog.formModel"
        default="Lưu"></codx-label>
    </button>
  </div>
</ng-template>

<ng-template #tabCustomer>
  <div class="row mt-3">
    <div class="col-6">
      <div class="form-group" (mouseenter)="closePopover()">
        <codx-label
          [formModel]="form.formModel"
          [fiedName]="'CustGroupID'"
          (mouseenter)="closePopover()">
        </codx-label>
        <codx-input
          (mouseenter)="closePopover()"
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="custGroupID"
          [disabled]="isView">
        </codx-input>
      </div>
      <div class="form-group" (mouseenter)="closePopover()">
        <codx-label
          [formModel]="form.formModel"
          [fiedName]="'CustomerID'"
          (mouseenter)="closePopover()">
        </codx-label>
        <codx-input
          (mouseenter)="closePopover()"
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [disabled]="action == 'edit' || disabledShowInput || isView"
          [placeholder]="action != 'edit' ? planceHolderAutoNumber : ''"
          field="customerID">
        </codx-input>
      </div>
    </div>
    <div class="col-6" (mouseenter)="closePopover()">
      <div class="form-group" (mouseenter)="closePopover()">
        <div style="height: 122px" (mouseenter)="closePopover()">
          <codx-label
            [formModel]="form.formModel"
            name="lblAvatar"
            default="Ảnh đại diện"></codx-label>
          <div>
            <codx-img
              #imageUpload
              class="image-inpt-wrapper fullImage"
              [referType]="'avt'"
              [width]="90"
              [funcId]="funcID"
              [objectId]="data?.recID"
              [objectType]="form.formModel.entityName"
              [objectName]="getNameCrm(data)"
              [isAllowEdit]="!isView"
              [isDefaulImg]="true"
              [imgOn]="data?.modifiedOn"
              (handleInput)="changeAvatar()">
            </codx-img>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="form-group" (mouseenter)="closePopover()">
    <codx-label
      [formModel]="form.formModel"
      [fiedName]="'CustomerName'"
      (mouseenter)="closePopover()">
    </codx-label>
    <codx-input
      type="text"
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      field="customerName"
      [disabled]="isView">
    </codx-input>
  </div>

  <div class="row" *ngIf="checkType == '1'" (mouseenter)="closePopover()">
    <div class="col-6">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="ShortName">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="shortName"
          [disabled]="isView">
        </codx-input>
      </div>
    </div>
    <div class="col-6" (mouseenter)="closePopover()">
      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="TaxCode">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="taxCode"
          [disabled]="isView">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="checkType == '5'" (mouseenter)="closePopover()">
    <div class="col-6" (mouseenter)="closePopover()">
      <div class="form-group" (mouseenter)="closePopover()">
        <codx-label [formModel]="form.formModel" fiedName="Gender">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="gender"
          [disabled]="isView">
        </codx-input>
      </div>
    </div>
    <div class="col-6" (mouseenter)="closePopover()">
      <div class="form-group" (mouseenter)="closePopover()">
        <codx-label [formModel]="form.formModel" fiedName="Birthday">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="birthday"
          [disabled]="isView">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="checkType == '5'" (mouseenter)="closePopover()">
    <div class="col-6">
      <div class="form-group" (mouseenter)="closePopover()">
        <codx-label [formModel]="form.formModel" fiedName="IDCardNo">
        </codx-label>
        <codx-input
          (mouseenter)="closePopover()"
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="idCardNo"
          [disabled]="isView">
        </codx-input>
      </div>
    </div>
    <div class="col-6" (mouseenter)="closePopover()">
      <div class="form-group">
        <codx-label
          [formModel]="form.formModel"
          fiedName="IssuedOn"
          (mouseenter)="closePopover()">
        </codx-label>
        <codx-input
          (mouseenter)="closePopover()"
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="issuedOn"
          [disabled]="isView">
        </codx-input>
      </div>
    </div>
  </div>
  <div class="form-group">
    <codx-label [formModel]="form.formModel" fiedName="address"> </codx-label>
    <codx-input
      [formModel]="form.formModel"
      [crrValue]="data?.address"
      (valueChange)="valueChangeAdress($event)"
      (focus)="focus($event)"
      field="address"
      [disabled]="isView">
    </codx-input>
  </div>
  <div class="row" *ngIf="checkType == '5'" (mouseenter)="closePopover()">
    <div class="col-6 form-group" (mouseenter)="closePopover()">
      <!-- <div class="d-flex align-items-center justify-content-between">
        <div class="d-flex align-items-center">

        </div>
        <div class="d-flex align-items-center">
          <codx-label
            class="text-gray-500 me-2"
            [formModel]="form.formModel"
            [fiedName]="'AllowCall'"
          >
          </codx-label>
          <codx-input
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="allowCall"
          >
          </codx-input>
        </div>
      </div> -->
      <codx-label [formModel]="form.formModel" [fiedName]="'Phone'">
      </codx-label>
      <codx-input
        (mouseenter)="closePopover()"
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        [field]="'phone'"
        [disabled]="isView">
      </codx-input>
    </div>
    <div class="col-6 form-group" (mouseenter)="closePopover()">
      <!-- <div class="d-flex align-items-center justify-content-between">
        <div class="d-flex align-items-center">

        </div>
        <div class="d-flex align-items-center">
          <codx-label
            class="text-gray-500 me-2"
            [formModel]="form.formModel"
            [fiedName]="'AllowEmail'"
          >
          </codx-label>
          <codx-input
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="allowEmail"
          >
          </codx-input>
        </div>
      </div> -->
      <codx-label [formModel]="form.formModel" [fiedName]="'Email'">
      </codx-label>
      <codx-input
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        [field]="'email'"
        [disabled]="isView">
      </codx-input>
    </div>
  </div>
  <div class="row" *ngIf="checkType == '1'" (mouseenter)="closePopover()">
    <div class="col-6" (mouseenter)="closePopover()">
      <div class="form-group" (mouseenter)="closePopover()">
        <codx-label [formModel]="form.formModel" fiedName="Phone"> </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="phone"
          [disabled]="isView">
        </codx-input>
      </div>
    </div>
    <div class="col-6" (mouseenter)="closePopover()">
      <div class="form-group" (mouseenter)="closePopover()">
        <codx-label [formModel]="form.formModel" fiedName="FaxNo"> </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="faxNo"
          [disabled]="isView">
        </codx-input>
      </div>
    </div>
  </div>

  <div class="form-group" (mouseenter)="closePopover()">
    <codx-label [formModel]="form.formModel" fiedName="WebPage"> </codx-label>
    <codx-input
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      field="webPage"
      [disabled]="isView">
    </codx-input>
  </div>
  <div
    class="form-group"
    *ngIf="checkType == '1'"
    (mouseenter)="closePopover()">
    <codx-label
      [formModel]="form.formModel"
      fiedName="Industries"
      (mouseenter)="closePopover()">
    </codx-label>
    <!-- <codx-input
      type="combobox"
      [crrValue]="data?.industries"
      [formModel]="form.formModel"
      [placeholder]="gridViewSetup?.Industries?.description"
      [refValue]="gridViewSetup?.Industries?.referedValue"
      (valueChange)="valueChangeIndustries($event)"
      field="industries"
    >
    </codx-input> -->
    <codx-input
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      field="industries"
      [disabled]="isView"
      (valueChange)="valueChangeIndustries($event)">
    </codx-input>
  </div>
  <div
    class="form-group"
    *ngIf="checkType == '5'"
    (mouseenter)="closePopover()">
    <codx-label
      [formModel]="form.formModel"
      fiedName="Occupation"
      (mouseenter)="closePopover()">
    </codx-label>
    <codx-input
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      field="occupation"
      [disabled]="isView">
    </codx-input>
  </div>
  <div class="form-group row" (mouseenter)="closePopover()">
    <div class="col-6">
      <codx-label
        [formModel]="form.formModel"
        fiedName="Owner"
        (mouseenter)="closePopover()">
      </codx-label>
      <codx-input
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        field="owner"
        [disabled]="isView">
      </codx-input>
    </div>
    <div class="col-6">
      <codx-label
        [formModel]="form.formModel"
        fiedName="EstablishDate"
        (mouseenter)="closePopover()">
      </codx-label>
      <codx-input
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        field="establishDate">
      </codx-input>
    </div>

  </div>
  <div class="form-group" (mouseenter)="closePopover()">
    <codx-label [formModel]="form.formModel" fiedName="ChannelID"></codx-label>
    <codx-input
      (mouseenter)="closePopover()"
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      field="channelID"
      [disabled]="isView">
    </codx-input>
  </div>
  <div class="form-group" (mouseenter)="closePopover()">
    <codx-label [formModel]="form.formModel" fiedName="Memo"> </codx-label>
    <codx-input
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      field="memo"
      [disabled]="isView">
    </codx-input>
  </div>
</ng-template>
<ng-template #tabContact>
  <ng-container>
    <div class="mb-4" (mouseenter)="closePopover()">
      <codx-label
        name="lblLink"
        class="h4 text-dark text-primary fw-bold"
        [formModel]="dialog.formModel"
        default="Đối tượng liên kết">
      </codx-label>
    </div>
    <div class="row" (mouseenter)="closePopover()">
      <div class="col-6" (mouseenter)="closePopover()">
        <div class="form-group" (mouseenter)="closePopover()">
          <codx-label [formModel]="form.formModel" [fiedName]="'objectType'">
          </codx-label>
          <codx-input
            [field]="'objectType'"
            [crrValue]="data.objectType"
            [disabled]="isView || checkContact"
            [formModel]="form.formModel"
            (valueChange)="valueChangeContact($event)"></codx-input>
        </div>
      </div>
      <div class="col-6" (mouseenter)="closePopover()">
        <div
          class="form-group"
          *ngIf="data.objectType"
          (mouseenter)="closePopover()">
          <codx-label [formModel]="form.formModel" [fiedName]="'ContactType'">
          </codx-label>
          <codx-input
            #vllCbx
            [field]="'contactType'"
            id="vllCbx"
            [disabled]="isView || checkContact"
            [crrValue]="data?.contactType"
            [formModel]="form.formModel"
            (valueChange)="valueChangeContact($event)"></codx-input>
        </div>
      </div>
    </div>
    <div
      class="form-group"
      *ngIf="data.objectType"
      (mouseenter)="closePopover()">
      <codx-label
        [formModel]="form.formModel"
        [fiedName]="'ObjectID'"></codx-label>
      <codx-input
        [field]="'objectID'"
        [disabled]="isView || checkContact"
        [crrValue]="data?.objectID"
        type="combobox"
        [refValue]="refValueCbx"
        [placeholder]="gridViewSetup?.ObjectID?.description"
        (valueChange)="valueChangeContact($event)"></codx-input>
    </div>
    <div
      class="form-group"
      *ngIf="data.objectType"
      (mouseenter)="closePopover()">
      <div class="d-flex justify-content-between" (mouseenter)="closePopover()">
        <div class="me-2" (mouseenter)="closePopover()">
          <codx-input
            [field]="'isDefault'"
            [checked]="data?.isDefault ?? false"
            [disabled]="isView"
            type="checkbox"
            (valueChange)="valueChecked($event)"></codx-input>
        </div>
        <div class="w-100" (mouseenter)="closePopover()">
          <codx-label [formModel]="form.formModel" fiedName="IsDefault">
          </codx-label>
        </div>
      </div>
    </div>
  </ng-container>
  <ng-container>
    <div class="mb-4" (mouseenter)="closePopover()">
      <codx-label
        name="lblInformation"
        class="h4 text-dark text-primary fw-bold"
        [formModel]="dialog.formModel"
        default="Thông tin chung">
      </codx-label>
    </div>
    <div class="row" (mouseenter)="closePopover()">
      <div class="col-6" (mouseenter)="closePopover()">
        <div class="form-group" (mouseenter)="closePopover()">
          <codx-label [formModel]="form.formModel" [fiedName]="'ContactID'">
          </codx-label>
          <codx-input
            [field]="'contactID'"
            [disabled]="action == 'edit' || disabledShowInput || isView"
            [placeholder]="action != 'edit' ? planceHolderAutoNumber : ''"
            [formModel]="form.formModel"
            [Group]="form.formGroup">
          </codx-input>
        </div>
        <div class="form-group" (mouseenter)="closePopover()">
          <codx-label [formModel]="form.formModel" [fiedName]="'Salutation'">
          </codx-label>
          <codx-input
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            [field]="'salutation'"
            [disabled]="isView">
          </codx-input>
        </div>
      </div>
      <div class="col-6" (mouseenter)="closePopover()">
        <div class="form-group" (mouseenter)="closePopover()">
          <div style="height: 122px" (mouseenter)="closePopover()">
            <codx-label
              [formModel]="form.formModel"
              name="lblAvatar"
              default="Ảnh đại diện"></codx-label>
            <div (mouseenter)="closePopover()">
              <codx-img
                #imageUpload
                class="image-inpt-wrapper fullImage"
                [referType]="'avt'"
                [width]="90"
                [funcId]="funcID"
                [objectId]="data?.recID"
                [objectType]="form.formModel.entityName"
                [objectName]="getNameCrm(data)"
                [isAllowEdit]="!isView"
                [isDefaulImg]="true"
                [imgOn]="data?.modifiedOn"
                (handleInput)="changeAvatar()">
              </codx-img>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group" (mouseenter)="closePopover()">
      <codx-label
        [formModel]="dialog.formModel"
        fiedName="ContactName"
        (mouseenter)="closePopover()">
      </codx-label>
      <codx-input
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        field="contactName"
        [disabled]="isView">
      </codx-input>
    </div>
    <div class="row" (mouseenter)="closePopover()">
      <div class="col-6 form-group" (mouseenter)="closePopover()">
        <codx-label [formModel]="dialog.formModel" fiedName="Gender">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="gender"
          [disabled]="isView">
        </codx-input>
      </div>
      <div class="col-6 form-group" (mouseenter)="closePopover()">
        <codx-label [formModel]="form.formModel" fiedName="Birthday">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="birthday"
          [disabled]="isView">
        </codx-input>
      </div>
    </div>
    <div class="form-group" (mouseenter)="closePopover()">
      <codx-label [formModel]="form.formModel" fiedName="address"> </codx-label>
      <codx-input
        [formModel]="form.formModel"
        [crrValue]="data?.address"
        (valueChange)="valueChangeAdress($event)"
        (focus)="focus($event)"
        field="address"
        [disabled]="isView">
      </codx-input>
    </div>
    <div class="row" (mouseenter)="closePopover()">
      <div class="col-6 form-group">
        <codx-label [formModel]="form.formModel" [fiedName]="'Mobile'">
        </codx-label>
        <!-- <div class="d-flex align-items-center justify-content-between">
          <div class="d-flex align-items-center">

          </div>
          <div class="d-flex align-items-center">
            <codx-label
              class="text-gray-500 me-2"
              [formModel]="form.formModel"
              [fiedName]="'AllowCall'"
            >
            </codx-label>
            <codx-input
              [formModel]="form.formModel"
              [Group]="form.formGroup"
              field="allowCall"
            >
            </codx-input>
          </div>
        </div> -->

        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [field]="'mobile'"
          [disabled]="isView">
        </codx-input>
      </div>
      <div class="col-6 form-group" (mouseenter)="closePopover()">
        <codx-label [formModel]="form.formModel" [fiedName]="'PersonalEmail'">
        </codx-label>
        <!-- <div class="d-flex align-items-center justify-content-between">
          <div class="d-flex align-items-center">

          </div>
          <div class="d-flex align-items-center">
            <codx-label
              class="text-gray-500 me-2"
              [formModel]="form.formModel"
              [fiedName]="'AllowEmail'"
            >
            </codx-label>
            <codx-input
              [formModel]="form.formModel"
              [Group]="form.formGroup"
              field="allowEmail"
            >
            </codx-input>
          </div>
        </div> -->
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [field]="'personalEmail'"
          [disabled]="isView">
        </codx-input>
      </div>
    </div>
    <div class="form-group" (mouseenter)="closePopover()">
      <codx-label [formModel]="form.formModel" [fiedName]="'WebPage'">
      </codx-label>
      <codx-input
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        [field]="'webPage'"
        [disabled]="isView">
      </codx-input>
    </div>
    <div class="row" (mouseenter)="closePopover()">
      <div class="col-6 form-group" (mouseenter)="closePopover()">
        <codx-label [formModel]="form.formModel" fiedName="JobTitle">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="jobTitle"
          [disabled]="isView">
        </codx-input>
      </div>
      <div class="col-6 form-group" (mouseenter)="closePopover()">
        <codx-label [formModel]="form.formModel" fiedName="Department">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="department"
          [disabled]="isView">
        </codx-input>
      </div>
    </div>
    <div class="form-group" (mouseenter)="closePopover()">
      <codx-label [formModel]="form.formModel" [fiedName]="'Memo'">
      </codx-label>
      <codx-input
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        [field]="'memo'"
        [disabled]="isView">
      </codx-input>
    </div>
  </ng-container>
</ng-template>
<ng-template #tabPartner>
  <div class="row" (mouseenter)="closePopover()">
    <div class="col-6" (mouseenter)="closePopover()">
      <div class="form-group" (mouseenter)="closePopover()">
        <codx-label
          [formModel]="form.formModel"
          [fiedName]="checkType == '3' ? 'PartnerID' : 'CompetitorID'">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [disabled]="action == 'edit' || disabledShowInput || isView"
          [placeholder]="action != 'edit' ? planceHolderAutoNumber : ''"
          [field]="checkType == '3' ? 'partnerID' : 'competitorID'">
        </codx-input>
      </div>
    </div>

    <div class="col-6" (mouseenter)="closePopover()">
      <div class="form-group" (mouseenter)="closePopover()">
        <div style="height: 122px" (mouseenter)="closePopover()">
          <codx-label
            [formModel]="form.formModel"
            name="lblAvatar"
            default="Ảnh đại diện"></codx-label>
          <div>
            <codx-img
              #imageUpload
              class="image-inpt-wrapper fullImage"
              [referType]="'avt'"
              [width]="90"
              [funcId]="funcID"
              [objectId]="data?.recID"
              [objectType]="form.formModel.entityName"
              [objectName]="getNameCrm(data)"
              [isAllowEdit]="!isView"
              [isDefaulImg]="true"
              [imgOn]="data?.modifiedOn"
              (handleInput)="changeAvatar()">
            </codx-img>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="form-group" (mouseenter)="closePopover()">
    <codx-label
      [formModel]="form.formModel"
      [fiedName]="checkType == '3' ? 'PartnerName' : 'CompetitorName'">
    </codx-label>
    <codx-input
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      [field]="checkType == '3' ? 'partnerName' : 'competitorName'"
      [disabled]="isView">
    </codx-input>
  </div>
  <div class="row" (mouseenter)="closePopover()">
    <div class="col-6 form-group" (mouseenter)="closePopover()">
      <codx-label [formModel]="form.formModel" fiedName="ShortName">
      </codx-label>
      <codx-input
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        field="shortName"
        [disabled]="isView">
      </codx-input>
    </div>
    <div class="col-6 form-group" (mouseenter)="closePopover()">
      <codx-label [formModel]="form.formModel" fiedName="TaxCode"> </codx-label>
      <codx-input
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        field="taxCode"
        [disabled]="isView">
      </codx-input>
    </div>
  </div>
  <div class="form-group" (mouseenter)="closePopover()">
    <codx-label [formModel]="form.formModel" fiedName="address"> </codx-label>
    <codx-input
      [formModel]="form.formModel"
      [crrValue]="data?.address"
      (valueChange)="valueChangeAdress($event)"
      (focus)="focus($event)"
      field="address"
      [disabled]="isView">
    </codx-input>
  </div>

  <div class="row" (mouseenter)="closePopover()">
    <div class="col-6 form-group" (mouseenter)="closePopover()">
      <codx-label [formModel]="form.formModel" fiedName="Phone"> </codx-label>
      <codx-input
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        field="phone"
        [disabled]="isView">
      </codx-input>
    </div>
    <div class="col-6 form-group" (mouseenter)="closePopover()">
      <codx-label [formModel]="form.formModel" fiedName="FaxNo"> </codx-label>
      <codx-input
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        field="faxNo"
        [disabled]="isView">
      </codx-input>
    </div>
  </div>
  <div class="form-group" (mouseenter)="closePopover()">
    <codx-label [formModel]="form.formModel" fiedName="WebPage"> </codx-label>
    <codx-input
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      field="webPage"
      [disabled]="isView">
    </codx-input>
  </div>
  <div class="form-group" (mouseenter)="closePopover()">
    <codx-label [formModel]="form.formModel" fiedName="CEO"> </codx-label>
    <codx-input
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      field="ceo"
      [disabled]="isView">
    </codx-input>
  </div>

  <div class="form-group" (mouseenter)="closePopover()">
    <codx-label [formModel]="form.formModel" fiedName="Industries">
    </codx-label>
    <codx-input
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      field="industries"
      [disabled]="isView">
    </codx-input>
    <!-- <codx-label [formModel]="form.formModel" fiedName="Industries">
    </codx-label>
    <codx-input
      type="combobox"
      [crrValue]="data?.industries"
      [formModel]="form.formModel"
      [placeholder]="gridViewSetup?.Industries?.description"
      [refValue]="gridViewSetup?.Industries?.referedValue"
      (valueChange)="valueChangeIndustries($event)"
      field="industries"
    >
    </codx-input> -->
  </div>

  <div class="form-group" (mouseenter)="closePopover()">
    <codx-label [formModel]="form.formModel" fiedName="Memo"> </codx-label>
    <codx-input
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      field="memo"
      [disabled]="isView">
    </codx-input>
  </div>
</ng-template>

<ng-template #avata (mouseenter)="closePopover()">
  <codx-img
    #imageUpload
    class="image-inpt-wrapper fullImage"
    [width]="90"
    [funcId]="funcID"
    [objectId]="data.recID"
    [objectType]="form.formModel.entityName"
    [isAllowEdit]="true"
    [isDefaulImg]="true"
    [parentType]="'AD_Users'"
    [parentID]="data.recID"
    [imgOn]="data?.modifiedOn"
    (handleInput)="changeAvatar()">
  </codx-img>
</ng-template>
