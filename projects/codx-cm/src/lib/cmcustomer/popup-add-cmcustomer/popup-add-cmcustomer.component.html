<codx-form
  #form
  [customToolbar]="header"
  [subHeader]="subHeader"
  [body]="body"
  [openMore]="true"
  [dialog]="dialog"
  [formModel]="dialog.formModel"
  [footer]="footer"
  [data]="data"
></codx-form>
<ng-template #header>
  <div class="d-flex justify-content-between w-100">
    <div class="d-flex justify-content-start">
      <div class="h3">
        {{ title }}
      </div>
      <div class="ms-3" *ngIf="funcID == 'CM0101'">
        <codx-input
          [field]="'custGroupID'"
          [formModel]="form.formModel"
          [Group]="form.formGroup"
        ></codx-input>
      </div>
    </div>
    <div class="d-flex justify-content-end">
      <i
        class="icon-close icon-18 text-hover-danger"
        (click)="dialog.close()"
      ></i>
    </div>
  </div>
</ng-template>
<ng-template #subHeader>
  <codx-tag
    field="industries"
    [entityName]="dialog.formModel.entityName"
    [isEdit]="true"
    [disabled]="false"
    [value]="data?.field"
    (valueChange)="valueTagChange($event)"
  ></codx-tag>
</ng-template>
<ng-template #body>
  <div class="mb-3" *ngIf="funcID == 'CM0102'">
    <div class="mb-4">
      <codx-label
        name="lblLink"
        class="h4 text-dark fw-bold"
        [formModel]="dialog.formModel"
        default="Đối tượng liên kết"
      >
      </codx-label>
    </div>
    <div class="row">
      <div class="col-6">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" [fiedName]="'objectType'">
          </codx-label>
          <codx-input
            [disabled]="action == 'edit' && data.objectType"
            [field]="'objectType'"
            [crrValue]="data.objectType"
            [type]="'valuelist'"
            [refValue]="gridViewSetup?.ObjectType?.referedValue"
            (valueChange)="valueChangeContact($event)"
          ></codx-input>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <codx-label [formModel]="form.formModel" [fiedName]="'ContactType'">
          </codx-label>
          <codx-input
            [disabled]="action == 'edit' && data.contactType"
            [field]="'contactType'"
            [crrValue]="data?.contactType"
            [type]="'valuelist'"
            [refValue]="gridViewSetup?.ContactType?.referedValue"
            (valueChange)="valueChangeContact($event)"
          ></codx-input>
        </div>
      </div>
    </div>
    <div class="form-group">
      <codx-label
        [formModel]="form.formModel"
        [fiedName]="'ObjectID'"
      ></codx-label>
      <codx-input
        [disabled]="action == 'edit' && data.objectID"
        [field]="'objectID'"
        [crrValue]="data?.objectID"
        type="combobox"
        [refValue]="'CM_Customers'"
        (valueChange)="valueChangeContact($event)"
      ></codx-input>
    </div>
  </div>

  <div class="mb-4">
    <codx-label
      name="lblGeneral"
      class="h4 text-dark fw-bold"
      [formModel]="dialog.formModel"
      default="Thông tin chung"
    >
    </codx-label>
  </div>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <codx-label
          [formModel]="form.formModel"
          [fiedName]="
            funcID == 'CM0101'
              ? 'CustomerID'
              : funcID == 'CM0102'
              ? 'ContactID'
              : funcID == 'CM0103'
              ? 'PartnerID'
              : 'CompetitorID'
          "
        >
        </codx-label>
        <codx-input
          [field]="
            funcID == 'CM0101'
              ? 'customerID'
              : funcID == 'CM0102'
              ? 'contactID'
              : funcID == 'CM0103'
              ? 'partnerID'
              : 'competitorID'
          "
          [formModel]="form.formModel"
          [Group]="form.formGroup"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID != 'CM0102'">
        <codx-label
          [formModel]="form.formModel"
          [fiedName]="
            funcID == 'CM0101'
              ? 'CustomerName'
              : funcID == 'CM0103'
              ? 'PartnerName'
              : 'CompetitorName'
          "
        >
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [field]="
            funcID == 'CM0101'
              ? 'customerName'
              : funcID == 'CM0103'
              ? 'partnerName'
              : 'competitorName'
          "
        >
        </codx-input>
      </div>

      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" [fiedName]="'Salutation'">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [field]="'salutation'"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="dialog.formModel" fiedName="LastName">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="lastName"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="dialog.formModel" fiedName="FirstName">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="firstName"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="dialog.formModel" fiedName="Gender">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="gender"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID != 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="ShortName">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="shortName"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101' || funcID == 'CM0103'">
        <div class="d-flex justify-content-between">
          <div class="d-flex align-items-center">
            <codx-label
              [formModel]="form.formModel"
              name="lblContacts"
              default="Liên hệ chính"
            >
            </codx-label>
          </div>
          <div class="d-flex justify-content-end">
            <div class="me-3">
              <button
                type="button"
                class="btn btn-clean btn-sm btn-icon btn-icon-md"
                (click)="clickPopupContacts()"
              >
                <i class="icon-check-correct icon-18 text-primary"></i>
              </button>
            </div>
            <div class="">
              <button
                type="button"
                class="btn btn-clean btn-sm btn-icon btn-icon-md"
                (click)="clickAddContact()"
              >
                <i class="icon-person_add_alt_1 icon-18 text-primary"></i>
              </button>
            </div>
          </div>
        </div>
        <ng-container [ngTemplateOutlet]="contacts"></ng-container>
      </div>
      <div class="form-group">
        <div class="d-flex align-items-center justify-content-between">
          <div class="d-flex align-items-center">
            <codx-label
              [formModel]="form.formModel"
              [fiedName]="funcID == 'CM0101' ? 'Phone' : funcID == 'CM0102' ? 'Mobile' : 'CompanyPhone'"
            >
            </codx-label>
          </div>
          <div class="d-flex align-items-center" *ngIf="funcID == 'CM0102'">
            <codx-label
              class="text-gray-500 me-2"
              [formModel]="form.formModel"
              [fiedName]="'AllowCall'"
            >
            </codx-label>
            <codx-input
              [formModel]="form.formModel"
              [Group]="form.formGroup"
              field="allowCall"
            >
            </codx-input>
          </div>
        </div>

        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [field]="funcID == 'CM0101' ? 'phone' : funcID == 'CM0102' ? 'mobile' : 'companyPhone'"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101' || funcID == 'CM0104'">
        <codx-label [formModel]="form.formModel" fiedName="FaxNo"> </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="faxNo"
        >
        </codx-input>
      </div>
      <div class="form-group">
        <div class="d-flex align-items-center justify-content-between">
          <div class="d-flex align-items-center">
            <codx-label
              [formModel]="form.formModel"
              [fiedName]="funcID == 'CM0101' || funcID == 'CM0104' ? 'Email' : 'PersonalEmail'"
            >
            </codx-label>
          </div>
          <div class="d-flex align-items-center" *ngIf="funcID == 'CM0102'">
            <codx-label
              class="text-gray-500 me-2"
              [formModel]="form.formModel"
              [fiedName]="'AllowEmail'"
            >
            </codx-label>
            <codx-input
              [formModel]="form.formModel"
              [Group]="form.formGroup"
              field="allowEmail"
            >
            </codx-input>
          </div>
        </div>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [field]="funcID == 'CM0101' || funcID == 'CM0104' ? 'email' : 'personalEmail'"
        >
        </codx-input>
      </div>

      <div class="form-group">
        <codx-label [formModel]="form.formModel" fiedName="WebPage">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="webPage"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101' || funcID == 'CM0103'">
        <codx-label
          [formModel]="form.formModel"
          [fiedName]="funcID == 'CM0101' ? 'CustomerFrom' : 'PartnerFrom'"
        >
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [field]="funcID == 'CM0101' ? 'customerFrom' : 'partnerFrom'"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="Birthday">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="birthday"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="BirthPlace">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="birthPlace"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="IDCardNo">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="idCardNo"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="IssuedOn">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="issuedOn"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="IssuedBy">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="issuedBy"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101'">
        <codx-label [formModel]="form.formModel" fiedName="CustomerResource">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="customerResource"
        >
        </codx-input>
      </div>
      <div class="form-group">
        <codx-label
          [formModel]="form.formModel"
          [fiedName]="funcID == 'CM0102' || funcID == 'CM0104' ? 'Note' : 'Memo'"
        >
        </codx-label>

        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [field]="funcID == 'CM0102' || funcID == 'CM0104' ? 'note' : 'memo'"
        >
        </codx-input>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label
          [formModel]="form.formModel"
          name="lblAvatar"
          default="Ảnh đại diện"
        ></codx-label>
        <ng-container [ngTemplateOutlet]="avata"></ng-container>
      </div>
      <div class="form-group" *ngIf="funcID != 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="TaxCode">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="taxCode"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0104'">
        <codx-label [formModel]="form.formModel" fiedName="CEO">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="ceo"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101' || funcID == 'CM0104'">
        <codx-label [formModel]="form.formModel" fiedName="EstablishDate">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="establishDate"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="Nationality">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="nationality"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="EthnicGroup">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="ethnicGroup"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="Religion">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="religion"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="Education">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="education"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="MaritalStatus">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="maritalStatus"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="Income">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="income"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="Occupation">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="occupation"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="JobTitle">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="jobTitle"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="Department">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="department"
        >
        </codx-input>
      </div>
      <div class="form-group row" *ngIf="funcID == 'CM0102'">
        <div class="col-8">
          <codx-label [formModel]="form.formModel" fiedName="Phone">
          </codx-label>
          <codx-input
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="phone"
          >
          </codx-input>
        </div>
        <div class="col-4">
          <codx-label [formModel]="form.formModel" fiedName="PhoneExt">
          </codx-label>
          <codx-input
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="phoneExt"
          >
          </codx-input>
        </div>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0102'">
        <codx-label [formModel]="form.formModel" fiedName="Email"> </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="email"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101' || funcID == 'CM0104'">
        <codx-label [formModel]="form.formModel" fiedName="Headcounts">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="headcounts"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0104'">
        <codx-label [formModel]="form.formModel" fiedName="Capital">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="capital"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101' || funcID == 'CM0104'">
        <codx-label [formModel]="form.formModel" fiedName="AnnualRevenue">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="annualRevenue"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101' || funcID == 'CM0104'">
        <codx-label [formModel]="form.formModel" fiedName="SegmentID">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="segmentID"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101'">
        <codx-label [formModel]="form.formModel" fiedName="WorkingDays">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="workingDays"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101'">
        <div class="d-flex justify-content-between">
          <div>
            <codx-input
              [formModel]="form.formModel"
              [Group]="form.formGroup"
              field="officialHour"
            >
            </codx-input>
          </div>
          <div class="w-100 ms-1">
            <codx-label [formModel]="form.formModel" fiedName="OfficialHour">
            </codx-label>
          </div>
        </div>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101' || funcID == 'CM0102'">
        <codx-label
          [formModel]="form.formModel"
          [fiedName]="funcID == 'CM0101' ? 'BankAccount' : 'BankAcctNo'"
        >
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [field]="funcID == 'CM0101' ? 'bankAccount' : 'bankAcctNo'"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101' || funcID == 'CM0102'">
        <codx-label
          [formModel]="form.formModel"
          [fiedName]="funcID == 'CM0101' ? 'BankName' : 'BankID'"
        >
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          [field]="funcID == 'CM0101' ? 'bankName' : 'bankID'"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101'">
        <codx-label [formModel]="form.formModel" fiedName="ConsultantID">
        </codx-label>
        <codx-input
          [formModel]="form.formModel"
          [Group]="form.formGroup"
          field="consultantID"
        >
        </codx-input>
      </div>
      <div class="form-group" *ngIf="funcID == 'CM0101'">
        <div class="d-flex justify-content-between">
          <div>
            <codx-input
              [formModel]="form.formModel"
              [Group]="form.formGroup"
              field="isBlackList"
            >
            </codx-input>
          </div>
          <div class="w-100 ms-1">
            <codx-label [formModel]="form.formModel" fiedName="IsBlackList">
            </codx-label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- <div class="mb-4" *ngIf="funcID == 'CM0104'">
    <div class="mb-3">
      <codx-label
        name="lblProsCons"
        class="text-dark fw-bold"
        [formModel]="dialog.formModel"
        default="Ưu / Nhược điểm"
      >
      </codx-label>
    </div>
    <div class="row">
      <div class="col-6">
        <div class="form-group">
          <codx-label
            [formModel]="form.formModel"
            fiedName="Advantage"
            default="Ưu điểm"
          >
          </codx-label>
          <codx-input
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="advantage"
          >
          </codx-input>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <codx-label
            [formModel]="form.formModel"
            fiedName="Disadvantage"
            default="Nhược điểm"
          >
          </codx-label>
          <codx-input
            [formModel]="form.formModel"
            [Group]="form.formGroup"
            field="disadvantage"
          >
          </codx-input>
        </div>
      </div>
    </div>
  </div> -->
  <div class="d-flex justify-content-between">
    <div class="mb-2">
      <codx-label
        fiedName="Address"
        class="text-dark fw-bold"
        [formModel]="form.formModel"
        default="Địa chỉ"
      >
      </codx-label>
    </div>
    <div class="mb-2">
      <span
        class="icon-add_location_alt text-primary me-1"
        (click)="openPopupAddress()"
      ></span>
    </div>
  </div>
  <div
    class="d-flex flex-column"
    *ngIf="listAddress != null && listAddress.length > 0"
  >
    <ng-container *ngFor="let item of listAddress; index as i">
      <div class="row mb-1">
        <div class="col-4">
          <span
            class="label-colon text-gray-600"
            [innerHTML]="
              item?.adressType
                | formatvalue : formModelAddress : 'AdressType'
                | async
            "
          ></span>
        </div>
        <div class="col-6">
          <span
            *ngIf="item?.adressName"
            [innerHTML]="
              item?.adressName
                | formatvalue : formModelAddress : 'AdressName'
                | async
            "
          ></span>
        </div>
        <div class="col-2">
          <div class="d-flex justify-content-end align-items-center">
            <button
              class="btn btn-sm btn-icon btn-light-warning"
              (click)="openPopupAddress(item, 'edit')"
            >
              <i class="icon icon-14 icon-edit"></i>
            </button>
            <button
              class="btn btn-sm btn-icon btn-light-danger ms-2"
              (click)="removeAddress(item, i)"
            >
              <i class="icon icon-14 icon-close"></i>
            </button>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</ng-template>
<ng-template #footer>
  <div class="d-flex justify-content-end">
    <button type="button" class="btn btn-primary" (click)="onSave()">
      <codx-label
        name="lblSave"
        [formModel]="dialog.formModel"
        default="Lưu"
      ></codx-label>
    </button>
  </div>
</ng-template>

<ng-template #avata>
  <div class="avatar-container">
    <div class="avatar" (click)="addAvatar()">
      <ng-container *ngIf="linkAvatar">
        <img [src]="linkAvatar" />
      </ng-container>
      <ng-container *ngIf="linkAvatar == null || linkAvatar == ''">
        <img src="../../../assets/codx/user/avatar.jpg" alt="" />
      </ng-container>
    </div>
  </div>
  <codx-attachment
    #imageAvatar
    [objectId]="data.recID"
    [objectType]="form.formModel.entityName"
    hideFolder="1"
    hideImageUpload="1"
    hideImageThumb="1"
    hideUploadBtn="1"
    hideDes="1"
    type="inline"
    allowMultiFile="0"
    [formModel]="dialog.formModel"
    allowExtensions=".jpg,.png"
    [isSaveSelected]="0"
    (fileAdded)="fileImgAdded($event)"
    displayThumb="full"
    showMessage="0"
    category="0"
  >
  </codx-attachment>
</ng-template>

<ng-template #contacts>
  <div class="body_detail p-6">
    <ng-container *ngIf="contactsPerson != null">
      <div class="d-flex">
        <div class="me-3">
          <codx-img
            [objectId]="contactsPerson.recID"
            [objectName]="contactsPerson.contactName"
            objectType="CM_Contacts"
            [imgOn]="contactsPerson?.modifiedOn"
            [width]="35"
          >
          </codx-img>
        </div>
        <div class="d-flex flex-column flex-grow-1">
          <div class="d-flex flex-column">
            <div class="fw-bold fs-6 text-dark codx-text-overflow-1line mb-1">
              {{ contactsPerson.contactName }}
            </div>
            <div class="mb-1" *ngIf="contactsPerson?.mobile">
              <span
                [ngClass]="
                  contactsPerson.allowCall
                    ? 'icon-phone_android text-primary'
                    : 'icon-phonelink_erase'
                "
                class="icon-16 me-1"
              ></span>
              <span
                [ngClass]="contactsPerson.allowCall ? 'text-primary' : ''"
                class="text-gray-900"
                >{{ contactsPerson.mobile }}</span
              >
            </div>
            <div *ngIf="contactsPerson?.personalEmail">
              <span
                [ngClass]="
                  contactsPerson.allowEmail
                    ? 'icon-email text-primary'
                    : 'icon-print_disabled'
                "
                class="icon-16 me-1 text-gray-900"
              ></span>
              <span
                [ngClass]="contactsPerson.allowEmail ? 'text-primary' : ''"
                class="text-gray-900"
                >{{ contactsPerson?.personalEmail }}</span
              >
            </div>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="contactsPerson == null">
      <div class="" style="text-align: center">
        <codx-label
          class="text-gray-300"
          name="lblContactPerson"
          [formModel]="dialog.formModel"
          default="Chọn hoặc thêm người liên hệ chính"
        ></codx-label>
      </div>
    </ng-container>
  </div>
</ng-template>
