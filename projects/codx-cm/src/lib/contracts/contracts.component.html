<codx-views
  #view
  [service]="service"
  [assemblyName]="assemblyName"
  [entityName]="entityName"
  [className]="className"
  [method]="methodLoadData"
  idField="recID"
  [funcID]="'CM0204'"
  [views]="views"
  [button]="button"
  (buttonClick)="click($event)"
  [toolbarDisplay]="true"
  [selectedFirst]="true"
  [autoLoad]="true"
  [autoSearch]="true"
  (selectedChange)="selectedChange($event)"
></codx-views>
<!-- temp left -->
<ng-template #itemTemplate let-data>
  <codx-temp-full
    cardCss="card-template border-bottom p-3 list-task"
    [titleCss]="'fw-bold fs-6 mb-2'"
    [typeMF]="'hover'"
    (clickMF)="clickMF($event, data)"
    (changeDataMF)="changeDataMF($event, data)"
    [title]="data.contractName"
    [descTmp]="descTmp"
    [footer]="footerTmp"
    [formModel]="view.formModel"
    [dataItem]="data"
    [imageId]="data?.customerID"
    [imageObjType]="'CM_Customers'"
    [imgOn]="data?.modifiedOn"
    [imageReferType]="'avt'"
    [imageWidth]="35"
    imgCss="me-3"
  >
  </codx-temp-full>
</ng-template>

<ng-template #descTmp let-data>
  <div class="d-flex align-items-top mb-1">
    <span
        class="text-dark fw-bold codx-textcontent"
        [innerHTML]="
          data?.customerID
            | formatvalue : view.formModel : 'CustomerID'
            | async
        "
      ></span>
  </div>
</ng-template>

<ng-template #footerTmp let-data>
  <div class="d-flex justify-content-between align-items-center mb-1">
    <div class="d-flex justify-content-end align-items-center">
      <span class="icon-monetization_on icon-16 me-1 text-warning"></span>
      <span
        class="fs-4 fw-bold"
        [innerHTML]="
          data?.contractAmt
            | formatvalue : view.formModel : 'ContractAmt'
            | async
        "
      ></span>
    </div>
  </div>
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <codx-vll
        [name]="vllStatus"
        [field]="'Status'"
        [value]="data?.status"
        [showText]="true"
        [showBgColor]="true"
        class="badge badge-primary badge-sm"
      >
      </codx-vll>
    </div>
    <div class="d-flex align-items-center">
      <div class="d-flex align-items-center me-2">
        <span class="icon-16 icon-av_timer me-1 text-gray-600"></span>
        <span
          class="text-gray-700"
          [innerHTML]="
            data?.createdOn | formatvalue : view.formModel : 'CreatedOn' | async
          "
        ></span>
      </div>
      <div class="h-25px">
        <codx-imgs
          [width]="25"
          [objectId]="data.createdBy"
          ojectType="AD_Users"
          [numberImages]="1"
        >
        </codx-imgs>
      </div>
    </div>
  </div>
</ng-template>

<!-- temp right -->
<ng-template #templateDetail>
  <contracts-view-detail [contract]="itemSelected" [formModel]="view.formModel"></contracts-view-detail>
</ng-template>


