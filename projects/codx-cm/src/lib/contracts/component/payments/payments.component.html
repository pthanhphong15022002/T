<codx-form
  #form
  [customToolbar]="header"
  [body]="body"
  [footer]="footer"
  [dialog]="dialog"
></codx-form>

<ng-template #header>
  <div class="d-flex justify-content-between align-items-center w-100">
    <codx-label
      name="heardTypeTask"
      class="text-gray-600 fs-6"
      [default]="title"
    ></codx-label>
    <button
      style="border: none; outline: none; background: none"
      (click)="dialog.close()"
    >
      <i class="icon-close icon-18 text-hover-danger"></i>
    </button>
  </div>
</ng-template>

<ng-template #body>
  <ng-container
    *ngIf="type == 'pay'"
    [ngTemplateOutlet]="payTemplate"
    [ngTemplateOutletContext]="{}"
  ></ng-container>
  <ng-container
    *ngIf="type == 'payHistory'"
    [ngTemplateOutlet]="payHistoryTemplate"
    [ngTemplateOutletContext]="{}"
  ></ng-container>
</ng-template>

<ng-template #footer>
  <div>
    <button class="btn btn-outline-primary me-5" (click)="save()">
      <codx-label
        name="heardTypeTask"
        class="text-gray-600 fs-6 text-primary"
        default="Lưu và thêm"
      ></codx-label>
    </button>
    <button class="btn btn-primary">
      <codx-label
        name="heardTypeTask"
        class="text-gray-600 fs-6"
        default="Lưu"
      ></codx-label>
    </button>
  </div>
</ng-template>

<ng-template #payTemplate>
  <div>
    <div class="row form-group">
      <div class="" style="width: 10%">
        <div>
          <codx-label
            [formModel]="dialog.formModel"
            fiedName="rowNo"
            default="STT"
          ></codx-label>
        </div>
        <div class="">
          <codx-input
            [formModel]="dialog.formModel"
            field="rowNo"
            type="number"
            [format]=""
            [min]="0"
            [crrValue]="payment?.rowNo"
            (valueChange)="valueChangeText($event)"
            [disabled]="true"
          >
          </codx-input>
        </div>
      </div>
      <div class="" style="width: 45%">
        <div>
          <codx-label
            [formModel]="dialog.formModel"
            fiedName="scheduleDate"
            default="Ngày hẹn thanh toán"
          ></codx-label>
        </div>
        <div class="">
          <codx-input
          
            type="datetime"
            [crrValue]="payment?.scheduleDate"
            (valueChange)="changeValueDate($event)"
          >
          </codx-input>
        </div>
      </div>
      <div class="" style="width: 45%">
        <div>
          <codx-label
            [formModel]="dialog.formModel"
            fiedName="scheduleAmt"
            default="Số tiền thanh toán"
          ></codx-label>
        </div>
        <div class="">
          <codx-input
            [formModel]="dialog.formModel"
            field="scheduleAmt"
            type="number"
            [min]="0"
            [crrValue]="payment?.scheduleAmt"
            (valueChange)="valueChangeText($event)"
          >
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row form-group">
      <div>
        <codx-label
          [formModel]="dialog.formModel"
          fiedName="memo"
          default="Ghi chú"
        ></codx-label>
      </div>
      <div class="">
        <codx-input
          [formModel]="dialog.formModel"
          field="memo"
          type="text"
          [min]="0"
          [crrValue]="payment?.memo"
          (valueChange)="valueChangeText($event)"
        >
        </codx-input>
      </div>
    </div>
  </div>
</ng-template>
<ng-template #payHistoryTemplate>
  <div>
    <div class="row form-group">
      <div class="" style="width: 10%">
        <div>
          <codx-label
            [formModel]="dialog.formModel"
            fiedName="rowNo"
            default="STT"
          ></codx-label>
        </div>
        <div class="">
          <codx-input
            [formModel]="dialog.formModel"
            field="rowNo"
            type="number"
            [min]="0"
            [crrValue]="payment?.rowNo"
            (valueChange)="valueChangeText($event)"
            [disabled]="true"
          >
          </codx-input>
        </div>
      </div>
      <div class="" style="width: 30%">
        <div>
          <codx-label
            [formModel]="dialog.formModel"
            fiedName="scheduleDate"
            default="Ngày hẹn thanh toán"
          ></codx-label>
        </div>
        <div class="">
			<codx-input
            field="scheduleDate"
            type="datetime"
            [crrValue]="payment?.paidDate"
            (valueChange)="changeValueDate($event)"
          >
          </codx-input>
        </div>
      </div>
      <div class="" style="width: 30%">
        <div>
          <codx-label
            [formModel]="dialog.formModel"
            fiedName="scheduleAmt"
            default="Số tiền hẹn thanh toán"
          ></codx-label>
        </div>
        <div class="">
          <codx-input
            [formModel]="dialog.formModel"
            field="scheduleAmt"
            type="number"
            [min]="0"
            [crrValue]="payment?.scheduleAmt"
            (valueChange)="valueChangeText($event)"
          >
          </codx-input>
        </div>
      </div>
      <div class="" style="width: 30%">
        <div>
          <codx-label
            [formModel]="dialog.formModel"
            fiedName="remainAmt"
            default="Dư nợ còn lại"
          ></codx-label>
        </div>
        <div class="">
          <codx-input
            [formModel]="dialog.formModel"
            field="remainAmt"
            type="number"
            [min]="0"
            [crrValue]="payment?.remainAmt"
            (valueChange)="valueChangeText($event)"
          >
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row form-group">
      <div class="col-4">
        <div>
          <codx-label
            [formModel]="dialog.formModel"
            fiedName="transID"
            default="Mã giao dịch"
          ></codx-label>
        </div>
        <div class="">
          <codx-input
            [formModel]="dialog.formModel"
            field="transID"
            type="text"
            [min]="0"
            [crrValue]="payment?.transID"
            (valueChange)="valueChangeText($event)"
          >
          </codx-input>
        </div>
      </div>
      <div class="col-4">
        <div>
          <codx-label
            [formModel]="dialog.formModel"
            fiedName="paidDate"
            default="Ngày giao dịch"
          ></codx-label>
        </div>
        <div class="">
          <codx-input
            field="paidDate"
            type="datetime"
            [crrValue]="payment?.paidDate"
            (valueChange)="changeValueDate($event)"
          >
          </codx-input>
        </div>
      </div>
      <div class="col-4">
        <div>
          <codx-label
            [formModel]="dialog.formModel"
            fiedName="paidAmt"
            default="Đã thanh toán"
          ></codx-label>
        </div>
        <div class="">
          <codx-input
            [formModel]="dialog.formModel"
            field="paidAmt"
            type="number"
            [min]="0"
            [crrValue]="payment?.paidAmt"
            (valueChange)="valueChangeText($event)"
          >
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row form-group">
      <div>
        <codx-label
          [formModel]="dialog.formModel"
          fiedName="memo"
          default="Ghi chú"
        ></codx-label>
      </div>
      <div class="">
        <codx-input
          [formModel]="dialog.formModel"
          field="memo"
          type="text"
          [min]="0"
          [crrValue]="payment?.memo"
          (valueChange)="valueChangeText($event)"
        >
        </codx-input>
      </div>
    </div>
  </div>
</ng-template>
<!--End chon cong viec -->
