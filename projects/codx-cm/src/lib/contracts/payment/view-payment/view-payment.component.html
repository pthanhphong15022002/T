<div class="contract-grid" #cardbodyGeneral>
  <codx-gridview-v2
    #productTable
    service="CM"
    [formName]="fmContractsPayments.formName"
    [gridViewName]="fmContractsPayments.gridViewName"
    [entityName]="fmContractsPayments.entityName"
    [templateMore]="more"
    [contentEditable]="false"
    [allowFiltering]="true"
    [allowSorting]="true"
    [dataSource]="listPayment"
    [columnsGrid]="columns"
    [autoLoad]="false"
    rowHeight="40"
    height="'200px'"
    predicates="TransID=@0"
    ></codx-gridview-v2>
  <div class="my-5">
    <button
      type="button"
      class="btn btn-primary btn-sm d-flex align-items-center ps-1 pe-2"
      (click)="addPayment()"
    >
      <span class="icon-add text-white fw-bold"></span>
      <codx-label
        [formModel]="fmContractsPayments"
        fiedName
        default="Thêm lịch thanh toán"
      ></codx-label>
    </button>
  </div>
</div>
<ng-template #more let-data>
  <codx-mfunc
    [formModel]="fmContractsPayments"
    [isBookMark]="false"
    [dataItem]="moreDefaut"
    [type]="'view'"
    (changeDataMF)="changeDataMF($event)"
    (clickMF)="onClickMFPayment($event, data)"></codx-mfunc>
</ng-template>

<ng-template #scheduleDate let-data>
  <span
    class="me-3"
    [innerHTML]="
    data
      | formatvalue : fmContractsPayments : 'ScheduleDate'
      | async
  "></span>
</ng-template>