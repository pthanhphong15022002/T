<ng-container *ngIf="addFieldsControl == '1'">
  <!-- <codx-layout-add
    #formlayoutadd
    [title]="title"
    [subHeader]="subHeader"
    [tabInfo]="tabInfo"
    [tabContent]="tabContent"
    [openMore]="true"
    (buttonClick)="buttonClick($event)"
    [dialog]="dialog"
    [formModel]="formModelCrr"
    [footer]="footer"
    [data]="instance"
    (setTitle)="setTitle($event)"
  ></codx-layout-add> -->

  <!-- <ng-template #tabGeneralInfo>
    <ng-container
      [ngTemplateOutlet]="tabGeneralInfoDetail"
      [ngTemplateOutletContext]="{ $implicit: formlayoutadd }"
    ></ng-container>
  </ng-template>
  <ng-template #tabLocation>
    <ng-container
      [ngTemplateOutlet]="tabLocationDetail"
      [ngTemplateOutletContext]="{ $implicit: formlayoutadd }"
    ></ng-container>
  </ng-template>

  <ng-template #tabOpporGeneralInfo>
    <ng-container
      [ngTemplateOutlet]="tabOpporGeneralInfoDetail"
      [ngTemplateOutletContext]="{ $implicit: formlayoutadd }"
    ></ng-container>
  </ng-template>

  <ng-template #tabInputInfo>
    <ng-container [ngTemplateOutlet]="tabInputInfoDetail"></ng-container>
  </ng-template> -->
</ng-container>

<ng-container *ngIf="addFieldsControl == '2'">


  <!-- <ng-template #body>
    <ng-container
      [ngTemplateOutlet]="tabGeneralInfoDetail"
      [ngTemplateOutletContext]="{ $implicit: form }"
    ></ng-container>
    <ng-container [ngTemplateOutlet]="tabInputInfoDetail"></ng-container>
  </ng-template> -->
</ng-container>

<codx-form
#form
[headerText]="titleAction"
[subHeader]="subHeader"
[body]="body"
[openMore]="true"
[dialog]="dialog"
[formModel]="formModel"
[footer]="footer"
[data]="deal"
></codx-form>


<ng-template #subHeader>
  <codx-tag
    field="tags"
    [entityName]="formModel.entityName"
    [isEdit]="true"
    [disabled]="false"
    (valueChange)="valueChange($event)"
  ></codx-tag>
</ng-template>

<ng-template #body>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <codx-label
          fiedName="DealName"
          [default]="'Tên cơ hội'"
          [formModel]="form.formModel"
          [Group]="form.formGroup"
        >
        </codx-label>
        <codx-input
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        field="dealName"
        [crrValue]="deal?.dealName"
        (valueChange)="valueChange($event)"
        >
        </codx-input>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label
          [formModel]="form.formModel"
          fiedName="CampaignID"
          [Group]="form.formGroup"
          [default]="'Chiến dịch'"
        >
        </codx-label>
        <ejs-combobox (valueChange)="cbxChange($event)"></ejs-combobox>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <codx-label
          fiedName=""
          default="Tổ chức"
        >
        </codx-label>
        <ejs-combobox (valueChange)="cbxChange($event)"></ejs-combobox>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label
          [formModel]="form.formModel"
          fiedName="SalespersonID"
          [Group]="form.formGroup"
          default="Nhân viên bán hàng"
        >
        </codx-label>
        <ejs-combobox (valueChange)="cbxChange($event)"></ejs-combobox>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <codx-label
          fiedName="ContactID"
          [default]="'Liên hệ'"
        >
        </codx-label>
        <ejs-combobox (valueChange)="cbxChange($event)"></ejs-combobox>
      </div>
    </div>
    <div class="col-6">
      <div class="form-group">
        <codx-label
          fiedName="ConsultantID"
          [default]="'Nhân viên tư vấn'"
        >
        </codx-label>
        <ejs-combobox (valueChange)="cbxChange($event)"></ejs-combobox>
      </div>
    </div>
  </div>
  <div class="row">
  <div class="col-6">
    <div class="form-group">
      <codx-label
        fiedName=""
        [default]="'Loại cơ hội'"
      >
      </codx-label>
      <ejs-combobox (valueChange)="cbxChange($event)"></ejs-combobox>
    </div>
  </div>
  <div class="col-6">
    <div class="form-group">
      <codx-label
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        fiedName=""
        default="Doanh số dư kiến"
      >
      </codx-label>
      <codx-input
      type="text"
      (valueChange)="valueChange($event)"
    >
    </codx-input>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-6">
    <div class="form-group">
      <codx-label
        fiedName=""
        default="Nguồn cơ hội"
      >
      </codx-label>
      <ejs-combobox (valueChange)="cbxChange($event)"></ejs-combobox>
    </div>
  </div>
  <div class="col-6">
    <div class="form-group">
      <codx-label
        [formModel]="form.formModel"
        [Group]="form.formGroup"
        fiedName="Probability"
        default="Tỷ lệ thành công"
      >
      </codx-label>
      <!-- <codx-input
      [formModel]="form.formModel"
      [Group]="form.formGroup"
      fiedName="probability"
      (valueChange)="valueChange($event)"
    >
    </codx-input> -->
    <codx-input
    type="text"
    (valueChange)="valueChange($event)"
  >
  </codx-input>

    </div>
  </div>
</div>
</ng-template>

<ng-template #footer>
  <div class="d-flex justify-content-between">
    <div></div>
    <button
      type="button"
      class="btn btn-primary ms-1"
      (click)="saveOpportunity()"
    >
      <codx-label default="Lưu"></codx-label>
    </button>
  </div>
</ng-template>
