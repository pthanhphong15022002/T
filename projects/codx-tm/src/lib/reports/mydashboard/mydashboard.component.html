<div class="page-content d-flex flex-row pt-4">
  <div class="w-75 m-2">
    <div class="d-flex justify-content-around bg-body mb-2 p-4 rounded">
      <div class="w-25 border rounded">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <div class="d-flex justify-content-between">
              <div class="">
                <span class="icon icon-access_time"></span>
              </div>
              <div>
                <div class="fw-bold text-gray-400">
                  <codx-label
                    name="lblTask"
                    default="Công việc"
                    [formModel]="formModel"
                  ></codx-label>
                </div>
                <div class="text-gray-900 fw-bold mb-2 mt-5">
                  <codx-label
                    name="lblOverdueTask"
                    default="Đã quá hạn"
                    [formModel]="formModel"
                  ></codx-label>
                </div>
              </div>
            </div>
            <div class="text-gray-900 fw-bolder fs-2 mb-2 mt-5">
              {{ dbData?.overDueTasks }}
            </div>
          </div>
        </div>
      </div>
      <div class="w-25 border rounded">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <div class="d-flex justify-content-between">
              <div class="icon icon-access_time"></div>
              <div>
                <div class="fw-bold text-gray-400">
                  <codx-label
                    name="lblTask"
                    default="Công việc"
                    [formModel]="formModel"
                  ></codx-label>
                </div>
                <div class="fw-bold text-black">
                  <codx-label
                    name="lblOverdueTask"
                    default="Chưa thực hiên"
                    [formModel]="formModel"
                  ></codx-label>
                </div>
              </div>
            </div>
            <div class="text-gray-900 fw-bolder fs-2 mb-2 mt-5">
              {{ dbData?.newTasks }}
            </div>
          </div>
        </div>
      </div>
      <div class="w-25 border rounded">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <div class="d-flex justify-content-between">
              <div class="icon icon-access_time"></div>
              <div>
                <div class="fw-bold text-gray-400">
                  <codx-label
                    name="lblTask"
                    default="Công việc"
                    [formModel]="formModel"
                  ></codx-label>
                </div>
                <div class="fw-bold text-black">
                  <codx-label
                    name="lblOverdueTask"
                    default="Hoãn lại"
                    [formModel]="formModel"
                  ></codx-label>
                </div>
              </div>
            </div>
            <div class="text-gray-900 fw-bolder fs-2 mb-2 mt-5">
              {{ dbData?.postponeTasks }}
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-around bg-body mb-2">
      <div class="w-25">
        <ejs-circulargauge
          (load)="load($event)"
          style="display: block"
          centerY="57%"
          [titleStyle]="titleStyle"
        >
          <e-axes>
            <e-axis
              [lineStyle]="lineStyle"
              radius="80%"
              startAngle="230"
              endAngle="130"
              minimum="0"
              maximum="150"
              [labelStyle]="labelStyle"
              [majorTicks]="majorTicks"
              [minorTicks]="minorTicks"
            >
              <e-ranges>
                <e-range
                  start="0"
                  end="150"
                  radius="115%"
                  color="#01aebe"
                  [startWidth]="rangeWidth"
                  [endWidth]="rangeWidth"
                >
                </e-range>
              </e-ranges>
              <e-pointers>
                <e-pointer
                  type="Marker"
                  [value]="value"
                  markerShape="Image"
                  imageUrl="https://ej2.syncfusion.com/angular/demos/assets/circular-gauge/images/golf-ball.png"
                  radius="108%"
                  [markerWidth]="markerWidth"
                  [markerHeight]="markerHeight"
                  [animation]="animation1"
                >
                </e-pointer>
              </e-pointers>
            </e-axis>
          </e-axes>
        </ejs-circulargauge>
      </div>
      <div class="w-25">
        <ejs-circulargauge
          (load)="load($event)"
          style="display: block"
          centerY="57%"
          [titleStyle]="titleStyle"
        >
          <e-axes>
            <e-axis
              [lineStyle]="lineStyle"
              radius="80%"
              startAngle="230"
              endAngle="130"
              minimum="0"
              maximum="150"
              [labelStyle]="labelStyle"
              [majorTicks]="majorTicks"
              [minorTicks]="minorTicks"
            >
              <e-ranges>
                <e-range
                  start="0"
                  end="150"
                  radius="115%"
                  color="#01aebe"
                  [startWidth]="rangeWidth"
                  [endWidth]="rangeWidth"
                >
                </e-range>
              </e-ranges>
              <e-pointers>
                <e-pointer
                  type="Marker"
                  [value]="value"
                  markerShape="Image"
                  imageUrl="https://ej2.syncfusion.com/angular/demos/assets/circular-gauge/images/golf-ball.png"
                  radius="108%"
                  [markerWidth]="markerWidth"
                  [markerHeight]="markerHeight"
                  [animation]="animation1"
                >
                </e-pointer>
              </e-pointers>
            </e-axis>
          </e-axes>
        </ejs-circulargauge>
      </div>
      <div class="w-25">
        <ejs-circulargauge
          (load)="load($event)"
          style="display: block"
          centerY="57%"
          [titleStyle]="titleStyle"
        >
          <e-axes>
            <e-axis
              [lineStyle]="lineStyle"
              radius="80%"
              startAngle="230"
              endAngle="130"
              minimum="0"
              maximum="150"
              [labelStyle]="labelStyle"
              [majorTicks]="majorTicks"
              [minorTicks]="minorTicks"
            >
              <e-ranges>
                <e-range
                  start="0"
                  end="150"
                  radius="115%"
                  color="#01aebe"
                  [startWidth]="rangeWidth"
                  [endWidth]="rangeWidth"
                >
                </e-range>
              </e-ranges>
              <e-pointers>
                <e-pointer
                  type="Marker"
                  [value]="value"
                  markerShape="Image"
                  imageUrl="https://ej2.syncfusion.com/angular/demos/assets/circular-gauge/images/golf-ball.png"
                  radius="108%"
                  [markerWidth]="markerWidth"
                  [markerHeight]="markerHeight"
                  [animation]="animation1"
                >
                </e-pointer>
              </e-pointers>
            </e-axis>
          </e-axes>
        </ejs-circulargauge>
      </div>
      <div class="w-25">
        <ejs-circulargauge
          (load)="load($event)"
          style="display: block"
          centerY="57%"
          [titleStyle]="titleStyle"
        >
          <e-axes>
            <e-axis
              [lineStyle]="lineStyle"
              radius="80%"
              startAngle="230"
              endAngle="130"
              minimum="0"
              maximum="150"
              [labelStyle]="labelStyle"
              [majorTicks]="majorTicks"
              [minorTicks]="minorTicks"
            >
              <e-ranges>
                <e-range
                  start="0"
                  end="150"
                  radius="115%"
                  color="#01aebe"
                  [startWidth]="rangeWidth"
                  [endWidth]="rangeWidth"
                >
                </e-range>
              </e-ranges>
              <e-pointers>
                <e-pointer
                  type="Marker"
                  [value]="value"
                  markerShape="Image"
                  imageUrl="https://ej2.syncfusion.com/angular/demos/assets/circular-gauge/images/golf-ball.png"
                  radius="108%"
                  [markerWidth]="markerWidth"
                  [markerHeight]="markerHeight"
                  [animation]="animation1"
                >
                </e-pointer>
              </e-pointers>
            </e-axis>
          </e-axes>
        </ejs-circulargauge>
      </div>
    </div>
    <div class="d-flex justify-content-around bg-body mb-2">
      <div class="w-50 test">
        <ejs-accumulationchart
          id="chart-task-group"
          [legendSettings]="legendSettings"
        >
          <e-accumulation-series-collection>
            <e-accumulation-series
              [dataSource]="dbData?.tasksByGroup"
              xName="taskGroupName"
              yName="qty"
              innerRadius="70%"
            ></e-accumulation-series>
          </e-accumulation-series-collection>
        </ejs-accumulationchart>
      </div>
      <div class="w-50 test">
        <ejs-accumulationchart
          id="chart-rate-done"
          [legendSettings]="legendSettings"
        >
          <e-accumulation-series-collection>
            <e-accumulation-series
              [dataSource]="piedata1"
              xName="x"
              yName="y"
              innerRadius="70%"
            ></e-accumulation-series>
          </e-accumulation-series-collection>
        </ejs-accumulationchart>
      </div>
    </div>
    <div class="row bg-body mb-2">
      <ejs-chart
        style="display: block"
        background="transparent"
        [chartArea]=""
        width="100%"
        [align]="'center'"
        id="chartbar"
        [primaryXAxis]="columnXAxis"
        [primaryYAxis]="columnYAxis"
        [legendSettings]="legendSettings"
      >
        <e-axes>
          <e-axis
            rowIndex="0"
            name="WorkHours"
            opposedPosition="true"
            title=""
            labelFormat=""
            [minimum]="0"
            [maximum]="100"
            [interval]="4"
          >
          </e-axis>
        </e-axes>
        <e-series-collection>
          <e-series
            fill="#005DC7"
            [dataSource]="dbData?.dataBarChart?.barChart"
            type="Column"
            name="Tasks"
            xName="label"
            yName="value"
            [cornerRadius]="radius"
          >
          </e-series>
          <e-series
            fill="#F9D923"
            [dataSource]="dbData?.dataBarChart?.lineChart"
            type="Line"
            name="WorkHours"
            yName="value"
            xName="label"
            yAxisName="WorkHours"
          >
          </e-series>
        </e-series-collection>
      </ejs-chart>
    </div>
  </div>
  <div class="w-25 border bg-body m-2">
    <div class="taskbox-user">
      <selectweek
        #selectweek
        (onChangeValue)="onChangeValueSelectedWeek($event)"
      ></selectweek>
      <div class="taskbox-list">
        <div
          class="d-flex p-3 flex-grow-1 task-item"
          *ngFor="let task of taskOfDay"
        >
          <codx-img
            class="symbol symbol-40px symbol-circle me-3"
            objectType="AD_Users"
            [objectId]="task?.createdBy"
            [objectName]="task?.userName"
          ></codx-img>
          <div class="d-flex flex-column flex-grow-1">
            <div class="text-dark fw-bold">
              {{ task?.userName }}
            </div>
            <div class="text-gray-600 fs-7">{{ task?.positionName }}</div>
            <div class="task-name text-gray-600 fs-7">
              {{ task?.taskName }}
            </div>
            <div class="d-flex justify-content-start">
              <div
                class="bagde bagde-light-primary me-2"
                [style.border-color]="
                  task.status | vll: 'L0614':'color' | async
                "
                [style.background-color]="
                  (task.status | vll: 'L0614':'color' | async) + '30'
                "
                [style.color]="task.status | vll: 'L0614':'color' | async"
                style="border: none"
              >
                {{ task.status | vll: "L0614":"text" | async }}
              </div>
              <div>{{ task.endDate | date }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
