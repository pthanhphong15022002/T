<codx-views #view [funcID]="funcID" [views]="views"[pageSize]="100" [selectedFirst]="false"
  (filterReportChange)="paramChange1($event)" (reportPrint)="printReport()" [dataValue]="dataValue" [predicate]="predicate"
  (buttonClick)="click($event)" [moreFuncs]="moreFunc" [autoLoad]="false"
  >
</codx-views>

<ng-template #GiftIDCell let-data>
  <div class="icon-flag icon-20" [class]="data?.priority | vll: 'L0186':'icon' | async"
    [style.color]="data?.priority | vll: 'L0186':'color' | async"></div>
</ng-template>
<ng-template #itemStatusVll let-data>
  <div class="task-status d-flex">
    <div class="badge badge-danger me-2" [style.border-color]="
    (data?.status | vll: 'L0614':'color' | async) + '30'
  " [style.background-color]="
    (data?.status | vll: 'L0614':'color' | async) + '30'
  " [style.color]="data?.status | vll: 'L0614':'color' | async" style="border: none">
      {{ data?.status | vll: "L0614":"text" | async }}
    </div>
  </div>
</ng-template>
<ng-template #itemMemo let-data>
  <div class="dropdown ms-2" [class.dropdown-customv2]="data.memo" [ngbPopover]="popDetail" #p="ngbPopover"
    [openDelay]="500" (mouseenter)="PopoverDetail(p, data)" (mouseleave)="PopoverDetail(p, null)" placement="bottom"
    autoClose="outside">
    <button [disabled]="!data.memo" class="btn" type="button" id="dropdownShowDescription" data-toggle="dropdown"
      aria-haspopup="true" aria-expanded="false">
      <span class="icon-assignment icon-16 text-dark-50 me-1"></span>
      <span class="task-des">Mô tả công
        việc</span>
    </button>
  </div>
</ng-template>

<ng-template #popDetail let-data>
  <div>
    <ng-container>
      <div class="d-flex flex-column flex-grow-1">
        <div class="result-title text-dark font-size-h5 mb-2">Mô tả chi tiết</div>
        <div class="text-dark-75 font-size-md">
          {{popoverDetail?.memo}}
          <div class="d-flex align-items-center mt-2">
            <div class="d-flex align-items-center me-2">
              <span class="icon-create icon-18 text-dark-50"></span>
              <span class="text-dark-50 text-italic"> {{popoverDetail?.memo2}}
              </span>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</ng-template>

<ng-template #itemOwner let-data>
  <div class="d-flex align-items-center" #itemOwner>
    <codx-img class="symbol symbol-24 symbol-circle me-3" [objectId]="data.owner" objectType="AD_Users">
    </codx-img>
    <div class="text-dark font-size-lg" style="margin-left: 20px;">{{data.userName}}</div>
  </div>
</ng-template>
<ng-template #itemDueDate let-data>
  <div *ngIf="data.dueDate==null">
    {{data?.dueDate }}
  </div>
  <div *ngIf="data.dueDate!=null">
    {{data?.dueDate |date:'dd/MM/yyyy'}}
  </div>
</ng-template>
<ng-template #itemCompletedOn let-data>
  <div *ngIf="data.completedOn==null">
    {{data?.completedOn }}
  </div>
  <div *ngIf="data.completedOn!=null">
    {{data?.completedOn |date:'dd/MM/yyyy'}}
  </div>
</ng-template>
<ng-template #itemActive let-data>
  <div class="d-flex align-items-center w-100px">
    <div class="d-flex align-items-center me-3 {{data?.comments  ? 'text-success' : 'text-dark-50'}}">
      <span class="text-hover-primary icon-chat_bubble_outline icon-16"></span>
      <span class="ms-1"> {{data?.comment}}</span>
    </div>
    <div class="d-flex align-items-center me-3 {{data?.todo ? 'text-success' : 'text-dark-50'}}">
      <span class="text-hover-primary icon-check-correct icon-16"></span>
      <span class="ms-1">
        {{data?.todo}}</span>
    </div>
    <div class="d-flex align-items-center {{data?.attachments ? 'text-success' : 'text-dark-50'}}">
      <span class="text-hover-primary icon-attach_file icon-16"></span>
      <span>
        {{data?.attachments}}
      </span>
    </div>
  </div>
</ng-template>



<ng-template #report>
  <!-- <report-viewer [reportUUID]="reportUUID"[parameters]="param" [print]="print"></report-viewer> -->
  <!-- <iframe style="height: 100%; width: 100%;" #iframe [src]="urlSafe">

  </iframe> -->
  <!-- <codx-report [showToolbar]="true" [reportUUID]="reportUUID" [parameters]="param" [print]="print"></codx-report> -->
  <codx-report-iframe [funcID]="funcID" [predicates]="predicate" [dataValues]="dataValue" [print]="print" [param]="_paramString"></codx-report-iframe>
  </ng-template>

