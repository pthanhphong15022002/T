<codx-form headerText="{{title}}" subHeaderText="" [body]="body" [footer]="footer" [dialog]="dialog">
  <ng-template popup adde #body>
    <div class="card-body">
      <div class="form-group row">
        <span class="col-10">
          <codx-input [disabled]="readOnly" type="text" field="iterationName" [crrValue]="taskBoard.iterationName"
            (valueChange)="changText($event)" placeholder="Tên view board" [width]="50"></codx-input>
        </span><span class="col-2">
          <div class="form-group">
            <div class="image-input image-input-outline" id="kt_user_add_avatar">
              <div>
                <codx-img #imageAvatar class="symbol symbol-50 symbol-circle"
                  [objectId]="taskBoard?taskBoard.iterationID:''" [objectName]="taskBoard?taskBoard.iterationName:''"
                  objectType="TM_Sprints" funcId="TMT04" isAllowEdit="true" updateDirect="true" [width]="50"
                  [disabled]="readOnly" [height]="50">
                </codx-img>
              </div>
            </div>
          </div>
        </span>
      </div>
      <div class="form-group">
        <!-- <codx-label fiedName="ProjectName" formName="Projects" gridViewName="grvProjects"  default="Dự án"></codx-label>  -->
        <codx-label name="ProjectName" formName="Sprints" default="Dự án"></codx-label>
        <codx-input service="TM" type="combobox" name="combobox" style="border: none" placeholder="Dự án"
           refValue="Projects" loadFull="true" field="projectID" (valueChange)="cbxChange($event)" 
          [disabled]="readOnly" [crrValue]="taskBoard.projectID">
        </codx-input> 
      </div>
      <div class="form-group ">
        <codx-label fiedName="ViewMode" formName="Sprints" gridViewName="grvSprints" default="Lưu mặc định">
        </codx-label>
        <codx-input type="valuelist" field="viewMode" [crrValue]="taskBoard.viewMode" refValue="L1469"
          [disabled]="readOnly" [placeholder]="'Chọn độ ưu tiên'" (valueChange)="changeVLL($event)"
          [disabled]="readOnly">
        </codx-input>

      </div>
      <div class="form-group">
        <codx-label fiedName="Memo" formName="Sprints" gridViewName="grvSprints" default="Mô tả công việc">
        </codx-label>
        <codx-input type="textarea" field="memo" [crrValue]="taskBoard.memo" [disabled]="readOnly" class="form-control"
          (valueChange)="changeMemo($event)"></codx-input>
      </div>
      <div class="d-flex align-items-center justify-content-between mt-4">
        <div class="d-flex align-items-center">
          <span class="icon-person icon-16 me-2 text-primary"></span>
          <div class="fw-bold fs-6 text-primary">
            <codx-label fiedName="Resources" formName="Sprints" gridViewName="grvSprints" default="Phân công cho">
            </codx-label>
          </div>
        </div>
        <codx-share (eventApply)="eventApply($event)"> </codx-share>
      </div>
      <div>
        <ng-container *ngFor="let item of listUserDetail; index as i">
          <div class="badge me-2 flex align-items-center" style="background-color:#F4F7FF">
            <span>
              <codx-img class="symbol symbol-40px symbol-circle me-4" [objectId]="item?.userID" objectType="AD_Users">
              </codx-img>
            </span><span class="text-dark fw-bold fs-7">
              {{item?.userName}}
            </span><span *ngIf="!readOnly"><a (click)="onDeleteUser(item.userID)" style="cursor: pointer">
                <span class="icon-close icon-20 text-danger ml-2 mr-2"></span>
              </a></span>
          </div>
        </ng-container>
      </div>
    </div>
  </ng-template>
  <ng-template #footer>
    <div class="d-flex justify-content-between ">
     
        <codx-input type="checkbox" (valueChange)="valueChangeShared($event)" labelPosition="After"
          label="Chia sẽ board cho nguồn lực" [crrValue]="taskBoard.isShared"></codx-input>
        <!-- <span><input type="checkbox" [readOnly]="readOnly" [(ngModel)]="taskBoard.isShared"
            (change)="changeShare($event)"> </span>
        <span> -->
          <!-- <codx-label fiedName="IsShared" formName="Sprints" default="Chia sẽ board cho nguồn lực">
          </codx-label> -->
        <!-- </span> -->
        <button type="button" class="btn btn-primary" (click)="saveData(taskBoard.iterationID)">
          <codx-label name="Save" formName="Sprints" default="Lưu"></codx-label>
        </button>
    </div>
  </ng-template>
</codx-form>