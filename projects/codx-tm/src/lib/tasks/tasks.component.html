<!-- view listdetail -->
<ng-template #panelRight>
  <app-view-detail [formModel]="view.formModel" [itemSelected]="itemSelected" (clickMoreFunction)="receiveMF($event)">
  </app-view-detail>
</ng-template>

<ng-template #itemViewList let-data>
  <lib-view-list [formModel]="view.formModel" [data]="data" (clickMoreFunction)="receiveMF($event)">
  </lib-view-list>
</ng-template>


<ng-template #itemTemplate let-data>
  <codx-temp-full cardCss="card-template border-bottom px-2 py-3" (clickMF)="clickMF($event,data)"  [typeMF]="'hover'" 
    [iconCss]="data.isTimeOut?'icon-access_alarm':''" iconColorCss="read"
    [iconCss2]="data.priority | vll:'L0186':'icon'|async"
    [iconColorCss2]="data.priority | vll: 'L0186':'textColor'|async" [imageId]="data.userID" imageObjType="AD_Users"
    [title]="data.userName" [desc2]="data.memo" [status]="data.status" statusVll="L0614" [date]="data.createdOn"
    [resources]="(data.category=='3'||data.isAssign)?data.assignTo :''" resourceObjType="AD_Users"
    [formModel]="view.formModel">
  </codx-temp-full>
</ng-template>

<ng-template #cardKanban let-data let-setting="setting">
  <codx-card-img cardCss="border h-100" imageObjType="AD_Users" (clickMF)="clickMF($event,data)"  [typeMF]="'hover'" 
    [icoStatus]="data.priority" icoStatusVll="L0186" [title]="data.userName" icoSubTitleCss="icon-flag"
    [subTitle]="data.positionName" [content]="data.memo||'memo'" [status]="data.status" statusVll="L0614"
    [date]="data.createdOn" [resources]="data.assignTo" [rootData]="data" [formModel]="view.formModel"
    [setting]="setting" [footer]="cardImgFooter" [dataItem]="data">
  </codx-card-img>

</ng-template>

<ng-template #cardImgFooter let-data let-setting="setting">
  <div class="d-flex flex-column flex-grow-1 mt-2">
    <div class="d-flex align-items-center">
      <span class="bullet bg-primary h-6px w-25px me-2"></span>
      <span class="bullet bg-warning h-6px w-25px me-2"></span>
      <span class="bullet bg-info h-6px w-25px me-2"></span>
    </div>
    <div class="progress h-5px w-100 mt-2" *ngIf="setting?.ProcessBar">
      <div class="progress-bar" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0"
        aria-valuemax="100"></div>
    </div>
    <!--begin::Item-->
    <div class="d-flex justify-content-between align-items-end mt-2">
      <div class="d-flex align-items-end me-2 codx-badge">
        <div class="d-flex align-items-center position-relative me-4">
          <span class="icon-mode_comment icon-20 text-gray-400"></span>
          <span
            class="position-absolute top-0 start-100 translate-middle  badge badge-circle badge-primary badge-sm mn-6">5</span>
        </div>
        <div class="d-flex align-items-center position-relative me-4">
          <span class="icon-check_box icon-20 text-gray-400"></span>
          <span
            class="position-absolute top-0 start-100 translate-middle  badge badge-circle badge-primary badge-sm mn-6">5</span>
        </div>
        <div class="d-flex align-items-center position-relative me-4">
          <span class="icon-attach_file icon-20 text-gray-400"></span>
          <span
            class="position-absolute top-0 start-100 translate-middle  badge badge-circle badge-light badge-sm mn-6">0</span>
        </div>
      </div>
      <div class="symbol-group symbol-hover justify-content-end">
        <codx-imgs [width]="30" [objectId]="data.assignTo" objectType="AD_Users" [numberImages]="3">
        </codx-imgs>
      </div>
    </div>
    <!--end::Item-->
  </div>
</ng-template>

<ng-template #cellTemplate let-data>
  <div [innerHtml]="getCellContent(data.date)"></div>
</ng-template>

<ng-template #eventTemplate let-data>
  <div>
    <div>{{data.taskName}}</div>
  </div>
</ng-template>



<codx-views #view [funcID]="funcID" service="TM" entityName="TM_Tasks" idField="taskID" assemblyName="ERM.Business.TM"
  className="TaskBusiness" method="GetListDetailTasksAsync" [views]="views" [button]="button"
  (buttonClick)="click($event)" [moreFuncs]="moreFuncs" (viewChanged)="changeView($event)"
  (requestEnded)="requestEnded($event)" (selectedChange)="selectedChange($event)" (onDragDrop)="onDragDrop($event)"
  [selectedFirst]="true" [autoLoad]="true">
</codx-views>
