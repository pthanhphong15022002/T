
      <div class="task-row py-3 px-6 ">
        <table class="table w-100 table-action-menu ">
          <tbody>
            <tr>
              <td class="w-400px">
                <div class="task-name mb-1 max-h-300px">
                  {{ data?.taskName }}</div>
              </td>
              <td class="w-100px">
                <div class="d-flex align-items-center text-dark me-6">
                  <span [class]="data?.priority | vll: 'L0186':'icon' | async" [style.color]="
                  data?.priority | vll: 'L0186':'textColor' | async
                    ">
                  </span>
                </div>
              </td>
              <td class="w-150px">
                <div class="d-status">
                  <div class="badge badge-danger me-2 label-status" [style.border-color]="
                    (data?.status | vll: 'L0614':'textColor' | async) +
                    '30'
                  " [style.background-color]="
                    (data?.status | vll: 'L0614':'textColor' | async) +
                    '30'
                  " [style.color]="
                  data?.status | vll: 'L0614':'textColor' | async
                  " style="border: none">
                    {{ data?.status | vll: "L0614":"text" | async }}
                  </div>
                </div>
              </td>
              <td>
                <div class="w-200px ">
                  <div class="dropdown ml-2" [class.dropdown-customv2]="data.memo" [ngbPopover]="popDetail" #p="ngbPopover"
                    [openDelay]="500" (mouseenter)="PopoverDetail(p, data)" (mouseleave)="PopoverDetail(p, null)"
                    placement="bottom" autoClose="outside">
                    <button [disabled]="!data.memo" class="btn" type="button" id="dropdownShowDescription"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <span class="icon-assignment icon-16 text-dark-50 mr-1"></span>
                      <span *ngIf="data.memo" [innerHTML]="data.memo" class="task-des"></span>
                      <span *ngIf="!data.memo" class="task-des">Mô tả công
                        việc</span>
                    </button>
    
                  </div>
                </div>
              </td>
              <td class="w-250px">
                <div class="d-flex align-items-center">
                  <div class="symbol-group symbol-hover justify-content-end"
                    *ngIf="data?.category == '3' || data?.category == '4'">
                    <codx-img popoverClass="userPopoverClass" [ngbPopover]="popContent" placement="bottom"
                      #empPopover="ngbPopover" [openDelay]="500" (mouseenter)="PopoverEmp(empPopover, data)"
                      (mouseleave)="PopoverEmp(empPopover, null)" class="symbol symbol-30 symbol-circle ml-1"
                      [objectId]="data.assignTo" objectName="AD_Users" [numberImages]="4">
                    </codx-img>
    
                  </div>
                  <!-- <div class="symbol-group symbol-hover justify-content-end"
                  *ngIf="data?.category == '1' || data?.category == '2'">
                  <codx-img class="symbol symbol-30 symbol-circle w-30px" [objectId]="data?.assignTo" objectType="AD_Users"
                    width="40">
                  </codx-img>
                </div> -->
                </div>
              </td>
              <td>
                <div class="d-flex align-items-center w-200px">
                  <div class="text-dark font-weight-bold font-size-sm mr-1">
                    Ngày hết hạn:
                  </div>
                  <div class="text-dark-50 font-size-sm">
                    {{data.dueDate|date:'dd/MM/yyyy'}}
                  </div>
                </div>
              </td>
              <td class="w-250px">
                <div class="d-flex align-items-center w-100px">
                  <div class="d-flex align-items-center mr-3 {{data?.comments  ? 'text-success' : 'text-dark-50'}}">
                    <span class="text-hover-primary icon-chat_bubble_outline icon-16"></span>
                    <span class="ml-1"> {{data?.comments}}</span>
                  </div>
                  <div class="d-flex align-items-center mr-3 {{data?.todo ? 'text-success' : 'text-dark-50'}}">
                    <span class="text-hover-primary icon-check-correct icon-16"></span>
                    <span class="ml-1">
                      {{data?.todo}}</span>
                  </div>
                  <div class="d-flex align-items-center {{data?.attachments ? 'text-success' : 'text-dark-50'}}">
                    <span class="text-hover-primary icon-attach_file icon-16"></span>
                    <span>
                      {{data?.attachments}}
                    </span>
                  </div>
                </div>
              </td>
              <td class="w-30px">
                <codx-mfunc [formModel]="formModel" (clickMF)="clickMF($event, data)" type="hover">
                </codx-mfunc>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

<ng-template #popDetail>
  <div>
    <ng-container>
      <div class="d-flex flex-column flex-grow-1">
        <div class="result-title text-dark font-size-h5 mb-2">Mô tả chi tiết</div>
        <div class="text-dark-75 font-size-md">
          {{popoverDetail?.memo}}
          <div class="d-flex align-items-center mt-2">
            <div class="d-flex align-items-center me-2">
              <span class="icon-create icon-18 text-dark-50"></span>
              <span class="text-dark-50 text-italic"> {{popoverDetail?.memo2}}
              </span>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>

</ng-template>

<ng-template #popContent>
  <div>
    <ng-container>
      <div class="result-title text-dark font-size-h5 mb-5 mt-3">Phân công cho</div>
      <div class="task-list p10 full">
        <div class="d-flex align-items-start user-card p-3" *ngFor="let item of lstTaskbyParent">
          <div class="symbol symbol-30px symbol-circle me-3">
            <codx-imgs [objectId]="item?.resourceID" objectType="AD_Users"></codx-imgs>
          </div>
          <div class="d-flex flex-column flex-grow-1">
            <div class="text-dark font-weight-bold">{{item?.resourceName}}</div>
            <div class="text-dark-50 font-size-sm">{{item?.position}}</div>
            <div class="text-dark">
              {{item?.memo}}
            </div>
            <div class="d-flex align-items-center" *ngIf="item?.roleType == 'R' || item?.roleType == 'A'">
              <div class="d-flex align-items-center me-2">
                <span class="icon-access_time icon-16 text-muted"></span>
                <span class="text-muted">{{item?.dueDate | date:'dd/MM/yyyy'}}</span>
              </div>
              <div class="label label-xxs label-pill label-inline label-light-danger me-2 label-status"
                [style.border-color]="(item?.status | vll: 'L0614':'color' | async) + '30'"
                [style.background-color]="(item?.status | vll: 'L0614':'color' | async) + '30'"
                [style.color]="item?.status | vll: 'L0614':'color' | async" style="border: none">{{
                  item?.status | vll: "L0614":"text" | async }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
