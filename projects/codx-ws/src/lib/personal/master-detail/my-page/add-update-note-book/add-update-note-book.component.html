<codx-form
  #form
  [headerText]="header"
  subHeaderText=""
  [body]="body"
  [footer]="footer"
  [dialog]="dialog"
  [formModel]="formModel"
>
  <ng-template popup add #body>
    <div class="add-notebook">
      <div class="form-group">
        <codx-label
          name="lblNoteBookTitle"
          [formName]="formModel?.formName"
          default="Sổ tay"
        ></codx-label>
        <codx-input
          type="text"
          field="title"
          (valueChange)="valueChange($event)"
          ngDefaultControl
          [crrValue]="noteBooks?.title"
          [placeholder]="gridViewSetup?.title"
        >
        </codx-input>
      </div>
      <div class="form-group mt-3">
        <codx-label
          name="lblNoteBookMemo"
          [formName]="formModel?.formName"
          default="Diễn giải"
        ></codx-label>
        <codx-input
          rows="4"
          format="ed2"
          type="textarea"
          field="memo"
          [placeholder]="gridViewSetup?.memo"
          class="test-textarea"
          ngDefaultControl
          [crrValue]="formType == 'edit' ? noteBooks?.memo || '' : empty"
          (valueChange)="valueChange($event)"
        >
        </codx-input>
      </div>
      <div class="form-group row mt-3">
        <div class="col-12">
          <codx-label
            name="lblNoteBookImg"
            [formName]="formModel?.formName"
            default="Hình hiển thị"
          >
          </codx-label>
        </div>
        <div class="col-12">
          <div class="upload-img mt-3">
            <codx-img
              #imageUpLoad
              [width]="100"
              [objectType]="'WP_NoteBooks'"
              [objectName]="noteBooks?.title"
              [funcId]="formModel?.funcID"
              [isAllowEdit]="true"
              [objectId]="noteBooks?.recID"
              [imageType]="'square'"
              [referType]="'image'"
              (handleInput)="handleInput()"
              [imgOn]="noteBooks?.modifiedOn"
            >
            </codx-img>
          </div>
        </div>
      </div>
    </div>
  </ng-template>

  <ng-template #footer>
    <div class="d-flex justify-content-end">
      <button
        type="button"
        class="btn btn-primary ms-1"
        (click)="saveNoteBooks()"
        *ngIf="!readOnly"
      >
        <codx-label
          name="Save"
          [formName]="formModel?.formName"
          default="Lưu"
        ></codx-label>
      </button>
    </div>
  </ng-template>
</codx-form>
