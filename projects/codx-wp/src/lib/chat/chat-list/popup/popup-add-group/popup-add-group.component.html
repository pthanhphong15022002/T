<codx-form 
    [dialog]="dialogRef" 
    [headerText]="headerText"  
    [body]="body" 
    [footer]="footer">
</codx-form>
<ng-template #body>
    <div class="container">
        <!-- Group name - Group avatar -->
        <div class="d-flex align-items-center justify-content-between w-100">
            <div class="me-4">
                <codx-img 
                    #codxImg
                    [objectId]="group.groupID" 
                    [objectName]="group.groupName" 
                    [objectType]="'WP_Groups'" 
                    [width]="70" 
                    isDefaulImg="true"
                    [funcId]="dialogRef.formModel.funcID"
                    [isAllowEdit]="true">
                </codx-img>
            </div>
            <div class="w-100 ms-4">
                <codx-input 
                    [type]="'text'" 
                    [field]="'groupName'" 
                    [crrValue]="group.groupName"
                    (valueChange)="valueChange($event)">
                </codx-input>  
            </div>
        </div>
        <!-- end Group name - Group avatar -->
        <!-- list user -->
        <div class="d-flex align-items-center justify-content-between w-100">
            <div>
                <div>
                    <codx-label [formModel]="dialogRef.formModel" default="Danh sách người dùng"></codx-label>
                </div>
                <div>
                    <codx-searchbar #codxSearch [iconPos]="'left'" [classList]="'w-100'"></codx-searchbar>
                </div>
                <div>
                    <ng-container *ngIf="listUser;else emptyTemplate">
                        <ng-container *ngFor="let item of listUser">
                            <div class="row p-2 ">
                                <!-- avatar -->
                                <div class="col-1">
                                    <codx-img
                                        [width]="30" 
                                        [objectId]="item.UserID" 
                                        [objectName]="item.UserName" 
                                        objectType="AD_Users"
                                        imageType="cricle">
                                    </codx-img>
                                </div>
                                <!-- end avatr -->
                                <!-- user name- user position -->
                                <div class="col-10 text-left">
                                    <p class="m-0 fw-bolder" *ngIf="item.UserName">{{item.UserName}}</p>
                                    <p class="m-0 text-dark-500" *ngIf="item.BUID">{{item.BUID}}</p>
                                    <p class="m-0 text-dark-400" *ngIf="item.BUID">{{item.BUID}}</p>
                                </div>
                                <!-- end user name- user position -->
                                <div class="col-1">
                                    <codx-input type="checkbox" class="cricle" [crrValue]="false"></codx-input>
                                </div>
                            </div>
                        </ng-container>    
                    </ng-container>  
                </div>
            </div>
        </div>
        <!-- end list user -->
    </div>


    <ng-template #emptyTemplate>
        <div class="container h-100">
            <div class="list-empty card card-flush h-100">
                <div class="d-flex flex-column flex-center justify-content-center">
                    <img src="../assets/themes/sys/default/img/DataEmpty.svg" class="w-100" />
                    <div class="fw-bold mt-1 text-center">
                        {{ "SYS011" | mssg | async }}
                    </div>
                </div>
            </div>
        </div>
    </ng-template>
</ng-template>
<ng-template #footer>
    <div class="d-flex justify-content-end">
        <button type="submit" class="btn btn-sm btn-primary" (click)="insertGroup()">Ok</button>
    </div>
</ng-template>


