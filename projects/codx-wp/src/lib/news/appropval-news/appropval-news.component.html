<codx-views #view 
  *ngIf="function"
  [views]="views" 
  [funcID]="function.functionID"
  [entityName]="function.entityName"
  idField="recID" 
  service="WP"
  assemblyName="ERM.Business.WP"
  className="NewsBusiness"
  method="GetDataApproAsync"
  [selectedFirst]="true" 
  (selectedChange)="selectedChange($event)">
</codx-views>

<ng-template #headerTemplate>
  <ul class="nav nav-news px-3">
    <ng-container *ngFor="let item of tabAsside">
      <li class="nav-item" [class.text-primary]="item.active">
        <a class="nav-link fw-bold mt-2 h-30px" href="javascript:;" (click)="clickTabApprove(item)">
          <codx-label [formModel]="view.formModel" [name]="'lbl' + item.text" [default]="item.text"></codx-label>
          <span>({{ item.total }})</span>
        </a>
      </li>
    </ng-container>
  </ul>
</ng-template>
<ng-template #itemTemplate let-data>
  <div>
    <codx-temp-full 
      [formModel]="view.formModel"
      [dataItem]="data" 
      [icoFld]="data.category"
      icoVll="WP004"
      imgCss="d-flex justify-content-center align-items-center w-40px h-40px fs-4 symbol rounded-circle me-3"
      [showIcoBgColor]="true"
      [showIcoText]="false"
      [title]="data.title"
      [desc]="data.descriptions"
      [desc2Tmp]="desc2Temp"
      descLine="2" 
      
      [bookmark]="false"
      cardCss="card-template border-bottom p-4"
      typeMF="hover" 
      (changeDataMF)="changeDataMF($event,data)"
      (clickMF)="clickMF($event,data)">
      <!-- [date]="data.modifiedOn || data.createdOn"
      [status]="data.approveStatus" 
      statusVll="CO003"  -->
    </codx-temp-full>
    <ng-template #desc2Temp let-data>
      <div>
        <codx-vll *ngIf="data?.status !=null" [showText]="true" [showBgColor]="true" [name]="'WP008'" [value]="data?.status"
        class="badge badge-light badge-md fs-7">
      </codx-vll>
      <codx-vll *ngIf="data?.approveStatus" [showText]="true" [showBgColor]="true" [name]="'WP007'" [value]="data?.approveStatus"
      class="badge badge-light badge-md fs-7">
      <span [innerHTML]="data?.modifiedOn ?? data?.createdOn | fmDT "></span>
      </codx-vll>
      </div>
    </ng-template>
  </div>
</ng-template>
<ng-template #panelRightRef>
  <wp-appropval-detail
    #tmpDetail
    *ngIf="loadedDetail"
    [objectID]="selectedID" 
    [function]="function" 
    [dataService]="view.dataService"
    [formModel]="view.formModel"
    (evtApprovalPost)="changeApproSatusPost($event)">
  </wp-appropval-detail>
</ng-template>


