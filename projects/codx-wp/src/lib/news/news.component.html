<codx-views #codxViews [funcID]="funcID" idField="recID" [views]="views" [autoLoad]="true">
</codx-views>
<div class="more-function">
  <div class="d-flex flex-column">
    <a (click)="clickShowPopupSearch()" class="btn btn-icon btn-primary"><i class="icon-search fs-1"></i></a>
    <span class="postnews mt-3">
      <a class="btn btn-icon btn-primary"><i class="icon-add fs-1"></i></a>
      <div class="d-flex btn-postnews">

        <a (click)="clickShowPopupCreate(NEWSTYPE.VIDEO)" class="btn btn-icon btn-primary me-3"><i
            class="icon-video_call fs-1"></i></a>
        <a (click)="clickShowPopupCreate(NEWSTYPE.POST)" class="btn btn-icon btn-primary"><i
            class="icon-post_add fs-1"></i></a>
      </div>
    </span>
  </div>
</div>
<ng-template #panelLeftRef>
  <div class="fix-container rounded-4 p-6 position-relative">
    <div class="row">
      <div class="row" *ngIf="lstHotNew[0]">
        <div class="fw-bold text-dark fs-2 mt-3 mb-3 border-bottom border-gray">
          <codx-label formName="News" name="lblNews" default="Tin tức sự kiện"></codx-label>
        </div>
      </div>

      <div class="row ">
        <div class="col-6">
          <ng-container *ngIf="lstHotNew[0];else empty1">
            <codx-img imageType="square" [cssClass]="'image-300 w-100'" [width]="300"
              (click)="clickViewDeital(lstHotNew[0])" [objectId]="lstHotNew[0].recID" [objectType]="entityName">
            </codx-img>
            <div class="fs-4 fw-bolder mt-2 news-title">
              {{ lstHotNew[0].subject }}
            </div>
            <div class="text-gray-700 mt-1">
              {{lstHotNew[0].subContent | maxlenght:500}}
            </div>
            <div class="fs-7 text-gray-400 mt-1">
              {{ lstHotNew[0].createdOn | fmDT }}
            </div>
          </ng-container>
        </div>
        <div class="col-6">
          <div *ngIf="lstHotNew[1];else empty2" class="row mb-2" (click)="clickViewDeital(lstHotNew[1])">
            <div class="col-4">
              <div class="w-100 position-relative">
                <codx-img imageType="square" [width]="180" [cssClass]="'image w-100'" [objectId]="lstHotNew[1].recID"
                  [objectType]="entityName"></codx-img>
                <div class="position-absolute bottom-0 end-0">
                  <span class="badge badge-danger">
                    <codx-label formName="News" name="lblCategory" [default]="lstHotNew[1].category"></codx-label>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-8">
              <div class="fs-5 fw-bolder">
                {{ lstHotNew[1].subject }}
              </div>
              <div class="text-gray-700">
                {{lstHotNew[1].subContent | maxlenght:300}}
              </div>
              <div class="fs-7 text-gray-400 mt-1">{{ lstHotNew[1].createdOn | fmDT }}</div>
            </div>
          </div>
          <div *ngIf="lstHotNew[2];else empty2" class="row my-2" (click)="clickViewDeital(lstHotNew[2])">
            <div class="col-4">
              <div class="w-100 position-relative">
                <codx-img [width]="180" imageType="square" [cssClass]="'image w-100'" [objectId]="lstHotNew[2].recID"
                  [objectType]="entityName"></codx-img>
                <div class="position-absolute bottom-0 end-0">
                  <span class="badge badge-danger">
                    <codx-label formName="News" name="lblCategory" [default]="lstHotNew[2].category"></codx-label>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-8">
              <div class="fs-5 fw-bolder news-title">
                {{ lstHotNew[2].subject }}
              </div>
              <div class="text-gray-700 news-des">
                {{lstHotNew[2].subContent | maxlenght:300}}
              </div>
              <div class="fs-7 text-gray-400 mt-1">{{ lstHotNew[2].createdOn | fmDT }}</div>
            </div>
          </div>
          <div *ngIf="lstHotNew[3];else empty2" class="row mt-2" (click)="clickViewDeital(lstHotNew[3])">
            <div class="col-4">
              <div class="w-100 position-relative">
                <codx-img [width]="180" imageType="square" [cssClass]="'image w-100'" [objectId]="lstHotNew[3].recID"
                  [objectType]="entityName"></codx-img>
                <div class="position-absolute bottom-0 end-0">
                  <span class="badge badge-danger">
                    <codx-label formName="News" name="lblCategory" [default]="lstHotNew[3].category"></codx-label>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-8">
              <div class="fs-5 fw-bolder news-title">
                {{ lstHotNew[3].subject }}
              </div>
              <div class="text-gray-700 news-des">
                {{lstHotNew[3].subContent | maxlenght:300}}
              </div>
              <div class="fs-7 text-gray-400 mt-1">{{ lstHotNew[3].createdOn | fmDT }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row my-8">
      <ngb-carousel carousel [wrap]="false" [interval]="0" [keyboard]="false" [pauseOnHover]="false"
        [showNavigationArrows]="isAllowNavigationArrows" [showNavigationIndicators]="false">
        <ng-template ngbSlide *ngFor="let list of listSlider">
          <div class="row">
            <div *ngFor="let item of list" class="col-4">
              <div (click)="clickViewDeital(item)" class="w-100">
                <codx-img [cssClass]="'image-200 w-100'" [width]="300" imageType="square" [objectId]="item.recID"
                  objectType="WP_News">
                </codx-img>
                <div class="fs-6 mt-2 fw-bolder">{{item.subject | maxlenght:150 }}</div>
              </div>
            </div>
          </div>
        </ng-template>
      </ngb-carousel>
    </div>
    <div class="row">
      <ng-container *ngIf="category == CATEGORY.HOME;else grCategory">
        <ng-container *ngFor="let grItem of lstGroup">
          <ng-container *ngFor="let item of grItem">
            <div (click)="clickViewDeital(item)" class="row my-4">
              <div class="col-2">
                <codx-img [width]="180" [cssClass]="'image-125 w-100'" imageType="square" [objectId]="item.recID"
                  objectType="WP_News"></codx-img>
              </div>
              <div class="col-10">
                <!-- <div class="fs-5 mt-2 fw-bolder">{{item.subject}}</div>
                <div class="text-gray-700 mt-1">
                  {{item.subContent | maxlenght:500}}
                </div>
                <div class="fs-7 text-gray-400 mt-1 text-end">{{ item.createdOn | fmDT }}</div> -->
                <codx-temp-full [resourceObjType]="entityName" imageType="square" cardCss="h-125px"
                  [title]="item.subject" [desc]="item.subContent" [date]="item.createdOn" [bookmark]="false">
                </codx-temp-full>
              </div>
            </div>
          </ng-container>
        </ng-container>
      </ng-container>
      <ng-template #grCategory>
        <ng-container *ngFor="let item of lstGroup">
          <div (click)="clickViewDeital(item)" class="row my-4">
            <div class="col-2">
              <codx-img [width]="180" [cssClass]="'image-150 w-100'" imageType="square" [objectId]="item.recID"
                objectType="WP_News"></codx-img>
            </div>
            <div class="col-10">
              <div class="fs-5 mt-2 fw-bolder">{{item.subject}}</div>
              <div class="text-gray-700 mt-1">
                {{item.subContent | maxlenght:500}}
              </div>
              <div class="fs-7 text-gray-400 mt-1 text-end">{{ item.createdOn | fmDT }}</div>
            </div>
          </div>
        </ng-container>
      </ng-template>
    </div>
  </div>

</ng-template>
<ng-template #itemTemplate let-item>
  <div (click)="clickViewDeital(item)" class="row my-4">
    <div class="col-2">
      <codx-img [width]="180" [cssClass]="'image-150 w-100'" imageType="square" [objectId]="item.recID"
        objectType="WP_News"></codx-img>
    </div>
    <div class="col-10">
      <div class="fs-5 mt-2 fw-bolder">{{item.subject}}</div>
      <div class="text-gray-700 mt-1">
        {{item.subContent | maxlenght:500}}
      </div>
      <div class="fs-7 text-gray-400 mt-1 text-end">{{ item.createdOn | fmDT }}</div>
    </div>
  </div>
  <!-- <codx-temp-full 
    [formModel]="codxViews.formModel"
    [resourceObjType]="entityName"
    [imageId]="data.recID"
    imgCss="me-2 image-full"
    [imageObjType]="entityName"
    imageType="square"
    cardCss="card-template border-bottom px-2 py-3" 
    [title]="data.subject"
    [desc]="data.subContent"
    [date]="data.createdOn"
    [bookmark]="false">
  </codx-temp-full> -->
</ng-template>
<!-- empty -->
<ng-template #empty1>
  <div class="text-center">
    <img class="w-100 h-320px" src="../assets/demos/svg/pic-avata.png" />
  </div>
</ng-template>
<ng-template #empty2>
  <div class="row my-2">
    <div class="col-4">
      <img class="w-100 h-100px" src="../assets/demos/svg/pic-avata.png" />
    </div>
    <div class="col-8">
      <img class="w-100 h-100px" src="../assets/demos/svg/template-kanban.png" />
    </div>
  </div>
</ng-template>
<ng-template #emptyVideo>
  <div class="text-center">
    <img style="max-width:700px" src="../assets/demos/svg/card-preview2.png" />
  </div>
</ng-template>
<ng-template #listGroup let-item>
  <div (click)="clickViewDeital(item)" class="row my-2">
    <div class="col-2">
      <codx-img [width]="180" [cssClass]="'image-180 w-100'" imageType="square" [objectId]="item.recID"
        objectType="WP_News"></codx-img>
    </div>
    <div class="col-10">
      <div class="fs-5 mt-2 fw-bolder">{{item.subject}}</div>
      <div class="text-gray-700 mt-1">
        {{item.subContent | maxlenght:500}}
      </div>
      <div class="fs-7 text-gray-400 mt-1 text-end">{{ item.createdOn | fmDT }}</div>
    </div>
  </div>

</ng-template>