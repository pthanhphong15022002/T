<codx-views #codxViews 
[funcID]="funcID" 
idField="recID"
[views]="views"

[autoLoad]="true"
>
</codx-views>
<ng-template #panelLeftRef>
  <div class="container position-relative">
    <div class="row">
      <div class="fw-bold text-dark fs-2 mt-3 mb-3 border-bottom border-gray">
        <codx-label formName="News" name="lblNews" default="Tin tức sự kiện"></codx-label>
      </div>
      <div class="row ">
        <div class="col-6">
          <ng-container *ngIf="listNews[0];else empty1">
            <codx-img 
            imageType="square" 
            [cssClass]="'image-300 w-100'"
            [width]="300"
            (click)="clickViewDeital(listNews[0])" 
            [objectId]="listNews[0].recID"
            [objectType]="entityName">
            </codx-img>
            <div class="fs-4 fw-bolder mt-2 news-title">
              {{ listNews[0].subject }}
            </div>
            <div class="text-gray-700 mt-1" >
              {{listNews[0].subContent | maxlenght:500}}
            </div>
            <div class="fs-7 text-gray-400 mt-1">
              {{ listNews[0].createdOn | fmDT }}
            </div>
          </ng-container>
        </div>
        <div class="col-6">
          <div *ngIf="listNews[1];else empty2" class="row mb-2" (click)="clickViewDeital(listNews[1])">
            <div class="col-4">
              <div class="w-100 position-relative">
                <codx-img  imageType="square" [width]="180" [cssClass]="'image w-100'" [objectId]="listNews[1].recID" [objectType]="entityName"></codx-img>
                <div class="position-absolute bottom-0 end-0">
                  <span class="badge badge-danger">
                    <codx-label formName="News" name="lblCategory" [default]="listNews[1].category"></codx-label>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-8" >
              <div class="fs-5 fw-bolder">
                {{ listNews[1].subject }}
              </div>
              <div class="text-gray-700">
                  {{listNews[1].subContent | maxlenght:300}}
              </div>
              <div class="fs-7 text-gray-400 mt-1">{{ listNews[1].createdOn | fmDT }}</div>
            </div>
          </div>
          <div *ngIf="listNews[2];else empty2" class="row my-2" (click)="clickViewDeital(listNews[2])">
            <div class="col-4">
              <div class="w-100 position-relative" >
                <codx-img [width]="180" imageType="square" [cssClass]="'image w-100'" [objectId]="listNews[2].recID" [objectType]="entityName"></codx-img>
                <div class="position-absolute bottom-0 end-0">
                  <span class="badge badge-danger">
                    <codx-label formName="News" name="lblCategory" [default]="listNews[2].category"></codx-label>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-8" >
              <div class="fs-5 fw-bolder news-title">
                {{ listNews[2].subject }}
              </div>
              <div class="text-gray-700 news-des">
                  {{listNews[2].subContent | maxlenght:300}}
              </div>
              <div class="fs-7 text-gray-400 mt-1">{{ listNews[2].createdOn | fmDT }}</div>
            </div>
          </div>
          <div *ngIf="listNews[3];else empty2" class="row mt-2" (click)="clickViewDeital(listNews[3])">
            <div class="col-4">
              <div class="w-100 position-relative" >
                <codx-img [width]="180" imageType="square" [cssClass]="'image w-100'" [objectId]="listNews[3].recID" [objectType]="entityName"></codx-img>
                <div class="position-absolute bottom-0 end-0">
                  <span class="badge badge-danger">
                    <codx-label formName="News" name="lblCategory" [default]="listNews[3].category"></codx-label>
                  </span>
                </div>
              </div>
            </div>
            <div class="col-8" >
              <div class="fs-5 fw-bolder news-title">
                {{ listNews[3].subject }}
              </div>
              <div class="text-gray-700 news-des">
                  {{listNews[3].subContent | maxlenght:300}}
              </div>
              <div class="fs-7 text-gray-400 mt-1">{{ listNews[3].createdOn | fmDT }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row my-8">
      <ng-container *ngIf="listSlider.length > 0 ;else empty1">
          <ngb-carousel carousel [wrap]="false" [interval]="0" [keyboard]="false" [pauseOnHover]="false"
            [showNavigationArrows]="isAllowNavigationArrows" [showNavigationIndicators]="false">
            <ng-template ngbSlide *ngFor="let list of listSlider">
              <div class="row">
                <div *ngFor="let item of list" class="col-4">
                    <div (click)="clickViewDeital(item)" class="w-100">
                      <codx-img 
                        [cssClass]="'image-200 w-100'" 
                        [width]="300" imageType="square" 
                        [objectId]="item.recID" 
                        objectType="WP_News">
                      </codx-img>
                      <div class="fs-6 mt-2 fw-bolder">{{item.subject | maxlenght:150 }}</div>
                    </div>
                </div>
              </div>
            </ng-template>
          </ngb-carousel>
      </ng-container>
    </div>
    <div class="row">
      
    </div>
  </div>
  <div class="more-function">
    <div class="d-flex flex-column">
      <a (click)="clickShowPopupSearch()" class="btn btn-icon btn-primary"><i class="icon-search fs-1"></i></a>
      <span class="postnews mt-3">
        <a class="btn btn-icon btn-primary"><i class="icon-add fs-1"></i></a>
        <div class="d-flex btn-postnews">

          <a (click)="clickShowPopupCreate(NEWSTYPE.VIDEO)" class="btn btn-icon btn-primary me-3"><i
              class="icon-video_call fs-1"></i></a>
          <a (click)="clickShowPopupCreate(NEWSTYPE.POST)" class="btn btn-icon btn-primary"><i class="icon-post_add fs-1"></i></a>
        </div>
      </span>
    </div>
  </div>
</ng-template>
<ng-template #itemTemplate let-item>
  <div (click)="clickViewDeital(item)" class="row my-4">
    <div class="col-2">
      <codx-img [width]="180" [cssClass]="'image-150 w-100'" imageType="square" [objectId]="item.recID" objectType="WP_News"></codx-img>
    </div>
    <div class="col-10">
      <div class="fs-5 mt-2 fw-bolder">{{item.subject}}</div>
      <div class="text-gray-700 mt-1">
        {{item.subContent | maxlenght:500}}
      </div>
      <div class="fs-7 text-gray-400 mt-1 text-end">{{ item.createdOn | fmDT }}</div>
    </div>
  </div>
  <!-- <codx-temp-full 
    [formModel]="codxViews.formModel"
    [resourceObjType]="entityName"
    [imageId]="data.recID"
    imgCss="me-2 image-full"
    [imageObjType]="entityName"
    imageType="square"
    cardCss="card-template border-bottom px-2 py-3" 
    [title]="data.subject"
    [desc]="data.subContent"
    [date]="data.createdOn"
    [bookmark]="false">
  </codx-temp-full> -->
</ng-template>
<!-- empty -->
<ng-template #empty1>
  <div class="text-center">
      <img style="max-width:700px" src="../assets/media/img/EmptyData.svg" />
  </div>
</ng-template>
<ng-template #empty2>
  <div class="row my-2">
    <div class="col-4">
        <img class="w-100 h-100px" src="../assets/demos/svg/pic-avata.png" />
    </div>
    <div class="col-8" >
      <img class="w-100 h-100px" src="../assets/demos/svg/template-kanban.png" />
    </div>
  </div>
</ng-template>
<ng-template #emptyVideo>
  <div class="text-center">
      <img style="max-width:700px" src="../assets/demos/svg/card-preview2.png" />
  </div>
</ng-template>
<!-- lisst group -->
<ng-template #listGroup let-item>
  <div (click)="clickViewDeital(item)" class="row my-2">
    <div class="col-2">
      <codx-img [width]="180" 
      [cssClass]="'image-180 w-100'" 
      imageType="square" 
      [objectId]="item.recID" 
      objectType="WP_News"></codx-img>
    </div>
    <div class="col-10">
      <div class="fs-5 mt-2 fw-bolder">{{item.subject}}</div>
      <div class="text-gray-700 mt-1">
        {{item.subContent | maxlenght:500}}
      </div>
      <div class="fs-7 text-gray-400 mt-1 text-end">{{ item.createdOn | fmDT }}</div>
    </div>
  </div>
  
</ng-template>

<!-- list news old -->
<ng-template #listOld let-item>
  <div (click)="clickViewDeital(item)" class="row mb-6">
    <div class="col-2">
      <codx-img [width]="180" [cssClass]="'image-180 w-100'" imageType="square" [objectId]="item.recID" objectType="WP_News"></codx-img>
    </div>
    <div class="col-10">
      <div class="fs-5 news-title fw-bolder" >{{item.subject}}</div>
      <div class="fs-7 text-gray-400 mt-1">{{ item.createdOn | fmDT }}</div>
      <div class="text-gray-700 mt-1">
        {{item.subContent | maxlenght:500}}
      </div>
    </div>
  </div>
</ng-template>

<ng-template #catagory>
  <div class="row">
    <div class="px-12 mt-6">
      <codx-listview #listCategory [itemTemplate]="listOld" title="" [funcId]="funcID" [entityName]="entityName"
        [predicate]="predicate" [dataValue]="dataValue" [dataObj]="'list'" page="1"
        [pageSize]="6" predicates="NewsType = @0" dataValues="1" method="GetListNewsAsync" service="WP"
        assemblyName="ERM.Business.WP" className="NewsBusiness"></codx-listview>
    </div>
  </div>
</ng-template>