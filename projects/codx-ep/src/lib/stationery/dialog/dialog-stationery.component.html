<codx-form
  headerText="Thêm mới Văn Phòng phẩm"
  subHeaderText="Thêm văn phòng phẩm"
  [body]="body"
  [footer]="footer"
  [dialog]="dialog"
>
  <ng-template popup #body>
    <div class="tab-content">
      <ejs-tab
        id="tab_orientation"
        #orientationTab
        [showCloseButton]="false"
        heightAdjustMode="Auto"
        headerPlacement="Left"
      >
        <e-tabitems>
          <e-tabitem [header]="headerText[0]">
            <ng-template #content>
              <div id="rome" class="tabpanel">
                <div class="d-flex flex-column mb-4">
                  <codx-label
                    class="fw-bold"
                    default="Tên sản phẩm"
                    fieldName="ResourceName"
                    formName="Stationery"
                    gridViewName="grvStationery"
                  >
                  </codx-label>
                  <codx-input
                    type="text"
                    ControlName="resourceID"
                    [crrValue]="addEditForm.value.resourceID"
                    [Group]="addEditForm"
                    [refValue]="CbxName['ResourceID']"
                    (valueChange)="valueChange($event)"
                  ></codx-input>
                </div>
                <div class="d-flex row align-items-center mb-4">
                  <div class="col-8">
                    <codx-label
                      class="fw-bold"
                      default="Nhóm"
                      fiedName="ResourceID"
                    >
                    </codx-label>
                    <codx-input
                      type="combobox"
                      ngDefaultControl
                      [refValue]="CbxName['ReasonID']"
                      (valueChange)="valueChange($event)"
                      [multiple]="false"
                    >
                    </codx-input>
                  </div>
                  <div class="col-4">
                    <codx-label
                      class="fw-bold"
                      default="Mã số"
                      fiedName="StartDate"
                      aria-disabled="false"
                    >
                    </codx-label>
                    <codx-input
                      type="text"
                      ControlName="resourceID"
                      [crrValue]="addEditForm.value.resourceID"
                      [Group]="addEditForm"
                      [refValue]="CbxName['ResourceID']"
                      (valueChange)="valueChange($event)"
                    >
                    </codx-input>
                  </div>
                </div>

                <div class="d-flex flex-column mb-4">
                  <codx-label
                    class="fw-bold"
                    default="Kho"
                    fiedName="ReasonID"
                    formName="Stationery"
                    gridViewName="grvStationery"
                  >
                  </codx-label>
                  <codx-input
                    type="combobox"
                    ngDefaultControl
                    [refValue]="CbxName['ReasonID']"
                    (valueChange)="valueChange($event)"
                    [multiple]="false"
                  >
                  </codx-input>
                </div>

                <div class="d-flex flex-column mb-4">
                  <codx-label
                    class="fw-bold"
                    default="Người điều phối"
                    fiedName="ResourceName"
                    formName="Stationery"
                    gridViewName="grvStationery"
                  >
                  </codx-label>
                  <codx-input
                    type="combobox"
                    ngDefaultControl
                    [refValue]="CbxName['ReasonID']"
                    (valueChange)="valueChange($event)"
                    [multiple]="false"
                  >
                  </codx-input>
                </div>

                <div class="d-flex flex-column mb-4">
                  <codx-label
                    class="fw-bold"
                    default="Mô tả chi tiết"
                    fiedName="Memo"
                  >
                  </codx-label>
                  <codx-input
                    type="textarea"
                    class="test-textarea"
                    field="memo"
                    ControlName="memo"
                    placeholder="textarea"
                    [crrValue]="addEditForm.value.memo"
                    (valueChange)="valueChange($event)"
                  >
                  </codx-input>
                </div>

                <div class="text-end align-items-end">
                  <button
                    type="button"
                    class="btn btn-clean btn-sm btn-icon btn-icon-md"
                    data-dismiss="modal"
                    (click)="openPopupDevice()"
                  >
                    <i
                      class="icon-select_all text-primary text-hover-primary-dark icon-24"
                    ></i>
                  </button>
                </div>
              </div>
            </ng-template>
          </e-tabitem>
          <e-tabitem [header]="headerText[1]">
            <ng-template #content>
              <div id="rome" class="tabpanel">
                <div class="tab-content">
                  <div
                    class="d-flex justify-content-between align-items-center mb-4"
                  >
                    <h4 class="fw-bolder text-gray-800 d-block mb-2">
                      Người tham dự
                    </h4>
                    <span class="icon-group_add text-primary fs-1"></span>
                  </div>
                  <div class="d-flex align-items-center mb-4">
                    <div
                      class="symbol symbol-35px symbol-circle me-4"
                      data-bs-toggle="tooltip"
                      title=""
                      data-bs-original-title="Trần Quốc Hoàn"
                    >
                      <img
                        alt="Pic"
                        src="../../../assets/themes/sys/default/light/img/avatar_default.svg"
                      />
                      <span
                        class="symbol-badge badge badge-circle bg-primary top-100 start-100 text-white fs-8"
                        >R</span
                      >
                    </div>
                    <div class="d-flex flex-column flex-grow-1">
                      <div class="text-dark fw-bold fs-6 font-weight-bolder">
                        Trần Quốc Hoàn
                      </div>
                      <span class="text-muted font-weight-bold"
                        >Chủ trì cuộc họp</span
                      >
                    </div>
                    <div class="d-flex flex-column justify-content-end">
                      <span class="badge badge-light-success fs-7 fw-bold mb-1"
                        >Chưa xác định</span
                      >
                      <span class="text-muted font-weight-bold text-center">
                        1 ngày trước
                      </span>
                    </div>
                  </div>
                  <div class="d-flex align-items-center mb-4">
                    <div
                      class="symbol symbol-35px symbol-circle me-4"
                      data-bs-toggle="tooltip"
                      title=""
                      data-bs-original-title="Võ Văn Quang"
                    >
                      <img
                        class="empImg"
                        alt="Pic"
                        src="../../../assets/themes/sys/default/light/img/avatar_default.svg"
                      />
                      <span
                        class="symbol-badge badge badge-circle bg-dark top-100 start-100 text-white fs-8"
                        >0</span
                      >
                    </div>
                    <div class="d-flex flex-column flex-grow-1">
                      <div class="text-dark fw-bold fs-6 font-weight-bolder">
                        Trần Quốc Hoàn
                      </div>
                      <span class="text-muted font-weight-bold"
                        >Thành viên</span
                      >
                    </div>
                    <div class="d-flex flex-column justify-content-end">
                      <span class="badge badge-light-danger mb-1"
                        >Không tham gia</span
                      >
                      <span class="text-muted font-weight-bold text-center">
                        1 giờ trước
                      </span>
                    </div>
                  </div>
                  <div class="text-center">
                    <div
                      class="Participants d-flex align-items-center w-275px mx-auto"
                    >
                      <a
                        href="#"
                        class="d-flex align-items-center text-dark text-hover-primary me-5"
                      >
                        <span
                          class="badge badge-sm badge-circle btn-danger top-100 start-100 text-white fs-8 me-1"
                          >A</span
                        >
                        Chủ trì
                      </a>
                      <a
                        href="#"
                        class="d-flex align-items-center text-dark text-hover-primary me-5"
                      >
                        <span
                          class="badge badge-sm badge-circle btn-success top-100 start-100 text-white fs-8 me-1"
                          >S</span
                        >
                        Thư ký
                      </a>
                      <a
                        href="#"
                        class="d-flex align-items-center text-dark text-hover-primary me-5"
                      >
                        <span
                          class="badge badge-sm badge-circle btn-primary top-100 start-100 text-white fs-8 me-1"
                          >P</span
                        >
                        Tham dự
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </e-tabitem>
          <e-tabitem [header]="headerText[2]">
            <ng-template #content>
              <div id="rome" class="tabpanel">
                <div class="tab-content">
                  <div
                    class="d-flex justify-content-between align-items-center mb-4"
                  >
                    <h4 class="fw-bolder text-gray-800 d-block mb-2">
                      Thông tin khác
                    </h4>
                    <span class="icon-layers text-primary fs-1"></span>
                  </div>

                  <div class="d-flex align-items-center mb-4">
                    <span class="fw-bolder text-gray-800 d-block mb-2">
                      <codx-label
                        default="Số người tham dự"
                        fiedName="Attendees"
                      >
                      </codx-label>
                    </span>
                    <div class="d-flex flex-column text-center">
                      <div class="position-relative w-100 mw-125px">
                        <button
                          type="button"
                          class="btn btn-icon btn-active-color-gray-700 position-absolute translate-middle-y top-40 start-0"
                          data-kt-dialer-control="decrease"
                        >
                          <span class="icon-minimize"> </span>
                        </button>
                        <input
                          type="text"
                          class="form-control text-center"
                          data-kt-dialer-control="input"
                          placeholder="Amount"
                          name="manageBudget"
                          readonly="readonly"
                          value="50"
                        />
                        <button
                          type="button"
                          class="btn btn-icon btn-active-color-gray-700 position-absolute translate-middle-y top-50 end-0"
                          data-kt-dialer-control="increase"
                        >
                          <span class="icon-add"> </span>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="separator my-5"></div>
                  <div class="d-flex flex-stack mb-4">
                    <div class="d-flex align-items-center me-3">
                      <codx-img
                        #image
                        class="me-3 w-60px"
                        objectId="ADMIN"
                        objectType="Users"
                      >
                      </codx-img>
                      <div class="flex-grow-1">
                        <a
                          href="#"
                          class="text-gray-800 text-hover-primary fw-bolder lh-0"
                          >Nước suối</a
                        >
                        <span class="text-gray-400 fw-bold d-block fs-6"
                          >Đơn vị tính : chai</span
                        >
                      </div>
                    </div>
                    <div class="d-flex align-items-center w-100 mw-125px">
                      <codx-input
                        type="number"
                        field="number"
                        placeholder="Input type number"
                        value="0"
                        min="0"
                        max="50"
                      >
                      </codx-input>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </e-tabitem>
          <e-tabitem [header]="headerText[3]">
            <ng-template #content>
              <div id="rome" class="tabpanel">
                <div class="tab-content">
                  <div class="d-flex flex-column mb-4">
                    <h4 class="fw-bolder text-gray-800 d-block mb-2">
                      Thông tin khác
                    </h4>
                  </div>
                  <div class="d-flex flex-column mb-4">
                    <div class="col-6">
                      <codx-label
                        class="fw-bold"
                        default="Số người tham dự"
                        fiedName="Attendees"
                      >
                      </codx-label>
                      <codx-input
                        type="number"
                        field="attendees"
                        placeholder="Input type number"
                        value="0"
                        [min]="0"
                        max="50"
                        [crrValue]="this.addEditForm.value.attendees"
                        (valueChange)="valueChange($event)"
                      >
                      </codx-input>
                    </div>
                  </div>
                  <div class="d-flex flex-column mb-4">
                    <codx-label
                      class="fw-bold"
                      default="Phân loại"
                      fiedName="Category"
                    >
                    </codx-label>

                    <codx-input
                      type="valuelist"
                      name="valuelist"
                      ngDefaultControl
                      [crrValue]="this.addEditForm.value.category"
                      [refValue]="CbxName['Category']"
                      field="category"
                      (valueChange)="valueChange($event)"
                    >
                    </codx-input>
                  </div>
                  <div class="d-flex flex-column mb-4">
                    <codx-label
                      class="fw-bold"
                      default="Ghi chú"
                      fiedName="Note"
                    >
                    </codx-label>
                    <codx-input
                      type="textarea"
                      class="test-textarea"
                      field="note"
                      placeholder="textarea"
                      ControlName="note"
                      (valueChange)="valueChange($event)"
                      ngDefaultControl
                      [crrValue]="addEditForm.value.note"
                    >
                    </codx-input>
                  </div>
                  <div class="d-flex flex-column mb-4">
                    <div class="col-8">
                      <div class="d-flex flex-stack mb-4">
                        <div class="form-switch1">
                          <codx-input
                            #checkbox
                            type="switch"
                            id="switch"
                            [checked]="this.addEditForm.value.repeat"
                            labelPosition="After"
                            field="repeat"
                            [disabled]="false"
                            class="test-switch"
                            (valueChange)="valueChange($event)"
                          ></codx-input>
                          <span class="fw-bold ms-2"
                            ><label for="switch">Lặp lại</label></span
                          >
                        </div>
                        <div class="me-5">
                          <codx-input
                            type="valuelist"
                            [refValue]="CbxName['Interval']"
                            ngDefaultControl
                            [crrValue]="this.addEditForm.value.interval"
                            field="interval"
                            (valueChange)="valueChange($event)"
                            [disabled]="true"
                          ></codx-input>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </e-tabitem>
        </e-tabitems>
      </ejs-tab>
    </div>
  </ng-template>
  <ng-template #footer>
    <div class="d-flex justify-content-between">
      <button class="btn btn-light-primary" (click)="onSaveForm()">Lưu</button>
      <button class="btn btn-light-primary">Sửa</button>
    </div>
  </ng-template>
</codx-form>

<ng-template #addLink let-dialog>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Link cuộc họp</h4>
    <button
      type="button"
      class="btn btn-xs btn-icon btn-light btn-hover-primary"
      aria-label="Close"
      (click)="dialog.close()"
    >
      <span class="icon-close icon-20"></span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-group row">
      <div class="col-4">
        <label>Đường dẫn</label>
      </div>
    </div>
    <div class="form-group row">
      <codx-input
        type="text"
        class="form-control"
        placeholder="https://home.suremeet.vn/"
        [crrValue]="link"
        (valueChange)="changeLink($event)"
      ></codx-input>
    </div>
  </div>
  <div class="modal-footer" (click)="dialog.close()">
    <button type="button" class="btn btn-primary">Lưu</button>
  </div>
</ng-template>

<ng-template #popupDevice let-dialog>
  <!--begin::Card body-->
  <div class="modal-header">
    <div class="d-flex flex-column flex-grow-1">
      <div class="d-flex justify-content-between align-items-center">
        <h2 id="modal-basic-title">Thiết bị</h2>
        <button
          type="button"
          class="btn btn-xs btn-icon btn-light btn-hover-primary"
          aria-label="Close"
          (click)="dialog.close()"
        >
          <span class="icon-close icon-20 text-dark text-hover-primary"></span>
        </button>
      </div>
      <div class="text-dark-50">
        Chọn các thiết bị đã tích tích hợp sẵn trong phòng
      </div>
    </div>
  </div>
  <div class="modal-body">
    <div class="py-2" *ngFor="let item of tmplstDevice">
      <!--begin::Item-->
      <div class="d-flex flex-stack">
        <div class="d-flex">
          <span class="text-dark icon-wifi me-2 p-1"></span>
          <div class="d-flex flex-column">
            <a href="#" class="text-dark text-hover-primary fw-bolder">{{
              item.text
            }}</a>
          </div>
        </div>
        <div class="d-flex justify-content-end">
          <div class="form-check form-check-solid form-switch">
            <input
              class="form-check-input w-35px h-20px"
              type="checkbox"
              id="googleswitch"
              [checked]="item.isSelected"
              (change)="checkedChange($event, item)"
            />
            <label class="form-check-label" for="googleswitch"></label>
          </div>
        </div>
      </div>
      <!--end::Item-->
      <!-- <div class="separator separator-dashed my-5"></div> -->
    </div>
    <!--end::Card body-->
  </div>
  <div class="modal-footer" (click)="dialog.close()">
    <button type="button" class="btn btn-primary">Lưu</button>
  </div>
</ng-template>

<ng-template #addLink> </ng-template>
