<codx-form
  [headerText]="headerText"
  [subHeaderText]="subHeaderText"
  [body]="body"
  [footer]="footer"
  [dialog]="dialog"
  [formControl]="dialogRequest"
  *ngIf="isAfterRender"
>
  <ng-template #body>
    <div class="d-flex justify-content-between">
      <codx-temp-full
        imageId="ADMIN"
        [title]="'Lê Phạm Hoài Thương'"
        [subTitle]="'Thư ký trung tâm-NDX'"
        cardCss="card-template border-bottom px-2 py-3"
        [resources]="''"
        [resourceObjType]="'AD_Users'"
        [modeImgs]="false"
        [titleLine]="3"
      >
      </codx-temp-full>
      <div>
        <span class="badge badge-secondary">Cá nhân</span>
        <span class="badge badge-primary">Phòng</span>
      </div>
    </div>
    <div
      class="d-flex flex-wrap align-items-center justify-content-between w-bold fs-7 mb-2"
    >
      <div class="title">
        <span class="icon-apartment1"></span>
        <codx-label
          name="lblDepartment"
          default="Đơn vị/bộ phận:"
          [formModel]="dialog.formModel"
          >{{ dialog.BUID }}</codx-label
        >
      </div>
      <!--begin: btn-icon-->
      <span class="text-end align-items-end">
        <button
          type="button"
          class="btn btn-clean btn-sm btn-icon btn-icon-md"
          data-dismiss="modal"
          (click)="openPopupDevice(popupDevice)"
        >
          <i
            class="icon-connection-point text-primary text-hover-primary-dark icon-24"
          ></i>
        </button>
      </span>
      <!--end: btn-icon-->
    </div>
    <div
      class="d-flex flex-wrap align-items-center justify-content-between w-bold fs-7 mb-2"
    >
      <div class="title">
        <codx-label
          name="lblAgent"
          default="Số lượng nhân viên của phòng: "
          [formModel]="dialog.formModel"
        ></codx-label>
      </div>
      <!--begin: btn-icon-->
      <codx-input
        type="number"
        field="number"
        placeholder="Input type number"
        value="0"
        min="0"
        max="50"
      >
      </codx-input>
      <!--end: btn-icon-->
    </div>
    <div class="d-flex justify-content-between">
      <div class="d-flex flex-row">
        <div class="w-100px h-100px m-4">
          <codx-img [objectId]="" imageType="square" width="100"></codx-img>
        </div>
        <div class="">
          <div class="text-dark font-weight-bold font-size-h6">
            {{ dialog.resourceName }}
          </div>
          <div>Đơn vị tính: {{ dialog.costPrice }}</div>
          <div class="d-flex justify-content-between align-items-end mt-2">
            <div class="d-flex align-items-end me-2 codx-badge">
              <div class="d-flex align-items-center position-relative me-4">
                <span class="icon-view_agenda icon-20 text-gray-400"></span>
                <span>{{ dialog.currentQty }}</span>
              </div>
              <div class="d-flex align-items-center position-relative me-4">
                <span class="icon-shopping_cart icon-20 text-gray-400"></span>
                <span>{{ dialog.reservedQty }}</span>
              </div>
              <div class="d-flex align-items-center position-relative me-4">
                <span class="icon-brightness_auto icon-20 text-gray-400"></span>
                <span>{{ dialog.availableQty }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="input-number">
        <codx-input
          type="number"
          field="number"
          placeholder="Input type number"
          value="0"
          min="0"
          max="50"
        >
        </codx-input>
      </div>
    </div>
  </ng-template>
  <ng-template #footer>
    <div class="d-flex justify-content-between">
      <div class="">
        <codx-label
          name="lblItems"
          default="Tổng số mặt hàng yêu cầu"
          [formModel]="dialog.formModel"
        ></codx-label>
      </div>
      <div class="d-flex">
        <codx-label
          name="lblDay"
          default="Ngày yêu cầu"
          [formModel]="dialog.formModel"
        ></codx-label>
        <codx-input
          type="datetime"
          class="form-control test-datetime"
          field="datetime"
          [crrValue]="dialogRequest.value.startDate"
          ControlName="startDate"
          placeholder="datetime"
          format="d"
          (valueChange)="valueDateChange($event)"
        >
        </codx-input>
      </div>
    </div>
    <div class="">
      <div class="d-flex justify-content-between">
        <div class="">
          <codx-label
            fieldname="ReasonID"
            default="Lý do"
            [formModel]="dialog.formModel"
          ></codx-label>
        </div>
        <div class="col-10">
          <codx-input
            type="valuelist"
            field=""
            [refValue]="CbxName['reasonID']"
            ngDefaultControl
            [crrValue]="this.dialogRequest.value.reasonID"
            field="reasonID"
            (valueChange)="valueChange($event)"
            [disabled]="true"
          ></codx-input>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-end">
      <button class="btn btn-outline-primary" (click)="onSaveForm()">
        <codx-label
          name="lblSend"
          default="Gởi duyệt"
          [formModel]="dialog.formModel"
        ></codx-label>
      </button>
      <button class="btn btn-light-primary" (click)="onSaveForm()">
        <codx-label
          name="lblSave"
          default="Lưu"
          [formModel]="dialog.formModel"
        ></codx-label>
      </button>
    </div>
  </ng-template>
</codx-form>
<ng-template #popupDevice> </ng-template>
