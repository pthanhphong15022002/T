<codx-views #view 
    [views]="views" 
    [idField]="'recID'" 
    [service]="'EP'" 
    [assemblyName]="'ERM.Business.EP'" 
    [className]="'RequestsBusiness'"
    [methodName]="'LoadDataAsync'"
    [selectedFirst]="true"
    (selectedChange)="selectedChange($event)"
    (clickMF)="clickMF($event)"
    (changeDataMF)="changeDataMF($event)">
</codx-views>
<ng-template #itemTemplate let-data>
    <div class="d-flex flex-column p-2">
        <codx-temp-full 
            [dataItem]="data" 
            [title]="data.employeeName" 
            [contentTmp]="contentTmp" 
            [imageId]="data.employeeID" 
            [imageObjType]="'HR_Employees'" 
            [imageObjName]="data.employeeName" 
            [imageWidth]="40"
            [formModel]="view.formModel"
            [hideMF]="true"
            (clickMF)="clickMF($event,data)">
        </codx-temp-full>
    </div>
</ng-template>

<ng-template #contentTmp let-data>
    <div class="d-flex flex-column w-100">
        <div class="text-dark"><span>{{data.memo}}</span></div>
        <div class="d-flex align-items-center" *ngIf="data.fromDate || data.toDate">
            <div class="me-2"><i class="icon-customize"></i></div>
            <div *ngIf="data.fromDate" [innerHTML]="data.fromDate | formatvalue : view?.formModel : 'fromDate' | async"></div>
            <div *ngIf="data.fromDate && data.toDate" class="mx-1">-</div>
            <div *ngIf="data.toDate" [innerHTML]="data.toDate | formatvalue : view?.formModel : 'toDate' | async"></div>
        </div>
        <div class="d-flex align-items-center justify-content-between w-100">
            <codx-vll [name]="'EP033'" [value]="data.status" [showText]="true" [showBgColor]="true" [classList]="'badge rounded-pill'"></codx-vll>
            <codx-imgs *ngIf="data.resourceIDs"
                [isToolTip]="true" 
                [objectId]="data.resourceIDs" 
                [objectType]="'AD_Users'" 
                [width]="30" 
                [numberImages]="3">
            </codx-imgs>
        </div>
    </div>
</ng-template>
<ng-template #detailTemplate>
    <ep-requests-view-detai #viewDetail *ngIf="dataSelected" [view]="view" [formModel]="view.formModel" [data]="dataSelected" [recID]="dataSelected.recID" [funcID]="view.funcID"></ep-requests-view-detai>
</ng-template>