<codx-form
  #form  
  [headerText]="headerText"
  [subHeaderText]="subHeaderText"
  [body]="body"
  [footer]="footer"
  [dialog]="dialog"
  [formModel]="formModel"
  [formControl]="dialogAddDriver"
  *ngIf="isAfterRender"
>
<ng-template #body>
  
  <div class="row">
    <div class="col-6 form-group">
      <codx-label
        fiedName="Category"
        [formModel]="dialog.formModel"
        default="Nguồn"
      >
      </codx-label>
      <codx-input
        type="valuelist"
        name="valuelist"
        ngDefaultControl
        [crrValue]="dialogAddDriver.value.category"
        refValue="VL005"
        field="ranking"
        (valueChange)="valueChange($event)"
      >
      </codx-input>
      <!-- <codx-input
        type="valuelist"
        refValue="VL005"
        ControlName="category"
        [formModel]="form.formModel"
        [Group]="dialogAddCar"
      >
      </codx-input> -->
    </div>
    <div class="col-6 form-group">
      <codx-label
        fiedName="CompanyID"
        [formModel]="dialog.formModel"
        default="Đơn vị"
      >
      </codx-label>
      <codx-input
        service="OD"
        refValue="AgencyNames"
        type="combobox"
        ControlName="companyID"
        [formModel]="form.formModel"
        [Group]="dialogAddDriver"
      >
      </codx-input>           
      <!-- <codx-input
        service="SYS"
        type="combobox"
        name="combobox"
        [crrValue]="dialogAddCar.value.companyID"
        ngDefaultControl
        refValue="Companies"
        [loadFull]="true"
        ControlName="companyID"
        [formModel]="form.formModel"
        [Group]="dialogAddCar"
        (valueChange)="valueChange($event)"
      >
      </codx-input>-->
    </div>
  </div>
  <div class="row">
    <div class="col-10 form-group">
      <codx-label
        fiedName="ResourceName"
        [formModel]="dialog.formModel"
        default="Tên lái xe"
      >
      </codx-label>
      <codx-input
        type="text"
        ControlName="resourceName"
        [formModel]="form.formModel"
        [Group]="dialogAddDriver"
        (valueChange)="valueChange($event)"
      >
      </codx-input>
    </div>
    
    <div class="col-1 form-group">
      <codx-label default="" [formModel]="dialog.formModel"> </codx-label>
      <button type="button" class="btn btn-primary">Icon</button>
    </div>
    <div>
      <!-- <div class="room-icon" >
        <codx-input
          type="vllicon"
          refValue="L1470"
          field="icon"
          class="btn btn-primary dropdown-toggle"
        >
        </codx-input>
        <select-icon (valueChange)="valueChangeIcon($event)" field="icon" [itemSelected]="icon">
                </select-icon>
      </div> -->
    </div>
  </div>

  <div class="row">
    <div class="col-8 form-group">
      <codx-label default="Xe" [formModel]="dialog.formModel" ></codx-label>
      <codx-input
          service="EP"
          type="combobox"
          refValue="EP_Cars"
          ControlName="linkID"
          [formModel]="form.formModel"
          [Group]="dialogAddDriver"
        >
        </codx-input>

    </div>
    <div class="col-3 form-group">
      <codx-label default="Biển số" fiedName="Code" [formModel]="dialog.formModel">
      </codx-label>
      <codx-input
        type="text"
        ControlName="code"
        [formModel]="form.formModel"
        [Group]="dialogAddDriver"
      >
      </codx-input>
    </div>
  </div>

  <div class="row">
    <div class="form-group">
      <codx-label default="Người điều phối" fiedName="Owner" [formModel]="dialog.formModel">
      </codx-label>
      <codx-input
          service="OD"
          type="combobox"
          refValue="BusinessUnits"
          ControlName="bUID"
          [formModel]="form.formModel"
          [Group]="dialogAddDriver"
        >
        </codx-input>    
    </div>
  </div>

  <div class="row">
    <div class="form-group">
      <codx-label default="Mô tả" fiedName="Note" [formModel]="dialog.formModel"></codx-label>
      <!-- <codx-input
        type="textarea"
        class="test-textarea"
        field="note"
        [crrValue]="dialogAddDriver.value.note"
        rows="3"
        ControlName="note"
        (valueChange)="valueChange($event)"
      >
      </codx-input> -->
      <codx-input      
        type="textarea"
        rows="3"
        ControlName="note"
        [formModel]="form.formModel"
        [Group]="dialogAddDriver"
      >
      </codx-input>
    </div>
  </div>
</ng-template>
</codx-form>


<ng-template #footer>
  <div class="d-flex justify-content-end">
    <button class="btn btn-light-primary" (click)="onSaveForm()">
      <codx-label
        name="lblSave"
        F
        default="Lưu"
        [formModel]="dialog.formModel"
      ></codx-label>
    </button>
  </div>
</ng-template>
