<codx-form
  #form  
  [headerText]="headerText"
  [subHeaderText]="subHeaderText"
  [body]="body"
  [footer]="footer"
  [dialog]="dialogRef"
  [formModel]="dialogRef.formModel"
  [formControl]="fGroupAddDriver"
  *ngIf="isAfterRender"
>
<ng-template #body>
  <div class="form-group">
    <codx-label
      fiedName="ResourceName"
      [formModel]="dialogRef.formModel"
      default="Tên lái xe"
    >
    </codx-label>
    <codx-input
      type="text"
      ControlName="resourceName"
      [formModel]="form.formModel"
      [Group]="fGroupAddDriver"
    >
    </codx-input>
  </div>

  <div class="row">
    <div class="col-4 form-group">
      <codx-label
        fiedName="Category"
        [formModel]="dialogRef.formModel"
        default="Nguồn"
      >
      </codx-label>      
      <codx-input
          ControlName="category"
          [formModel]="form.formModel"
          [Group]="fGroupAddDriver"
        >
        </codx-input>
    </div>
    <div class="col-8 form-group" >
      <codx-label
        fiedName="CompanyID"
        [formModel]="dialogRef.formModel"
        default="Đơn vị"
        >
      </codx-label>
      <codx-input
        [disabled]="fGroupAddDriver.value.category == 1 ? false :true"
        [Group]="fGroupAddDriver"
        ControlName="companyID"
        [formModel]="form.formModel"
      >
      </codx-input> 
    </div>
  </div>
    

  <div class="row">
    <div class="col-9 form-group">
      <codx-label default="Xe" [formModel]="dialogRef.formModel" ></codx-label>
      <codx-input
        ControlName="linkID"
        [formModel]="form.formModel"
        [Group]="fGroupAddDriver"
        (valueChange)="valueCbxCarChange($event)"
        >
      </codx-input>      
    </div>
    <div class="col-3 form-group">
      <codx-label default="Biển số" fiedName="Code" [formModel]="dialogRef.formModel">
      </codx-label>
      <codx-input
        ControlName="code"
        placeholder="Biển số"
        [formModel]="form.formModel"
        [Group]="fGroupAddDriver" 
      >
      </codx-input>
    </div>
  </div>

  <div class="row">
    <div class="form-group">
      <codx-label default="Người điều phối" fiedName="" [formModel]="dialogRef.formModel">
      </codx-label>

      <codx-input
        ControlName="owner"
        [Group]="fGroupAddDriver"
        [formModel]="form.formModel"
        (valueChange)="valueChange($event)"  
      >
      </codx-input>  
    </div>
  </div>

  <div class="row">
    <div class="form-group">
      <codx-label default="Mô tả" fiedName="Note" [formModel]="dialogRef.formModel"></codx-label>         
      <codx-input
        ControlName="note"
        [formModel]="form.formModel"
        [Group]="fGroupAddDriver" 
      >
      </codx-input>   
      <!-- <codx-input
        type="textarea" format="ed2" rows="3"
        field="note"
        placeholder="Ghi chú"
        [crrValue]="fGroupAddDriver.value.note"
        (valueChange)="valueChange($event)"
      >
      </codx-input> -->
    </div>
  </div>
  
  <div class="form-group upload-img">
    <codx-img #imageUpLoad [width]="100" [objectType]="formModel?.entityName" aria-disabled="false"
        [funcId]="formModel?.funcID" [isAllowEdit]="true" [objectId]="data?.recID">
    </codx-img>
  </div>
</ng-template>
</codx-form>


<ng-template #footer>
  <div class="d-flex justify-content-end">
    <button class="btn btn-light-primary" (click)="onSaveForm()">
      <codx-label
        name="lblSave"
        default="Lưu"
        [formModel]="dialogRef.formModel"
      ></codx-label>
    </button>
  </div>
</ng-template>
