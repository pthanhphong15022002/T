<codx-form
  headerText="Thêm mới xe"
  subHeaderText="Thêm mới xe"
  [body]="body"
  [footer]="footer"
  [dialog]="dialog"
>
</codx-form>
<ng-template #body>
  <div class="container">
    <div class="card card-custom cdx-add border-radius-0">
      <div class="card-body scroll-y my-7">
        <form [formGroup]="dialogCar" *ngIf="isAfterRender">
          <!-- <form> -->
          <div class="row mb-4">
            <div style="width: 88%">
              <codx-label
                class="fs-5 fw-bold"
                default="Tên xe"
                fiedName="ResourceName"
              >
              </codx-label>
              <div class="d-flex position-relative">
                <div class="w-100">
                  <codx-input
                    type="text"
                    class="form-control flex-grow-1 me-3 w-100"
                    ControlName="resourceName"
                    [Group]="dialogCar"
                    [crrValue]="dialogCar.value.resourceName"
                    (valueChange)="valueChange($event)"
                  >
                  </codx-input>
                </div>
                <div class="ml-2 room-icon" style="display: none">
                  <codx-input
                    type="vllicon"
                    refValue="L1470"
                    field="icon"
                    class="btn btn-primary dropdown-toggle"
                  >
                  </codx-input>
                  <!-- <select-icon (valueChange)="valueChangeIcon($event)" field="icon" [itemSelected]="icon">
                    </select-icon> -->
                </div>
              </div>
            </div>
            <div style="width: 12%; margin-top: 21px">
              <button type="button" class="btn btn-primary">Icon</button>
            </div>
          </div>

          <div class="row mb-4">
            <!--begin::Col-->
            <div class="col-3">
              <!--begin::Label-->
              <codx-label class="fw-bold" default="Biển số" fiedName="Code">
              </codx-label>
              <!--end::Label-->
              <!--begin::Input-->
              <codx-input
                type="text"
                class="form-control"
                placeholder=""
                ControlName="code"
                [Group]="dialogCar"
                [crrValue]="dialogCar.value.code"
                (valueChange)="valueChange($event)"
              >
              </codx-input>
            </div>

            <div class="col-3">
              <!--begin::Label-->
              <codx-label class="fw-bold" default="Số chỗ" fiedName="Capacity">
              </codx-label>
              <!--end::Label-->
              <!--begin::Input-->
              <codx-input
                type="number"
                class="form-control"
                placeholder=""
                value="0"
                [min]="0"
                field="capacity"
                [crrValue]="dialogCar.value.capacity"
                (valueChange)="valueChange($event)"
              >
              </codx-input>
            </div>
            <div class="col-6">
              <codx-label
                class="fw-bold"
                default="Phân loại"
                fiedName="Ranking"
              >
              </codx-label>
              <codx-input
                type="valuelist"
                name="valuelist"
                ngDefaultControl
                [crrValue]="dialogCar.value.ranking"
                refValue="EP005"
                field="ranking"
                (valueChange)="valueChange($event)"
              >
              </codx-input>
            </div>
          </div>
          <div class="row mb-4">
            <div class="col-8">
              <codx-label class="fw-bold" default="Nguồn" fiedName="Category">
              </codx-label>
              <codx-input
                type="valuelist"
                name="valuelist"
                ngDefaultControl
                [crrValue]="dialogCar.value.category"
                refValue="VL005"
                field="category"
                (valueChange)="valueChange($event)"
              >
              </codx-input>
              <!--end::Input-->
            </div>
            <!--end::Col-->
            <!--begin::Col-->
            <div class="col-4">
              <codx-label class="fw-bold" default="Đơn vị" fiedName="CompanyID">
              </codx-label>
              <codx-input
                service="EP"
                type="combobox"
                name="combobox"
                crrValue=""
                ngDefaultControl
                refValue="Companies"
                [loadFull]="true"
                field="companyID"
                (valueChange)="valueChange($event)"
              >
              </codx-input>
            </div>
            <!--end::Col-->
          </div>

          <!--end::Input group-->
          <!--begin::Input group-->
          <div class="row mb-4">
            <!--begin::Col-->
            <div class="w-100">
              <codx-label class="fw-bold" default="Tài xế" fiedName="LinkID">
              </codx-label>
              <!-- <codx-input
                service="EP"
                type="combobox"
                name="combobox"
                [crrValue]="dialogCar.value.linkID"
                ngDefaultControl
                refValue="EP_Rooms"
                [loadFull]="true"
                field="LinkID"
                (valueChange)="valueChange($event)"
              >
              </codx-input> -->
            </div>
          </div>
          <div class="row mb-4">
            <div class="col-12">
              <codx-label
                class="fw-bold"
                default="Người điều phối"
                fiedName="Owner"
              >
              </codx-label>
              <div class="position-relative">
                <codx-input
                  service="AD"
                  type="combobox"
                  name="combobox"
                  ngDefaultControl
                  [loadFull]="true"
                  [crrValue]="[dialogCar.value.owner]"
                  field="owner"
                  [refValue]="cacheGridViewSetup.Owner"
                  (valueChange)="valueCbxChange($event)"
                >
                </codx-input>
                <div
                  class="position-absolute translate-middle-y top-50 end-0 me-3"
                >
                  <span class="icon-person_pin_circle"> </span>
                </div>
              </div>
            </div>
          </div>
          <div class="row mb-4">
            <div class="col-12">
              <codx-label default="Mô tả" fiedName="Note"></codx-label>
              <!-- <codx-label default="Mô tả" class="fs-5 fw-bold mb-2"></codx-label> -->
              <codx-input
                type="textarea"
                class="test-textarea"
                field="note"
                [crrValue]="dialogCar.value.note"
                placeholder=""
                rows="3"
                ControlName="note"
                (valueChange)="valueChange($event)"
              >
              </codx-input>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #footer>
  <div class="d-flex justify-content-end">
    <button class="btn btn-light-primary" (click)="onSaveForm()">
      <codx-label
        name="lblSave"
        default="Lưu"
        [formModel]="dialog.formModel"
      ></codx-label>
    </button>
  </div>
</ng-template>
