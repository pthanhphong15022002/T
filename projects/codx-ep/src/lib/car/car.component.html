<codx-views #base funcID="EPT2" [showToolBar]="true" service="EP" assemblyName="EP" entityName="EP_Bookings" predicate="ResourceType=@0" dataValue="2" [views]="views" [button]="button"
(buttonClick)="click($event)" [moreFuncs]="moreFunc" idField="RecID" className="BookingsBusiness" method="GetEventsAsync" >
</codx-views>
<ng-template #panelLeftRef>

</ng-template>

<!-- <ng-template #template let-data>
  <div style="border-bottom: 1px solid">
    <div>{{data.resourceName}}</div>
  </div>
</ng-template> -->

<ng-template #carBookingDialog>
  <car-booking-editor #editor (closeEdit)="closeEditForm()" (onDone)="onDone($event)"></car-booking-editor>
</ng-template>

<!-- <ng-template #itemTemplate let-data> <app-list-tasks></app-list-tasks> </ng-template> -->

<ng-template #gridTemplateCar>
  <codx-gridview #gridView [columnsGrid]="columnsGrid" [allowSorting]="" [sortSettings]="" [allowGrouping]=""
    [groupSettings]="" [editSettings]="" [selectionOptions]="" [rowHeight]='40' [pageSize]="10" funcId="EPT11.1"
    assemblyName="EP" entityName="EP_Bookings" className="BookingsBusiness" method="GetEventsAsync"
    predicate="ResourceType=@0" dataValue="2" [pageSize]="15" height="500px" [showColumnMenu]='true' [filterSettings]=""
    [allowFiltering]="" [allowResizing]=""></codx-gridview>
</ng-template>

<ng-template #itemCreate let-data>
  {{data.bookingOn | fmDT:'dmy'}}
</ng-template>


<ng-template #GiftIDCell let-dataItem>

  <div class="d-flex align-items-center">
    <a class="action-item d-flex align-items-center" (click)="edit(dataItem)">
      <div class="d-flex align-items-center btn-tooltip">
        <span class="icon-edit icon-18 ml-2 mr-2"></span>
        <span class="tooltiptext">Edit</span>
      </div>
    </a>
    <a class="action-item d-flex align-items-center" (click)="deleteBooking(dataItem)">
      <div class="d-flex align-items-center btn-tooltip">
        <span class="icon-close icon-18 text-danger mx-2"></span>
        <span class="tooltiptext">Xóa</span>
      </div>
    </a>
  </div>
  <!-- <div class="div-action-menu">
    <div class="action-menu d-flex">
      <div class="action-content d-flex align-items-center">
        <div class="d-flex align-items-center">
          <a class="action-item d-flex align-items-center">
            <div class="d-flex align-items-center btn-tooltip" (click)="openForm(dataItem)">
              <span class="icon-edit icon-18 ml-2 mr-2"></span>
              <span class="tooltiptext">Edit</span>
            </div>
          </a>
          <a class="action-item d-flex align-items-center">
            <div class="d-flex align-items-center btn-tooltip" (click)="deleteResource(dataItem)">
              <span class="icon-close icon-18 text-danger mx-2"></span>
              <span class="tooltiptext">Xóa</span>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div> -->
</ng-template>

<ng-template #Devices let-dataItem>
  <div class="d-flex align-items-center fw-bold">
    <ng-container *ngFor="let item of getlstDevice(dataItem.equipments)">
      <span class="text-dark fs-5 icon-wifi me-3"><span class="fs-6 ms-1">{{getDeviceName(item)}}</span></span>
    </ng-container>
  </div>
</ng-template>



<ng-template #listDetails>
  2
</ng-template>

<ng-template #listTasks let-data>
  3
</ng-template>

<ng-template #scheduleTemplate let-data>
  <codx-schedule height="100%" #scheduleCar service="EP" assemblyName="EP" [templateResourceHeader]="resourceHeader"
    className="BookingsBusiness" method="GetEventsAsync" methodResource="GetResourceAsync"
    [cellFooterTemplate]="cellFooter" [fields]="fields" entityName="EP_Bookings"
    (onViewChange)="viewChange($event)" [resourceTooltipTemplate]="resourceTootip" (onAddNew)="addNew($event)"
    (onEdit)="edit($event)" (onDrag)="edit($event)" (onDelete)="deleteBooking($event)" [resourceField]="resourceField"
    [options]="model" [optionsResource]="model">
  </codx-schedule>
</ng-template>

<ng-template #dashboard let-data>
  <div class="w-100 ">
    <car-dashboard></car-dashboard>
  </div>

</ng-template>

<ng-template #date let-data>
  <div class="w-100">
    <car-dashboard></car-dashboard>
  </div>

</ng-template>

<ng-template #resourceTootip let-data>
  <div class='template-wrap'>
    <div class="res-text">Tên: {{data.resourceData.resourceName}} </div>
  </div>
</ng-template>
<ng-template #resourceHeader let-data>
  <div class="">
    <div class="type">{{ data.resourceData.resourceName }}</div>
  </div>
</ng-template>
<ng-template #cellFooter let-data>
  <div class="row border">


    <button ejs-button id="more-details" cssClass="e-flat" (click)="edit(data)">
      sửa
    </button>
    <button ejs-button id="delete" cssClass="e-flat" [isPrimary]="true" (click)="deleteBooking(data)">
      xóa
    </button>
  </div>
</ng-template>
