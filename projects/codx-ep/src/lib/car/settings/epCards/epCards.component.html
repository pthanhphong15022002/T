<codx-views #view [funcID]="funcID" [service]="service" [assemblyName]="assemblyName" [entityName]="entityName"
  [views]="views" [button]="buttons" [moreFuncs]="moreFuncs" [idField]="idField" [className]="className"
  [method]="method" (buttonClick)="click($event)" (onLoading)="onLoading($event)" [viewActiveType]="viewType.grid">
  <ng-template #avatarCol let-data>
    <codx-img [objectId]="data?.recID" [objectName]="data.resourceName" [funcId]="funcID" [objectType]="'EP_Resources'"
      imageType="circle" width="40" [imgOn]="data.modifiedOn"></codx-img>
  </ng-template>
  <ng-template #itemAction let-data>
    <codx-mfunc [formModel]="view.formModel" (clickMF)="clickMF($event, data)" [dataItem]="data">
    </codx-mfunc>
  </ng-template>
  <ng-template #statusCol let-data>
    <codx-vll [name]="'EP016'" [value]="data?.status" [showText]="true" [showBgColor]="true"
      class="badge badge-light badge-square badge-md fs-7 p-2">
    </codx-vll>

  </ng-template>
  <ng-template #noteCol let-data>
    <div class="d-flex align-items-center">
        <span  [innerHTML]="data?.note | formatvalue : formModel : 'Note' | async"></span>    
    </div>
  </ng-template>
  <ng-template #noteCol let-data>
    <div class="d-flex align-items-center">
        <span  [innerHTML]="data?.note | formatvalue : formModel : 'Note' | async"></span>    
    </div>
  </ng-template>
  <ng-template #resID let-data>
    <div class="d-flex align-items-center">
        <span  [innerHTML]="data?.resourceID| formatvalue : formModel : 'resourceID' | async"></span>    
    </div>
  </ng-template>
  <ng-template #resName let-data>
    <div class="d-flex align-items-center">
        <span  [innerHTML]="data?.resourceName| formatvalue : formModel : 'resourceName' | async"></span>    
    </div>
  </ng-template>
  <ng-template #ownerCol let-data>
    <div class="d-flex  align-items-center">
      <codx-img [width]="25" [objectId]="data?.owner" objectType="AD_Users"></codx-img>
      <div class="ms-2">
        <span class="fw-bold"[innerHTML]=" data?.owner | formatvalue : formModel : 'Owner' | async"></span>
      </div>
      </div>
  </ng-template>

</codx-views>
<ng-template #cardTranTmp let-dialog>
  <div class="mx-4 my-4">
    <div class="mx-4 pt-4 px-2">
      <div class="d-flex flex-column flex-grow-1">
        <div class="d-flex justify-content-between align-items-center">
          <h2 id="modal-basic-title">
            <codx-label name="lblCardTran" [default]="popupTitle"></codx-label>
          </h2>
          <button type="button" class="btn btn-xs btn-icon btn-light btn-hover-primary" aria-label="Close"
            (click)="dialog.close()">
            <span class="icon-close icon-20 text-dark text-hover-primary"></span>
          </button>
        </div>
      </div>
    </div>
    <div class="mx-4 pt-4 px-2">
      <div>
        <div class="form-group">
          <codx-label name="lblReceivePeople" [default]="curPopupGrv?.UserID?.headerText"></codx-label>
          <codx-input type="combobox" [refValue]="'Users'" [crrValue]="cardUserID"
            [placeholder]="curPopupGrv.UserID.headerText" (valueChange)="valueUserIDChange($event)">
          </codx-input>
        </div>
        <div class="form-group">
          <codx-label name="lblReceiveDate" [default]="curPopupGrv?.TransDate?.headerText"></codx-label>
          <codx-input type="datetime" format="d" class="form-control test-datetime" [crrValue]="cardDate"
            (valueChange)="valueDateChange($event)"></codx-input>
          <!-- <codx-input             
            ControlName="transDate"
            [Group]="curPopupFG"
            [formModel]="curPopupFM"
          ></codx-input> -->
        </div>
        <div class="form-group align-items-end">
          <codx-label name="lblNote" [default]="curPopupGrv?.Note?.headerText"></codx-label>
          <codx-input type="text" [crrValue]="cardNote" [placeholder]="curPopupGrv.Note.headerText"
            (valueChange)="valueNoteChange($event)">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="mx-4 pt-4 px-2">
      <div class="form-group d-flex justify-content-end flex-row">
        <button type="button" class="btn btn-primary" (click)="createCardTrans(currTrans)">
          <codx-label name="lblSave" default="LÆ°u"></codx-label>
        </button>
      </div>
    </div>
  </div>
</ng-template>