<codx-views #view [funcID]="funcID" [service]="service" [assemblyName]="assemblyName" [entityName]="entityName"
  [views]="views" [button]="buttons" (buttonClick)="click($event)" [idField]="idField" [className]="className"
  [method]="method" (onLoading)="onLoading($event)" [viewActiveType]="viewType.grid"></codx-views>

<ng-template #itemAction let-data>
  <codx-mfunc [formModel]="view.formModel" (clickMF)="clickMF($event, data)" [dataItem]="data">
  </codx-mfunc>
</ng-template>
<ng-template #resourceNameCol let-data>
  <div class="d-flex flex-row align-items-center">
    <codx-img #avatar [objectId]="data?.recID" [funcId]="funcID" [objectType]="'EP_Resources'" imageType="circle"
      width="50" [imgOn]="data.modifiedOn" [objectName]="data.resourceName"></codx-img>
    <div class="ms-4 d-flex flex-column">
      <span class="fw-bold" [innerHTML]="data?.resourceName | formatvalue : formModel : 'ResourceName' | async"></span>
      <div class="float-left fs-7">
        <codx-label [default]="'Xếp hạng'" [formModel]="formModel" name="lblRanking"></codx-label>
        <span>:</span>
        <span class="fw-bold ms-1"  [innerHTML]="data?.ranking | formatvalue : formModel : 'Ranking' | async"></span>
      </div>
      <div class="float-left fs-7">
        <codx-label [default]="'Diện tích(m2)'" name="lblArea" class="text-gray-600"></codx-label>
        <span>:</span>
        <span class="fw-bold ms-1" [innerHTML]="data?.area | formatvalue : formModel : 'Area' | async"></span>
      </div>
      <div class="float-left fs-7">
        <codx-label [default]="'Sức chứa(người)'" name="lblCapacity" class="text-gray-600"></codx-label>
        <span>:</span>
        <span class="fw-bold ms-1" [innerHTML]="data?.capacity | formatvalue : formModel : 'Capacity' | async"></span>
      </div>
    </div>
  </div>
</ng-template>
<ng-template #locationCol let-data>
  <div class="d-flex flex-column justify-content-start">
    <span [innerHTML]="data?.location | formatvalue : formModel : 'Location' | async"></span>
    <span class="text-truncate"  [innerHTML]="data?.companyID | formatvalue : formModel : 'CompanyID' | async"></span>
  </div>
</ng-template>
<ng-template #popupDevice let-dialog>
  <div class="modal-header">
    <div class="d-flex flex-column flex-grow-1">
      <div class="d-flex justify-content-between align-items-center">
        <h2 id="modal-basic-title">
          <codx-label default="Cài đặt thiết bị" name="lblEquipment" [default]="'Thiết bị'"
            [formModel]="dialog.formModel"></codx-label>
        </h2>
        <button type="button" class="btn btn-xs btn-icon btn-light btn-hover-primary" aria-label="Close"
          (click)="dialog.close()">
          <span class="icon-close icon-20 text-dark text-hover-primary"></span>
        </button>
      </div>
      <div class="text-dark-50">
        <codx-label name="lblChooseRoomEquipments" default="Chọn các thiết bị đã tích hợp sẵn trong phòng"
          [formModel]="dialog.formModel"></codx-label>
      </div>
    </div>
  </div>
  <div class="modal-body h-100 scroll-y" *ngIf="roomEquipments != null && roomEquipments?.length > 0">
    <div class="mb-1" *ngFor="let item of roomEquipments">
      <div class="d-flex flex-stack py-1 px-2 border-bottom">
        <div class="d-flex">
          <span class="text-dark me-2" [className]="item.icon"
            [ngClass]="[item.isSelected ? 'text-primary' : 'text-muted']">
          </span>
          <div class="d-flex flex-column justify-content-center">
            <span href="#" class="text-dark fw-bold">{{ item.text }}</span>
          </div>
        </div>
        <div class="d-flex justify-content-end">
          <div class="form-check form-check-solid form-switch mt-2">
            <codx-input class="form-check-input w-35px h-20px" type="switch" id="googleswitch"
              [checked]="item?.isSelected" [disabled]="true"></codx-input>
            <label class="form-check-label" for="googleswitch"></label>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
<ng-template #equipmentsCol let-data>
  <div (click)="openPopupDevice(popupDevice, data?.equipments)"
    class="d-flex align-items-center cursor-pointer text-hover-primary">
    <i class="icon-devices me-2"></i>
    <span class="fw-bold me-1">{{ data?.equipmentQty }}</span>
    <codx-label [default]="'Thiết bị'" class="fs-7" name="lblDevice"></codx-label>
  </div>
</ng-template>
<ng-template #ownerCol let-data>
  <div class="d-flex align-items-center">
    <codx-img [width]="25" [objectId]="data?.owner" objectType="AD_Users"></codx-img>
    <div class="ms-2">
      <span class="fw-bold" [innerHTML]="data?.owner | formatvalue : formModel : 'Owner' | async"></span>
    </div>
  </div>
</ng-template>

<ng-template #preparatorCol let-data>
  <div class="d-flex  align-items-center">
    <codx-img [width]="25" [objectId]="data?.preparator" ObjectType="AD_Users"></codx-img>
    <div class="ms-2">
      <span  [innerHTML]="data?.preparator | formatvalue : formModel : 'Preparator' | async"></span>
    </div>
  </div>
</ng-template>