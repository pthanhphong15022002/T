<codx-detail-tmp
  #itemDetailTemplate
  [formModel]="formModel"
  [dataItem]="itemDetail"
  [header]="header"
  [body]="body"
  [footer]="!hideFooter ? footer : null"
  [hideMF]="hideMF"
  (clickMF)="openFormFuncID($event)"
  (changeDataMF)="changeDataMF($event, itemDetail)"
>
  <ng-template #header>
    <div class="d-flex flex-column flex-grow-1 mb-2">
      <codx-temp-full
        [title]="itemDetail?.userName"
        [subTitle]="itemDetail?.positionID"
        [imageId]="itemDetail?.userID"
        imageObjType="AD_Users"
        [imageWidth]="40"
      >
      </codx-temp-full>
    </div>

    <div class="d-flex flex-grow-1 mb-2">
      <div class="me-4 icon-apartment"></div>
      <div class="d-flex flex-column flex-grow-1">
        <div class="text-dark fw-bold fs-6">
          <codx-label
            field="OrgUnitID"
            [formModel]="formModel"
            default="Đơn vị/ bộ phận "
            class="fw-bold me-1"
            style="font-weight: bold"
          ></codx-label>
          : {{ itemDetail?.ownerOrgUnit }}
        </div>
      </div>
    </div>

    <div class="d-flex mt-1 flex-grow-1 mb-2">
      <div class="d-flex me-6">
        <codx-label
          field="CreatedOn"
          [formModel]="formModel"
          default="Ngày gởi"
          class="fw-bold me-1"
        >
        </codx-label>
        <span class="text-gray-600">
          :
          {{
            itemDetail
              ? (itemDetail?.createdOn | date: "dd/MM/yyyy")
              : "dd/MM/yyyy"
          }}
        </span>
      </div>
      <div class="d-flex me-6">
        <codx-label
          field="ExpiredOn"
          [formModel]="formModel"
          default="Ngày yêu cầu"
          class="fw-bold me-1"
        ></codx-label>
        <span class="text-gray-600">
          :
          {{
            itemDetail?.bookingOn
              ? (itemDetail?.bookingOn | date: "dd/MM/yyyy")
              : "dd/MM/yyyy"
          }}
        </span>
      </div>
    </div>
    <div class="d-flex mb-2">
      <div class="d-flex text-dark me-6">
        <codx-label
          fiedName="ReasonID"
          [formModel]="formModel"
          default="Lý do"
          class="fw-bold me-1"
        >
        </codx-label>
        <span class="text-gray-600">
          :
          {{ itemDetail?.reasonID }}
        </span>
      </div>
    </div>
    <div class="codx_e-header mb-2" [class.active]="true">
      <div class="d-flex align-items-center btn-tabs">
        <button
          class="btn btn-white text-dark me-1"
          [class.active]="itemDetailStt == '1'"
          (click)="clickChangeItemViewStatus('1', itemDetail?.recID)"
        >
          <i class="icon-info icon-16"></i>
          <codx-label
            name="lblAbstract"
            [formModel]="itemDetailTemplate.formModel"
            default="Chi tiết"
            class="ms-1 fw-bold"
          ></codx-label>
        </button>
        <button
          class="btn btn-white text-dark me-1"
          [class.active]="itemDetailStt == '2'"
          (click)="clickChangeItemViewStatus('2', itemDetail?.recID)"
        >
          <i class="icon-format_list_numbered icon-16"></i>
          <codx-label
            name="lblBusiness"
            [formModel]="itemDetailTemplate.formModel"
            default="Công việc"
            class="ms-1 fw-bold"
          ></codx-label>
        </button>
        <button
          class="btn btn-white text-dark me-1"
          [class.active]="itemDetailStt == '3'"
          (click)="clickChangeItemViewStatus('3', itemDetail?.recID)"
        >
          <i class="icon-people_alt icon-16"></i>
          <codx-label
            name="lblApprovalTrans"
            [formModel]="itemDetailTemplate.formModel"
            default="Nơi nhận"
            class="ms-1 fw-bold"
          ></codx-label>
        </button>
      </div>
    </div>
  </ng-template>

  <ng-template #body>
    <div class="container mb-2">
      <div class="summary mt-2" *ngIf="itemDetailStt == '1'">
        {{ itemDetail?.abstract }}
      </div>
      <div class="list_Of_Jobs mb-2" *ngIf="itemDetailStt == '2'"></div>
      <div *ngIf="itemDetailStt == '3'" class="mb-2"></div>
    </div>
  </ng-template>

  <ng-template #footer>
    <div class="codx_e-header">
      <div class="d-flex align-items-center btn-tabs">
        <button
          class="btn btn-white text-dark me-1"
          [class.active]="itemDetailDataStt == '1'"
          (click)="clickChangeItemDetailDataStatus('1')"
        >
          <span class="ms-2 fw-bold">Lịch sử</span>
        </button>
        <button
          class="btn btn-white text-dark me-1"
          [class.active]="itemDetailDataStt == '3'"
          (click)="clickChangeItemDetailDataStatus('3')"
        >
          <codx-label
            name="lblAttachment"
            [formModel]="itemDetailTemplate.formModel"
            default="Đính kèm"
            class="ms-2 fw-bold"
          ></codx-label>
        </button>
        <button
          class="btn btn-white text-dark me-1"
          [class.active]="itemDetailDataStt == '2'"
          (click)="clickChangeItemDetailDataStatus('2')"
        >
          <codx-label
            name="lblDiscussion"
            [formModel]="itemDetailTemplate.formModel"
            default="Bình luận"
            class="ms-2 fw-bold"
          ></codx-label>
        </button>
        <button
          class="btn btn-white text-dark me-1"
          [class.active]="itemDetailDataStt == '4'"
          (click)="clickChangeItemDetailDataStatus('4')"
        >
          <codx-label
            name="lblLink"
            [formModel]="itemDetailTemplate.formModel"
            default="Tham chiếu"
            class="ms-2 fw-bold"
          >
          </codx-label>
        </button>
      </div>
    </div>
  </ng-template>
</codx-detail-tmp>
