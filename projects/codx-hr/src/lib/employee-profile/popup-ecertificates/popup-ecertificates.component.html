<layout-list-detail
  #lstDetail
  [title]="headerText"
  [formModel]="formModel"
  [footer]="footer"
  [dialog]="dialog"
  [data]="certificateObj"
  [leftTemlate]="LeftTemlate"
  [RightTemlate]="body"
  *ngIf="isAfterRender"
>
  <ng-template #body>
    <div class="form-group row">
      <codx-label
        fiedName="CertificateType"
        [formModel]="formModel"
      ></codx-label>
      <codx-input
        field="certificateType"
        [formModel]="formModel"
        [Group]="formGroup"
        (valueChange)="valueChange($event, certificateID)"
      ></codx-input>
    </div>

    <div class="form-group row">
      <div class="col-6">
        <codx-label
          fiedName="CertificateID"
          [formModel]="formModel"
        ></codx-label>
        <codx-input
          #certificateID
          field="certificateID"
          [formModel]="formModel"
          [Group]="formGroup"
          (valueChange)="valueChange($event)"
        ></codx-input>
      </div>
      <div class="col-6">
        <codx-label
          fiedName="CertificateGradeID"
          [formModel]="formModel"
        ></codx-label>
        <codx-input
          field="certificateGradeID"
          [formModel]="formModel"
          [Group]="formGroup"
          (valueChange)="valueChange($event)"
        ></codx-input>
      </div>
    </div>

    <div class="form-group row">
      <codx-label
        fiedName="TrainSupplierID"
        [formModel]="formModel"
      ></codx-label>
      <codx-input
        field="trainSupplierID"
        [formModel]="formModel"
        [Group]="formGroup"
      ></codx-input>
    </div>

    <div class="form-group row">
      <div class="col-6">
        <codx-label
          fiedName="TrainCourseID"
          [formModel]="formModel"
        ></codx-label>
        <codx-input
          field="trainCourseID"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
      <div class="col-6">
        <codx-label fiedName="TrainForm" [formModel]="formModel"></codx-label>
        <codx-input
          field="trainForm"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-6">
        <codx-label fiedName="TrainFrom" [formModel]="formModel"></codx-label>
        <codx-input
          field="trainFrom"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
      <div class="col-6">
        <codx-label fiedName="TrainTo" [formModel]="formModel"></codx-label>
        <codx-input
          field="trainTo"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-6">
        <codx-label fiedName="TotalScore" [formModel]="formModel"></codx-label>
        <codx-input
          field="totalScore"
          [formModel]="formModel"
          [Group]="formGroup"
          [showSpinButton]="false"
        ></codx-input>
      </div>
      <div class="col-6">
        <codx-label fiedName="Ranking" [formModel]="formModel"></codx-label>
        <codx-input
          field="ranking"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
    </div>
    <div class="fs-6 fw-bold text-uppercase text-primary form-group mt-4">
      <codx-label
        name="lblTitleLanguage"
        [formModel]="formModel"
        default="Ngoại ngữ"
      >
      </codx-label>
    </div>

    <div class="form-group row">
      <div class="col-6">
        <codx-label
          fiedName="ScoreListening"
          [formModel]="formModel"
        ></codx-label>
        <codx-input
          field="scoreListening"
          [formModel]="formModel"
          [Group]="formGroup"
          [showSpinButton]="false"
        ></codx-input>
      </div>
      <div class="col-6">
        <codx-label
          fiedName="ScoreSpeaking"
          [formModel]="formModel"
        ></codx-label>
        <codx-input
          field="scoreSpeaking"
          [formModel]="formModel"
          [Group]="formGroup"
          [showSpinButton]="false"
        ></codx-input>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-6">
        <codx-label
          fiedName="ScoreReading"
          [formModel]="formModel"
        ></codx-label>
        <codx-input
          field="scoreReading"
          [formModel]="formModel"
          [Group]="formGroup"
          [showSpinButton]="false"
        ></codx-input>
      </div>
      <div class="col-6">
        <codx-label
          fiedName="ScoreWriting"
          [formModel]="formModel"
        ></codx-label>
        <codx-input
          field="scoreWriting"
          [formModel]="formModel"
          [Group]="formGroup"
          [showSpinButton]="false"
        ></codx-input>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-6">
        <codx-label fiedName="DecisionNo" [formModel]="formModel"></codx-label>
        <codx-input
          field="decisionNo"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
      <div class="col-6">
        <codx-label fiedName="IssuedDate" [formModel]="formModel"></codx-label>
        <codx-input
          field="issuedDate"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-6">
        <codx-label
          fiedName="CertificateNo"
          [formModel]="formModel"
        ></codx-label>
        <codx-input
          field="certificateNo"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
      <div class="col-6">
        <codx-label fiedName="BookNo" [formModel]="formModel"></codx-label>
        <codx-input
          field="bookNo"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
    </div>

    <div class="form-group row">
      <div class="d-flex flex-stack">
        <codx-label fiedName="IssuedPlace" [formModel]="formModel"></codx-label>

        <span class="text-end align-items-end mb-1">
          <a
            class="btn btn-sm border border-gray-300 btn-active-light-primary align-items-center d-flex flex-row text-italic"
            (click)="setIssuedPlace()"
          >
            <span class="icon-south text-danger btn-text-primary me-2"></span>
            <codx-label
              name="lblSetIssuedPlace"
              default="(=Nơi đào tạo)"
              [formModel]="formModel"
            ></codx-label>
          </a>
        </span>
      </div>
      <codx-input
        field="issuedPlace"
        [formModel]="formModel"
        [Group]="formGroup"
      ></codx-input>
    </div>

    <div class="form-group row">
      <codx-label fiedName="IssuedBy" [formModel]="formModel"></codx-label>
      <codx-input
        field="issuedBy"
        [formModel]="formModel"
        [Group]="formGroup"
      ></codx-input>
    </div>

    <div class="form-group row">
      <div class="col-6">
        <codx-label fiedName="LimitMonths" [formModel]="formModel"></codx-label>
        <codx-input
          field="limitMonths"
          [formModel]="formModel"
          [Group]="formGroup"
          [showSpinButton]="false"
        ></codx-input>
      </div>
      <div class="col-6">
        <codx-label fiedName="IsExpire" [formModel]="formModel"></codx-label>
        <codx-input
          field="isExpire"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-6">
        <codx-label
          fiedName="EffectedDate"
          [formModel]="formModel"
        ></codx-label>
        <codx-input
          field="effectedDate"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
      <div class="col-6">
        <codx-label fiedName="ExpiredDate" [formModel]="formModel"></codx-label>
        <codx-input
          field="expiredDate"
          [formModel]="formModel"
          [Group]="formGroup"
        ></codx-input>
      </div>
    </div>

    <div class="form-group row">
      <codx-label fiedName="Note" [formModel]="formModel"></codx-label>
      <codx-input
        field="note"
        [formModel]="formModel"
        [Group]="formGroup"
      ></codx-input>
    </div>
  </ng-template>

  <ng-template #footer>
    <div class="d-flex justify-content-end">
      <button class="btn btn-primary" (click)="onSaveForm()">
        <i class="icon-save"></i>
        <codx-label
          default="Lưu"
          name="lblSave"
          [formModel]="formModel"
        ></codx-label>
      </button>
    </div>
  </ng-template>
</layout-list-detail>

<ng-template #LeftTemlate>
  <codx-listview
    #listView
    [type]="'cardView'"
    [service]="'HR'"
    [assemblyName]="'HR'"
    [entityName]="'HR_ECertificates'"
    [className]="'ECertificatesBusiness'"
    [method]="'GetListCertificatesByDataRequestAsync'"
    [predicate]="'EmployeeID=@0'"
    [dataValue]="employId"
    [itemTemplate]="itemTemplate"
    (afterRender)="afterRenderListView($event)"
    [selectFirst]="true"
  ></codx-listview>
</ng-template>

<ng-template #itemTemplate let-data>
  <codx-temp-full
    [formModel]="formModel"
    [typeMF]="'hover'"
    [titleTmp]="tmplateECertificateTitle"
    [icoTitleCss]="'icon-list_alt'"
    [subTitleTmp]="tmplateECertificateMenuList"
    cardCss="card codx_cardcenter px-2 pt-4 pb-2"
    [hideMF]="true"
    typeMF="hover"
    [dataItem]="data"
    (click)="click(data)"
  ></codx-temp-full>
</ng-template>

<ng-template #tmplateECertificateTitle let-data>
  <div class="d-flex align-items-center pb-2">
    <i class="icon-i-arrow-down-left-circle-fill icon-14 ps-1 pe-1"></i>
    {{ data.certificateID }}
    <i class="icon-i-arrow-down-left-circle-fill icon_style ps-1"></i
    >{{ data.certificateGradeID }}
  </div>
</ng-template>

<ng-template #tmplateECertificateMenuList let-data>
  <div class="d-flex flex-column">
    <div class="d-flex align-items-center pb-2">
      <i class="icon-event pe-1"></i>{{ data.issuedDate | fmDT }}
      <i class="icon-i-arrow-down-left-circle-fill icon_style ps-1 pe-1"></i
      >{{ data.trainSupplierID }}
    </div>
    <div class="d-flex align-items-center">
      <i class="icon-category pe-1 text-primary"></i
      >{{ data.certificateType }} | <i class=""></i>{{ data.ranking
      }}<i class="icon-i-arrow-down-left-circle-fill icon_style ps-1 pe-1"></i
      >{{ data.totalScore }}
    </div>
  </div>
</ng-template>

<!-- <ng-template #footer>
    <div class="d-flex justify-content-end">
        <button class="btn btn-primary" (click)="onSaveForm()">
            <i class="icon-save"></i>
        <codx-label default="Lưu" name="lblSave" [formModel]="formModel"></codx-label>
        </button>
    </div>
</ng-template>

<codx-form
    #form
    [headerText] = "headerText"
    [body]="body"
    [formModel]="formModel"
    [footer]="footer"
    [dialog]="dialog"
    [data]="certificateObj"
    *ngIf="isAfterRender"
>
    <ng-template #body>
        <div class="form-group row">
            <codx-label
                fiedName="CertificateType"
            ></codx-label>
            <codx-input
                field="certificateType"
                [formModel]="formModel"
                [Group]="formGroup"
            ></codx-input>
        </div>

        <div class="form-group row">
            <div class="col-6">
                <codx-label
                    fiedName="CertificateID"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="certificateID"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
            <div class="col-6">
                <codx-label
                    fiedName="CertificateGradeID"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="certificateGradeID"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
        </div>

        <div class="form-group row">
            <codx-label
                fiedName="TrainSupplierID"
            ></codx-label>
            <codx-input
                field="trainSupplierID"
                [formModel]="formModel"
                [Group]="formGroup"
            ></codx-input>
        </div>

        <div class="form-group row">
            <div class="col-6">
                <codx-label
                    fiedName="TrainCourseID"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="trainCourseID"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
            <div class="col-6">
                <codx-label
                    fiedName="TrainForm"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="trainForm"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-6">
                <codx-label
                    fiedName="TrainFrom"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="trainFrom"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
            <div class="col-6">
                <codx-label
                    fiedName="TrainTo"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="trainTo"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-6">
                <codx-label
                    fiedName="TotalScore"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="totalScore"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
            <div class="col-6">
                <codx-label
                    fiedName="Ranking"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="ranking"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-6">
                <codx-label
                    fiedName="ScoreListening"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="scoreListening"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
            <div class="col-6">
                <codx-label
                    fiedName="ScoreSpeaking"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="scoreSpeaking"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-6">
                <codx-label
                    fiedName="ScoreReading"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="scoreReading"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
            <div class="col-6">
                <codx-label
                    fiedName="ScoreWriting"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="scoreWriting"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-6">
                <codx-label
                    fiedName="DecisionNo"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="decisionNo"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
            <div class="col-6">
                <codx-label
                    fiedName="IssuedDate"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="issuedDate"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-6">
                <codx-label
                    fiedName="degreeNo"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="degreeNo"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
            <div class="col-6">
                <codx-label
                    fiedName="BookNo"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="bookNo"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
        </div>

        <div class="form-group row">
            <codx-label
                fiedName="IssuedPlace"
            ></codx-label>
            <codx-input
                field="issuedPlace"
                [formModel]="formModel"
                [Group]="formGroup"
            ></codx-input>
        </div>

        <div class="form-group row">
            <codx-label
                fiedName="IssuedBy"
            ></codx-label>
            <codx-input
                field="issuedBy"
                [formModel]="formModel"
                [Group]="formGroup"
            ></codx-input>
        </div>

        <div class="form-group row">
            <div class="col-6">
                <codx-label
                    fiedName="LimitMonths"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="limitMonths"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
            <div class="col-6">
                <codx-label
                    fiedName="IsExpire"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="isExpire"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-6">
                <codx-label
                    fiedName="EffectedDate"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="effectedDate"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
            <div class="col-6">
                <codx-label
                    fiedName="ExpiredDate"
                    [formModel]="formModel"
                ></codx-label>
                <codx-input
                    field="expiredDate"
                    [formModel]="formModel"
                    [Group]="formGroup"
                ></codx-input>
            </div>
        </div>

        <div class="form-group row">
            <codx-label
                fiedName="Note"
            ></codx-label>
            <codx-input
                field="note"
                [formModel]="formModel"
                [Group]="formGroup"
            ></codx-input>
        </div>
    </ng-template>
</codx-form> -->
