<codx-views
  #view
  [autoLoad]="true"
  entityName="HR_OrganizationUnits"
  idField="orgUnitID"
  [views]="views"
  [selectedFirst]="true"
  (selectedChange)="onSelectionChanged($event)"
  [button]="button"
  (viewChanged)="changeView($event)"
></codx-views>
<ng-template #templateDetail>
  <ng-container *ngIf="orgUnitID">
    <lib-organize-detail [orgUnitID]="orgUnitID"></lib-organize-detail>
  </ng-container>
  <ng-template #nodeTemplate let-data>
    <div
      class="department-card border border-gray-300 w-250px position-relative"
    >
      <div
        class="d-flex align-items-center p-3 w-100"
        style="background-color: #03a9f4"
      >
        <i class="fas fa-building text-white me-2"></i>
        <div class="d-flex flex-grow-1 text-white fs-5">Ban Giám Đốc</div>
      </div>
      <div class="p-3 department-card-main mb-3">
        <div class="d-flex flex-column flex-grow-1 align-items-center">
          <div class="symbol symbol-60 symbol-circle mt-1">S</div>
          <h5 class="text-dark mt-4" style="opacity: 0.3">Tên nhân viên</h5>
          <div class="text-gray-600" style="opacity: 0.3">Chức vụ</div>
          <div class="d-flex align-items-center mt-2">
            <div
              class="btn btn-sm btn-light-primary me-3 counter"
              style="cursor: pointer"
              data-toggle="tooltip"
              title="Định biên"
              data-status=""
              data-orgid="BGĐ"
              data-headcounts="35"
            >
              <i class="icon-account_tree icon-16 me-1"></i>
              <span class="font-weight-bold text-primary">35</span>
            </div>
            <div
              class="btn btn-sm btn-light-primary counter"
              style="cursor: pointer"
              data-toggle="tooltip"
              title="Chính thức"
              data-status=""
              data-orgid="BGĐ"
            >
              <i class="icon-perm_contact_calendar icon-16 me-1"></i>
              <span class="font-weight-bold text-primary">26</span>
            </div>
          </div>
        </div>
        <div class="d-flex justify-content-between mt-6 px-3">
          <div
            class="d-flex flex-column align-items-center counter"
            data-status="50"
            data-orgid="BGĐ"
          >
            <h3 class="text-primary">15</h3>
            <span class="text-dark-75 mt-1">Chính thức</span>
          </div>
          <div
            class="d-flex flex-column align-items-center counter"
            data-status="30"
            data-orgid="BGĐ"
          >
            <h3 class="text-success">11</h3>
            <span class="text-dark-75 mt-1">Onboard</span>
          </div>
          <div
            class="d-flex flex-column align-items-center counter"
            data-status="70"
            data-orgid="BGĐ"
          >
            <h3 class="text-danger">0</h3>
            <span class="text-dark-75 mt-1">Offboard</span>
          </div>
        </div>
      </div>
      <div
        class="department-card-info ec"
        style="
          position: absolute;
          left: 50%;
          bottom: -14px;
          margin-left: -8px;
          background-color: white;
        "
      >
        <span class="icon-20 icon-do_disturb_on"></span>
      </div>
    </div>
  </ng-template>
</ng-template>
<ng-template #templateTree let-data>
  <span>{{ data.orgUnitName }}</span>
</ng-template>
