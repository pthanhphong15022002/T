<div class="p-2 h-100" >
  <!-- master -->
  <div class="d-flex w-100">
      <div class="me-4">
          <codx-img 
              [objectId]="employeeManager?.employeeID" 
              [objectName]="employeeManager?.employeeName"
              [objectType]="'HR_Employees'"
              [width]="90"
              [imageType]="'circle'">
          </codx-img>
      </div>
      <div class="d-flex align-items-center justify-content-between w-100 p-2">
          <div>
            <div>
              <ng-container *ngIf="employeeManager?.employeeName ; else lblEmployeeName">
                <span class="fw-bolder">{{employeeManager.employeeName}}</span>
              </ng-container>  
              <ng-template #lblEmployeeName>
                <codx-label  [className]="'fw-bolder'" [formModel]="formModel" name="lblEmployeeName" default="Tên nhân viên"></codx-label>
              </ng-template>
            </div>
            <div>
              <ng-container *ngIf="employeeManager?.positionName ; else lblPositionName">
                <span class="text-dark-400">{{employeeManager.positionName}}</span>
              </ng-container>
              <ng-template #lblPositionName>
                <codx-label [className]="'text-dark-400'" [formModel]="formModel" name="lblPositionName" default="Chức vụ"></codx-label>
              </ng-template>
              <span class="ms-2 me-2">|</span>
              <ng-container *ngIf="employeeManager?.orgUnitName ; else lblOrgUnitName">
                  <span class="text-dark-400">{{employeeManager.orgUnitName}}</span>
                </ng-container>
                <ng-template #lblOrgUnitName>
                  <codx-label [className]="'text-dark-400'" [formModel]="formModel" name="lblOrgUnitName" default="Phòng ban"></codx-label>
                </ng-template>
            </div>
            <div class="d-flex align-items-center justify-content-between">
              <ng-container *ngIf="employeeManager?.phone ; else lblPhone">
                <span class="text-dark-400">{{employeeManager?.phone}}</span>
              </ng-container>
              <ng-template #lblPhone>
                <codx-label [className]="'text-dark-400'" [formModel]="formModel" name="lblEmployeePhone" default="SĐT"></codx-label>
              </ng-template>
              <ng-container *ngIf="employeeManager?.email ; else lblEmail">
                <span class="text-dark-400">{{employeeManager.email}}</span>
              </ng-container>
              <ng-template #lblEmail>
                <codx-label [className]="'text-dark-400'" [formModel]="formModel" name="lblEmail" default="Email"></codx-label>
              </ng-template>
            </div>
          </div>
          <div>
            <p>{{grid.dataService.rowCount}}</p>
            <codx-label [formModel]="formModel" name="lblTotalEmployee" default="Tổng số nhân viên"></codx-label>
          </div>
      </div>
  </div>
  <!-- grid -->
  <div class="p-2 h-100 w-100">
    <codx-gridview
      #grid
      idField="EmployeeID"
      [funcId]="formModel.funcID"
      [formModel]="formModel"
      service="HR" 
      assemblyName="ERM.Business.HR"
      className="OrganizationUnitsBusiness"
      method="GetEmployeesMasterDetailAsync"
      rowHeight="40"
      [columnsGrid]="columnsGrid"
      [rowTmp]="itemTemplate">
    </codx-gridview>
  </div>
</div>
<ng-template #itemTemplate let-item>
  <tr>
    <!-- Họ và tên -->
    <td>
      <div>
        <codx-img 
          [objectId]="item.employeeID" 
          [objectName]="item.objectName" 
          [objectType]="'HR_Employees'" 
          [width]="30"
          [imageType]="'circle'">
        </codx-img>
      </div>
      <div>
        <p class="m-0 fw-bolder" *ngIf="item.employeeName">{{item.employeeName}}</p>
        <p class="m-0 text-dark-500" *ngIf="item.positionName">{{item.positionName}}</p>
      </div>
    </td>  
    <!-- Ngày sinh -->
    <td>
      <p class="m-0" *ngIf="item.birthday">{{item.birthday}}</p>
    </td>
    <!-- Phone -->
    <td>
      <p class="m-0" *ngIf="item.phone">{{item.phone}}</p>
    </td>
    <!-- Email -->
    <td>
      <p class="m-0" *ngIf="item.email">{{item.email}}</p>
    </td>
    <!-- Ngày vào làm -->
    <td>
      <p class="m-0" *ngIf="item.joinedOn">{{item.joinedOn}}</p>
    </td>
    <!-- Trạng thái -->
    <td>
      <ng-container *ngIf="item.status">
        <codx-vll [formModel]="formModel" [name]="'L0025'" [value]="item.status" [showText]="true" [showBgColor]="true"></codx-vll>
      </ng-container>
    </td>
    <td>
      <codx-mfunc
        [formModel]="formModel"
        (clickMF)="clickMF($event,item)"
        [isBookMark]="false"
        [dataItem]="item"
        type="hover">
      </codx-mfunc>
    </td>
    <!-- Sở thích -->
    <!-- <div class="col-1">
      <ng-container *ngIf="item.status">
        <codx-vll [name]="'L0025'" [value]="item.status" [showText]="true" [showBgColor]="true"></codx-vll>
      </ng-container>
    </div> -->
  </tr>
</ng-template>
