<div class="p-2 h-100">
  <!-- master -->
  <div class="d-flex w-100" id="master">
      <div class="me-4">
          <codx-img 
              [objectId]="employeeManager?.employeeID" 
              [objectName]="employeeManager?.employeeName"
              [objectType]="'HR_Employees'"
              [width]="90"
              [imageType]="'circle'">
          </codx-img>
      </div>
      <div class="d-flex align-items-center justify-content-between w-100 p-2">
          <div>
            <div>
              <ng-container *ngIf="employeeManager?.employeeName ; else lblEmployeeName">
                <span class="fw-bolder">{{employeeManager.employeeName}}</span>
              </ng-container>  
              <ng-template #lblEmployeeName>
                <codx-label  [className]="'fw-bolder'" [formModel]="formModel" name="lblEmployeeName" default="Tên nhân viên"></codx-label>
              </ng-template>
            </div>
            <div>
              <ng-container *ngIf="employeeManager?.positionName ; else lblPositionName">
                <span class="text-dark-400">{{employeeManager.positionName}}</span>
              </ng-container>
              <ng-template #lblPositionName>
                <codx-label [className]="'text-dark-400'" [formModel]="formModel" name="lblPositionName" default="Chức vụ"></codx-label>
              </ng-template>
              <span class="ms-2 me-2">|</span>
              <ng-container *ngIf="employeeManager?.orgUnitName ; else lblOrgUnitName">
                  <span class="text-dark-400">{{employeeManager.orgUnitName}}</span>
                </ng-container>
                <ng-template #lblOrgUnitName>
                  <codx-label [className]="'text-dark-400'" [formModel]="formModel" name="lblOrgUnitName" default="Phòng ban"></codx-label>
                </ng-template>
            </div>
            <div class="d-flex align-items-center justify-content-between">
              <ng-container *ngIf="employeeManager?.phone ; else lblPhone">
                <span class="text-dark-400">{{employeeManager?.phone}}</span>
              </ng-container>
              <ng-template #lblPhone>
                <codx-label [className]="'text-dark-400'" [formModel]="formModel" name="lblEmployeePhone" default="SĐT"></codx-label>
              </ng-template>
              <ng-container *ngIf="employeeManager?.email ; else lblEmail">
                <span class="text-dark-400">{{employeeManager.email}}</span>
              </ng-container>
              <ng-template #lblEmail>
                <codx-label [className]="'text-dark-400'" [formModel]="formModel" name="lblEmail" default="Email"></codx-label>
              </ng-template>
            </div>
          </div>
          <div>
            <p>{{grid.dataService.rowCount}}</p>
            <codx-label [formModel]="formModel" name="lblTotalEmployee" default="Tổng số nhân viên"></codx-label>
          </div>
      </div>
  </div>
  <!-- grid -->
    <div id="detail" class="h-100" data-kt-scroll="true" data-kt-scroll-activate="true" data-kt-scroll-height="auto"
    data-kt-scroll-dependencies="#master, .pw-profile, .pw-menu"
    data-kt-scroll-wrappers=".wrapper-portal, .wrapper, #detail, .pw-content" data-kt-scroll-offset="0">
    <codx-gridview
      #grid
      [formModel]="formModelEmp"
      idField="EmployeeID"
      [entityName]="'HR_Employees'"
      service="HR" 
      assemblyName="ERM.Business.HR"
      className="OrganizationUnitsBusiness"
      method="GetEmployeesMasterDetailAsync"
      rowHeight="40"
      [columnsGrid]="columnsGrid">
    </codx-gridview>
  </div>
</div>
<ng-template #templateName let-item>
  <div>
    <codx-temp-full
        [imageId]="item.employeeID"
        imageObjType="HR_Employees"
        [title]="item.employeeName"
        [subTitle]="item.positionName"
        [formModel]="formModelEmp"
        [dataItem]="item"
        [hideMF]="true"
        [imageObjName]="item.employeeName">
    </codx-temp-full>
  </div>
</ng-template>
<ng-template #templateBirthday let-item>
  <div>
    <span *ngIf="item.birthday">{{item.birthday | formatvalue:formModelEmp:"Birthday" | async}}</span>
  </div>
</ng-template>
<ng-template #templatePhone let-item>
  <div>
    <span *ngIf="item.phone">{{item.phone | formatvalue:formModelEmp:"Phone" | async}}</span>
  </div>
</ng-template>
<ng-template #templateEmail let-item>
  <div>
    <span *ngIf="item.email">{{item.email | formatvalue:formModelEmp:"Email" | async}}</span>
  </div>
</ng-template>
<ng-template #templateJoinedOn let-item>
  <div>
    <span *ngIf="item.joinedOn">{{item.joinedOn | formatvalue:formModelEmp:"JoinedOn" | async}}</span>
  </div>
</ng-template>
<ng-template #templateStatus let-item>
  <div>
    <ng-container *ngIf="item.status">
      <codx-vll 
        [formModel]="formModelEmp" 
        [classList]="'badge badge-sm badge-inline'"
        [name]="'HR003'" 
        [value]="item.status" 
        [showText]="true" 
        [showBgColor]="true">
      </codx-vll>
    </ng-container>
  </div>
</ng-template>
<ng-template #templateMoreFC let-item>
  <div>
    <codx-mfunc
      [formModel]="formModelEmp"
      (clickMF)="clickMF($event, item)"
      [dataItem]="item"
      type="view">
    </codx-mfunc>
  </div>
</ng-template>

