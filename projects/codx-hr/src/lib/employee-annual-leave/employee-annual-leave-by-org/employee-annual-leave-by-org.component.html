<div *ngIf="columnsGrid" class="main-gridview">
    <codx-gridview-v2 #grid [formModel]="view.formModel" [columnsGrid]="columnsGrid" [service]="service"
        [entityName]="entityName" [assemblyName]="assemblyName" [className]="className" [method]="method"
        [autoLoad]="false" [showRowNumber]="showRowNumber" [idField]="idField" [predicates]="predicates"
        [rowHeight]="rowHeight" [autoFitColumns]="false" [allowResizing]="false" [allowFiltering]="false"
        [allowSorting]="true" [hideMoreFunc]="true"></codx-gridview-v2>
</div>

<!-- #region Header Template HRTAL01 -->
<ng-template #colEmployeeHeader>
    <div class="text-dark fw-bold p-3 fw-500">
        <codx-label fiedName="lblEmployeeInfo" [setRequire]="false" [formModel]="view.formModel"
            [default]="'Nhân viên'"></codx-label>
    </div>
</ng-template>
<ng-template #colALPreYearHeader>
    <div class="text-dark fw-bold p-3 fw-500">
        <codx-label fiedName="lblAlPreYear" [setRequire]="false" [formModel]="view.formModel"
            [default]="'Tồn năm trước'"></codx-label>
    </div>
</ng-template>
<ng-template #colALThisYearHeader>
    <div class="text-dark fw-bold p-3 fw-500">
        <codx-label fiedName="lblAlThisYear" [setRequire]="false" [formModel]="view.formModel"
            [default]="'Tiêu chuẩn năm nay'"></codx-label>
    </div>
</ng-template>
<ng-template #colSeniorityHeader>
    <div class="text-dark fw-bold p-3 fw-500">
        <codx-label fiedName="lblSeniority" [setRequire]="false" [formModel]="view.formModel"
            [default]="'Thâm niên phép'"></codx-label>
    </div>
</ng-template>
<!-- endregion Header Template HRTAL01 -->

<!-- #region col Template HRTAL01 -->
<ng-template #colEmployee let-data>
    <div class="d-flex align-items-center p-3">
        <div class="d-flex flex-column me-4">
            <codx-img [funcId]="funcID" [objectId]="data.employeeID" [objectName]="data.employeeName"
                objectType="HR_Employees" [width]="40">
            </codx-img>
        </div>
        <div class="d-flex flex-column">
            <div #nameField [ngbTooltip]="nameField.scrollHeight > nameField.clientHeight? nameTooltip :null"
                class="align-items-center line-clamp line-clamp-1 mb-1">
                <span class="fw-bold fs-6 me-3">
                    {{data.employeeName || data.employeeID}}</span>
                <ng-template #nameTooltip>
                    <div class="inline-tooltip">
                        <span class="fw-bold fs-6 me-3">
                            {{data.employeeName}}</span>
                    </div>
                </ng-template>
            </div>
            <div #positionField *ngIf="data.positionID" class="text-gray-600 mb-1 fs-7 line-clamp line-clamp-1">
                <span [ngbTooltip]="positionTooltip">{{data.positionName? data.positionName :
                    data.positionID}}</span>
                <ng-template #positionTooltip>
                    <div class="d-flex flex-column">
                        <span class="label-text-color">{{grvSetup['PositionID'].headerText}}</span>
                        <span *ngIf="positionField.scrollHeight > positionField.clientHeight"
                            class="text-gray-600">{{data.positionName? data.positionName :
                            data.positionID}}</span>
                    </div>
                </ng-template>
            </div>
        </div>
    </div>
</ng-template>
<ng-template #colALPreYear let-data>
    <div class="d-flex align-items-center p-3">
        <span #emailField class="data-text-color" *ngIf="data?.alPreYear;else noALPreYear">
            {{data.alPreYear}}
        </span>
        <ng-template #noALPreYear>
            <span class="place-holder">{{grvSetup['ALPreYear'].headerText}}</span>
        </ng-template>
    </div>
</ng-template>
<ng-template #colALThisYear let-data>
    <div class="d-flex align-items-center p-3">
        <span #emailField class="data-text-color fw-bold" *ngIf="data?.alThisYear;else noALThisYear">
            {{data.alThisYear}}
        </span>
        <ng-template #noALThisYear>
            <span class="place-holder">{{grvSetup['ALThisYear'].headerText}}</span>
        </ng-template>
    </div>
</ng-template>
<ng-template #colSeniority let-data>
    <div class="d-flex align-items-center p-3">
        <div class="d-flex flex-column" *ngIf="data.seniorityMonth">
            <div class="align-items-center1 mb-1">
                <div #senorityMonth class="line-clamp line-clamp-1" [ngbTooltip]="(senorityMonth.scrollHeight > senorityMonth.clientHeight
                && data.seniorityMonth) ? seniorityMonthToolTip: null">
                    <codx-label class="label-colon label-text-color" [setRequire]="false" [fiedName]="'SeniorityMonth'"
                        [formModel]="view.formModel" default="Tháng tăng thâm niên: "></codx-label>
                    <ng-container *ngIf="data.seniorityMonth; else noSeniorityMonth">
                        <span class="data-text-color">{{ data.seniorityMonth }}</span>
                    </ng-container>
                    <ng-template #noSeniorityMonth>
                        <span class="place-holder">{{grvSetup['SeniorityMonth'].headerText}}</span>
                    </ng-template>
                </div>
                <ng-template #seniorityMonthToolTip>
                    <codx-label class="label-colon label-text-color" [setRequire]="false" [fiedName]="'SeniorityMonth'"
                        [formModel]="view.formModel" default="Tháng tăng thâm niên: "></codx-label>
                    <span class="data-text-color">{{ data.seniorityMonth }}</span>
                </ng-template>
            </div>
            <div class="align-items-center mb-1">
                <div #seniorityAdd class="line-clamp line-clamp-1" [ngbTooltip]="(seniorityAdd.scrollHeight > seniorityAdd.clientHeight
                && data.seniorityAdd) ? seniorityAddTooltip: null">
                    <codx-label class="label-colon label-text-color" [setRequire]="false" [fiedName]="'SeniorityAdd'"
                        [formModel]="view.formModel" default="Còn năm nay: "></codx-label>
                    <ng-container *ngIf="data.seniorityAdd; else noSeniorityAdd">
                        <span class="data-text-color">{{data?.seniorityAdd}}</span>
                    </ng-container>
                    <ng-template #noSeniorityAdd>
                        <span class="place-holder">{{grvSetup['SeniorityAdd']?.headerText}}</span>
                    </ng-template>
                </div>
                <ng-template #seniorityAddTooltip>
                    <codx-label class="label-colon label-text-color" [setRequire]="false" [fiedName]="'SeniorityAdd'"
                        [formModel]="view.formModel" default="Còn năm nay: "></codx-label>
                    <span class="data-text-color">{{data?.seniorityAdd}}</span>
                </ng-template>
            </div>
        </div>
    </div>
</ng-template>
<!-- endregion col Template HRTAL01 -->