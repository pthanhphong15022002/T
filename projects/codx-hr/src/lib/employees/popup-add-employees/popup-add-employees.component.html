<codx-layout-add #form 
  (setTitle)="setTile($event,form)" 
  [tabInfo]="tabInfo" 
  [formModel]="dialogRef.formModel" 
  [footer]="footer" 
  [dialog]="dialogRef" 
  [openMore]="true" 
  (buttonClick)="buttonClick($event)"
  [tabContent]="[tabInfoPersonal, tabInfoEmploy, tabInfoPrivate, tabInfoLaw]" 
  [data]="employee">
</codx-layout-add>

<ng-template #tabInfoPersonal>
  <div id="InfoPersonal">
    <div class="text-primary mb-3 fw-bold">
      <codx-label name="lblGeneralInfo" default="Thông tin chung">
      </codx-label>
    </div>
  </div>
  <div class="row-group">
    <div>
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="EmployeeID" default="Mã nhân viên">
          </codx-label>
          <codx-input
            [formModel]="dialogRef.formModel"
            [disabled]="paramaterHR?.stop ? false:true"
            [crrValue]="employee.employeeID" 
            field="employeeID"
            (valueChange)="dataChange($event)">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="EmployeeName" default="Tên nhân viên">
          </codx-label>
          <codx-input 
            [formModel]="dialogRef.formModel"
            [crrValue]="employee.employeeName" 
            field="employeeName"
            (valueChange)="dataChange($event)">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group gender-control">
          <codx-label [formModel]="dialogRef.formModel" fiedName="Gender" default="Giới tính">
          </codx-label>
          <codx-input 
            [formModel]="dialogRef.formModel" 
            field="Gender" 
            [crrValue]="employee.gender" 
            (valueChange)="dataChange($event)">
          </codx-input>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="Birthday" default="Ngày sinh">
          </codx-label>
          <codx-input 
            [formModel]="dialogRef.formModel"
            field="birthday" 
            [crrValue]="employee.birthday" 
            (valueChange)="changeTime($event)">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="form-group">
        <codx-label [formModel]="dialogRef.formModel" fiedName="BirthPlace" default="Nơi sinh">
        </codx-label>
        <codx-input
          [formModel]="dialogRef.formModel"
          [crrValue]="employee.birthPlace"
          field="birthPlace" 
          (valueChange)="dataChange($event)">
        </codx-input>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="Phone" default="Điện thoại">
          </codx-label>
          <codx-input 
            [formModel]="dialogRef.formModel" 
            field="phone" 
            (valueChange)="dataChange($event)"
            [crrValue]="employee.phone">
          </codx-input>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="Email" default="Email cá nhân"></codx-label>
          <codx-input 
            [formModel]="dialogRef.formModel" 
            field="personalEmail" 
            (valueChange)="dataChange($event)"
            [crrValue]="employee?.personalEmail">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="Street" default="Địa chỉ thường trú">
          </codx-label>
          <codx-input 
            [formModel]="dialogRef.formModel" 
            field="street" 
            (valueChange)="dataChange($event)"
            [crrValue]="employee.street">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="FullAddress" default="Địa chỉ tạm trú">
          </codx-label>
          <codx-input 
            [formModel]="dialogRef.formModel" field="fullAddress"
            (valueChange)="dataChange($event)" 
            [crrValue]="employee?.fullAddress">
          </codx-input>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #tabInfoEmploy>
  <div id="InfoEmploy">
    <div class="text-primary mb-3 fw-bold">
      <codx-label [formModel]="dialogRef.formModel" name="lblEmployee" default="Nhân viên"></codx-label>
    </div>
  </div>
  <div class="row-group">
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="PositionID" default="Chức danh công việc">
          </codx-label>
          <codx-input 
            [formModel]="dialogRef.formModel"  
            [crrValue]="employee.positionID"
            field="positionID" 
            [virtual]="{itemHeight:100}"
            [popupSettings]="{ width: '300px' }" 
            (valueChange)="dataChange($event)">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="OrgUnitID" default="Bộ phận">
          </codx-label>
          <codx-input 
            [formModel]="dialogRef.formModel"
            [crrValue]="employee.orgUnitID"
            field="orgUnitID" 
            (valueChange)="dataChange($event)">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="DepartmentID" default="Phòng ban">
          </codx-label>
          <codx-input 
            [crrValue]="employee.departmentID"
            field="departmentID" 
            [formModel]="dialogRef.formModel"
            (valueChange)="dataChange($event)" >
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="DivisionID" default="Khối">
          </codx-label>
          <codx-input 
            [crrValue]="employee.divisionID" 
            [formModel]="dialogRef.formModel"
            field="divisionID" 
            (valueChange)="dataChange($event)">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-6">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="JoinedOn" default="Ngày vào làm"></codx-label>
          <codx-input 
            [formModel]="dialogRef.formModel"
            field="joinedOn" 
            [crrValue]="employee.joinedOn" 
            (valueChange)="changeTime($event)">
          </codx-input>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="HiredOn" default="Ngày trở thành nhân viên chính thức">
          </codx-label>
          <codx-input 
            type="datetime" 
            [disabled]="true"
            class="test-datetime" 
            field="hiredOn" 
            format="d" 
            placeholder="datetime"
            [crrValue]="employee?.hiredOn" 
            (valueChange)="changeTime($event)">
          </codx-input>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #tabInfoPrivate>
  <div id="InfoPrivate">
    <div class="text-primary mb-3 fw-bold">
      <codx-label name="lblPersonalInfo" default="Thông tin cá nhân">
      </codx-label>
    </div>
  </div>
  <div class="row-group">
    <div class="row">
      <div class="col-6">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="IdCardNo" default="CMND/CCCD">
          </codx-label>
          <codx-input class="form-control" type="text" field="idCardNo" (valueChange)="dataChange($event)"
            [crrValue]="employee?.idCardNo" placeholder="Số CMNN/CCCD">
          </codx-input>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="IssuedOn" default="Ngày cấp"></codx-label>
          <codx-input type="datetime" class="test-datetime" field="issuedOn" format="d" placeholder="datetime"
            [crrValue]="employee?.issuedOn" (valueChange)="changeTime($event)">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="IssuedBy" default="Nơi cấp"></codx-label>
          <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.issuedBy"
            field="issuedBy" (valueChange)="dataChange($event)" refValue="ProvinceOfCountry" service="HR"
            ngDefaultControl placeholder="Nơi cấp" loadFull="true">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="MaritalStatus" default="Tình trạng hôn nhân">
          </codx-label>
          <codx-input type="valuelist" class="form-control noBorder cotrol-vll" [crrValue]="employee?.maritalStatus"
            field="maritalStatus" (valueChange)="dataChange($event)" ngDefaultControl refValue="L0226">
          </codx-input>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="Nationality" default="Quốc tịch">
          </codx-label>
          <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.nationality"
            field="nationality" refValue="Nationalities" service="BS" (valueChange)="dataChange($event)"
            loadFull="true">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="EthnicGroup" default="Dân tộc">
          </codx-label>
          <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.ethnicGroup"
            field="ethnicGroup" refValue="EthnicGroups" service="BS" (valueChange)="dataChange($event)"
            loadFull="true">
          </codx-input>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="Religion" default="Tôn giáo"></codx-label>
          <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.religion"
            field="religion" refValue="Religions" service="BS" (valueChange)="dataChange($event)"
            loadFull="true">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="Education" default="Trình độ văn hóa">
          </codx-label>
          <codx-input type="valuelist" class="form-control noBorder cotrol-vll" [crrValue]="employee?.education"
            field="education" (valueChange)="dataChange($event)" ngDefaultControl refValue="L1033">
          </codx-input>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="Degree" default="Trình độ chuyên môn">
          </codx-label>
          <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.degree" field="degree"
            refValue="Degrees" service="BS" (valueChange)="dataChange($event)" loadFull="true">
          </codx-input>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #tabInfoLaw>
  <div id="InfoLaw">
    <div class="text-primary mb-3 fw-bold">
      <codx-label [formModel]="dialogRef.formModel" name="lblJuridical" default="Thông tin pháp lý">
      </codx-label>
    </div>
  </div>
  <div class="row-group">
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="PitNumber" default="Mã số thuế">
          </codx-label>
          <codx-input class="form-control" type="text" field="pitNumber" (valueChange)="dataChange($event)"
            [crrValue]="employee?.pitNumber">
          </codx-input>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="PitIssuedOn" default="Ngày cấp">
          </codx-label>
          <codx-input type="datetime" class="test-datetime" field="pitIssuedOn" format="d" placeholder="datetime"
            [crrValue]="employee?.pitIssuedOn" (valueChange)="changeTime($event)">
          </codx-input>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="SiRegisterNo" default="Mã số BHXH">
          </codx-label>
          <codx-input class="form-control" type="text" field="siRegisterNo"
            (valueChange)="dataChange($event)" [crrValue]="employee?.siRegisterNo">
          </codx-input>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <codx-label [formModel]="dialogRef.formModel" fiedName="SiRegisterOn" default="Ngày cấp">
          </codx-label>
          <codx-input type="datetime" class="test-datetime" field="siRegisterOn" format="d" placeholder="datetime"
            [crrValue]="employee?.siRegisterOn" (valueChange)="changeTime($event)">
          </codx-input>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #footer>
  <div class="d-flex justify-content-end">
    <button type="button" class="btn btn-primary" (click)="OnSaveForm()">
      <codx-label [formModel]="dialogRef.formModel" fiedName="lblSave" default="Lưu">
      </codx-label>
    </button>
  </div>
</ng-template>