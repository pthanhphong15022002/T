<div class="h-100 org-gridview">
    <codx-gridview-v2 #grid [formModel]="formModel" [columnsGrid]="columnsGrid" [service]="'HR'"
        [entityName]="'HR_Employees'" assemblyName="ERM.Business.HR" [className]="'EmployeesBusiness'"
        [hideMoreFunc]="true" [method]="'GetEmployeeListByOrgUnitIDGridView'" [dataValues]="orgUnitID"
        [emptyTemplate]="emptyDataTemplate" [autoLoad]="false" [showRowNumber]="true" [autoFitColumns]="false"
        [allowResizing]="false" [allowFiltering]="false" [allowSorting]="false" idField="employeeID" rowHeight="50"
        height="auto"></codx-gridview-v2>
</div>
<ng-template #templateName let-data>
    <div class="d-flex align-items-center emp-list">
        <codx-img class="me-3" [width]="30" [objectId]="data.employeeID" [objectName]="data.employeeName"
            objectType="HR_Employees" [referType]="'avt'">
        </codx-img>
        <div class="d-flex flex-column flex-grow-1">
            <div class="d-flex align-items-center">
                <div class="text-dark fw-bold me-2">{{ data.employeeName }}</div>
            </div>
            <div class="mt-1">
                <span *ngIf="data.positionName; else noPosName" class="text-gray-600 fs-7">
                    <span>{{data.positionName? data.positionName : data.positionID}}</span>
                </span>
                <ng-template #noPosName>
                    <span class="place-holder fs-7">
                        <span>{{grvSetup['PositionID']?.headerText}}</span>
                    </span>
                </ng-template>
            </div>
        </div>
    </div>
</ng-template>
<ng-template #templateBirthday let-item>
    <ng-container *ngIf="item.birthday; else noBirthday">
        <span class="text-gray-700">{{ item.birthday | fmDT }}</span>
    </ng-container>
    <ng-template #noBirthday>
        <span class="place-holder">{{ grvSetup["Birthday"].headerText }}</span>
    </ng-template>
</ng-template>
<ng-template #templatePhone let-data>
    <div class="d-flex align-items-center employee-add">
        <span class="text-gray-600" 
            [innerHTML]="data.phone | formatvalue: grid.formModel:'phone' | async"></span>
    </div>
</ng-template>
<ng-template #templateEmail let-data>
    <div class="d-flex align-items-center employee-email">
        <span class="text-gray-600" 
            [innerHTML]="data.email | formatvalue: grid.formModel:'email' | async"></span>
    </div>
</ng-template>
<ng-template #templateJoinedOn let-item>
    <div *ngIf="item.joinedOn; else noJoinedOn">{{item.joinedOn | fmDT}}</div>
    <ng-template #noJoinedOn>
        <div class="place-holder">{{grvSetup['JoinedOn']?.headerText}}</div>
    </ng-template>
</ng-template>
<ng-template #templateStatus let-item>
    <div>
        <ng-container *ngIf="item.status">
            <codx-vll [formModel]="formModel" [classList]="'badge badge-sm badge-inline'" [name]="'HR003'"
                [value]="item.status" [showText]="true" [showBgColor]="true">
            </codx-vll>
        </ng-container>
    </div>
</ng-template>
<ng-template #emptyDataTemplate>
    <div class="d-flex ms-1">
        <span class="text-gray-500 fw-bold">
            {{ "SYS011" | mssg | async }}
        </span>
    </div>
</ng-template>