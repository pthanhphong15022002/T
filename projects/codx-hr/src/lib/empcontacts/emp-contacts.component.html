<codx-views #view service="HR" assemblyName="ERM.Business.HR" className="EmployeesBusiness"
  method="GetModelFormEmployAsyncNew" [views]="views" [selectedFirst]="true" idField="employeeID" [buttons]="buttons"
  [viewActiveType]="'2'" (viewChanged)="viewChanged($event)" (selectedChange)="selectedChange($event)">
</codx-views>

<ng-template #cardTemp let-data>
  <codx-card-center cardCss="border d-flex flex-center flex-column  card-user"
            [imageId]="data.employeeID" imageObjType="HR_Employees" imageWidth="50" [formModel]="view.formModel" 
            [title]="data.employeeName" [imageObjName]="data.employeeName"
            [subTitle]="data.positionName? data.positionName: 
                        (data.positionID? data.positionID : placeholder('PositionID'))" 
            [dataItem]="data" [imageObjType]="view.formModel.entityName"
            [desc]="data.birthday? (data.birthday | fmDT):  placeholder('Birthday')" [footer]="footer">
        </codx-card-center>
</ng-template>

<ng-template #footer let-data>
  <div class="d-flex align-items-center flex-center d-phone">
    <!-- <span class="icon-phone_android icon-16 me-2"></span> -->
    <span class="text-gray-700">
      <span #phone [innerHTML]="data.phone | formatvalue: view.formModel:'Phone' | async"></span>
    </span>
  </div>
  <div class="d-flex align-items-center flex-center d-mail">
    <!-- <span class="icon-email icon-16 me-2"> </span> -->
    <span class="text-gray-700">
      <span #email [innerHTML]="data.email | formatvalue: view.formModel:'Email' | async"></span>
    </span>
  </div>
</ng-template>

<ng-template #itemEmployee let-data>
  <div class="d-flex align-items-center emp-list">
    <codx-img class="me-3" [width]="30" [objectId]="data.employeeID" [objectName]="data.employeeName"
      objectType="HR_Employees" [referType]="'avt'">
    </codx-img>
    <div class="d-flex flex-column flex-grow-1">
      <div class="d-flex align-items-center">
        <div class="text-dark fw-bold me-2">{{ data.employeeName }}</div>
      </div>
      <div class="mt-1">
        <!-- <div class="text-dark-50 font-size-sm mt-1" *ngIf="data.positionName != '---'">
          {{data.positionName}}</div>
        <div class="text-muted font-size-sm mt-1" *ngIf="data.positionName != '---'">
          <codx-label formName="Employees" name="" default="Bộ phận">
          </codx-label>
        </div> -->

        <span class="text-gray-600 fs-7">
          <span #positionName [innerHTML]=" data.positionName
        | formatvalue: view.formModel:'PositionName'
          | async"></span>
        </span>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #itemStatusName let-data>
  <codx-vll [value]="data.status" [name]="'HR003'" [showText]="true" [showBgColor]="true"
    [className]="'badge badge-success badge-sm badge-inline'"></codx-vll>
</ng-template>

<ng-template #itemBirthDay let-data>
  <div class="d-flex flex-column employee-info">
    <div class="d-flex align-items-center1">
      <span class="text-gray-600">
        <span #birthday [innerHTML]="data.birthday
        | formatvalue: view.formModel:'Birthday'
        | async"></span>
      </span>
    </div>
  </div>
</ng-template>

<ng-template #itemJoinOn let-data>
  <div class="d-flex align-items-center">
    <span class="text-gray-600">
      <span #joinedOn [innerHTML]="data.joinedOn | formatvalue: view.formModel:'JoinedOn' | async"></span>
    </span>
  </div>
</ng-template>

<ng-template #itemPhone let-data>
  <div class="d-flex align-items-center employee-add">
    <span class="icon-phone_android icon-16 me-2"></span>
    <span class="text-gray-600">
      <span #phone [innerHTML]="data.phone | formatvalue: view.formModel:'Phone' | async"></span>
    </span>
  </div>
</ng-template>

<ng-template #itemEmail let-data>
  <div class="d-flex align-items-center employee-email">
    <span class="icon-email icon-16 me-2"></span>
    <span class="text-gray-600">
      <span #email [innerHTML]="data.email | formatvalue: view.formModel:'Email' | async"></span>
    </span>
  </div>
</ng-template>

<ng-template #tmpTree let-data>
  <div class="d-flex align-items-center py-1">
    <i class="icon-home me-2"></i><span>{{ data.orgUnitName }}</span>
  </div>
</ng-template>
<ng-template #tmpTreeItemDetail let-data>
  <lib-employee-list-by-org [showManager]="false" [formModel]="view.formModel"
    [orgUnitID]="itemSelected?.orgUnitID"></lib-employee-list-by-org></ng-template>

<ng-template #tmpTreeItemDetailCard let-data>
  <lib-org-emp-contact-detail-card [orgUnitID]="itemSelected?.orgUnitID" [grvSetup]="grvSetup"
    [formModel]="view.formModel"></lib-org-emp-contact-detail-card>
</ng-template>