<!-- <codx-views #view funcID="HRT02" entityName="HR_Positions" [views]="views" [button]="button" 
    (buttonClick)="click($event)" idField="employeeID" assemblyName="ERM.Business.HR" className="PositionsBusiness"
    method="GetModelFormPositionsAsync"  [pageSize]="100"
    [selectedFirst]="true">
</codx-views> -->

<codx-views #view [funcID]="funcID" service="HR" entityName="HR_Positions" idField="positionID"
    assemblyName="ERM.Business.HR" className="PositionsBusiness" method="GetModelFormPositionsAsync"
   [views]="views" [button]="button" (buttonClick)="click($event)" [moreFuncs]="moreFuncs"
    (requestEnded)="requestEnded($event)" (selectedChange)="selectedChange($event)" (onDragDrop)="onDragDrop($event)"
    [selectedFirst]="true">
</codx-views>

<ng-template #itemTemplate let-data>
    <codx-temp-full cardCss="card-template border-bottom px-2 py-3" (clickMF)="clickMF($event,data)"
        [title]="data.positionName" [titleLine]="data.orgUnitID" [contentLine]="(data.orgUnitID||'') + (data.departmentID ? ' | ' + data.departmentID: '')
        + (data.divisionID ? ' | ' + data.divisionID: '')" [desc]="'Báo cáo trực tiếp: ' + data.reportTo"
        [desc2]="'Báo cáo gián tiếp: ' + (data.reportTo2 || '')" [subTitle]="'Nhóm chức danh: ' + data.jobID"
        [content]="'Chức vụ: ' + data.jobGroupID">
    </codx-temp-full>
</ng-template>

<!-- <ng-template #itemPosition let-data>
    <div class="d-flex flex-grow-1">
        <div class="d-flex flex-column ml-5">
            <div class="text-dark font-weight-bold font-size-h6">{{data.positionName}}
            </div>
            <div class="text-dark mt-2">{{(data.orgUnitID||'') + (data.departmentID ? ' | ' + data.departmentID: '')
                + (data.divisionID ? ' | ' + data.divisionID: '')}}
            </div>
            <div class="mr-5 d-flex align-items-center mt-1">
                <codx-label name="lblReportTo" formName="Positions" default="Báo cáo trực tiếp: ">
                </codx-label>
                <span class="text-dark">{{data.reportTo}}</span>
            </div>
            <div class="mr-5 d-flex align-items-center mt-1">
                <codx-label name="lblRreportTo2" formName="Positions" default="Báo cáo gián tiếp: ">
                </codx-label>
                <span class="text-dark">{{data.reportTo2}}</span>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #itemJob let-data>
    <div class="d-flex flex-column w-200px ml-20">
        <div class="mr-5 d-flex align-items-center mt-8">
            <codx-label name="lblJobID" formName="Positions" default="Nhóm chức danh: ">
            </codx-label>
            <span class="text-dark">{{data.jobID}}</span>
        </div>
        <div class="mr-5 d-flex align-items-center">
            <codx-label name="lblJobGroup" formName="Positions" default="Chức vụ: ">
            </codx-label>
            <span class="text-dark">{{data.jobGroup}}</span>
        </div>
    </div>
</ng-template>

<ng-template #itemCounts let-data>
    <div class="d-flex pos-group">
        <div class="d-flex flex-column align-items-center pos-item mx-6" #h
            (click)="loadEmployByCountStatus(h,data.positionID,'')">
            <div class="pos-number pos-gray">{{data.headcounts}}</div>
            <div class="text-dark-50 mt-1">
                <codx-label name="lblHeadcounts" formName="Positions" default="Định biên">
                </codx-label>
            </div>

        </div>
        <div class="d-flex flex-column align-items-center pos-item mx-6" #c
            (click)="loadEmployByCountStatus(c,data.positionID,'50;60')">
            <div class="pos-number pos-primary">{{data.currentcounts}}</div>
            <div class="text-dark-50 mt-1">
                <codx-label name="lblCurrentcounts" formName="Positions" default="Chính thức">
                </codx-label>
            </div>
            <div *ngIf="data.currentEmpcounts>0" class="symbol-group symbol-hover mt-2">
                <codx-img class="symbol symbol-30 border-white symbol-circle" [objectId]="data.currentEmpID"
                    [objectName]="data.currentEmpName" objectType="HR_Employees">
                </codx-img>
                <div *ngIf="data.currentEmpcounts>1"
                    class="symbol symbol-30 symbol-circle border-white symbol-light">
                    <span class="symbol-label font-size-sm">{{data.currentcounts-1}}+</span>
                </div>
            </div>
        </div>
        <div class="d-flex flex-column align-items-center pos-item mx-6" #o
            (click)="loadEmployByCountStatus(o,data.positionID,'20;30')">
            <div class="pos-number pos-success">{{data.onboard}}</div>
            <div class="text-dark-50 mt-1">
                <codx-label name="lblOnboard" formName="Positions" default="Onboard">
                </codx-label>
            </div>
            <div *ngIf="data.onboardEmpcounts>0" class="symbol-group symbol-hover mt-2">
                <codx-img class="symbol symbol-30 border-white symbol-circle" [objectId]="data.onboardEmpID"
                    [objectName]="data.onboardEmpName" objectType="HR_Employees">
                </codx-img>
                <div *ngIf="data.onboardEmpcounts>1"
                    class="symbol symbol-30 symbol-circle border-white symbol-light">
                    <span class="symbol-label font-size-sm">{{data.onboardEmpcounts-1}}+</span>
                </div>
            </div>
        </div>
        <div class="d-flex flex-column align-items-center pos-item mx-6" #f
            (click)="loadEmployByCountStatus(f,data.positionID,'70')">
            <div class="pos-number pos-danger">{{data.offboard}}</div>
            <div class="text-dark-50 mt-1">
                <codx-label name="lblOffboard" formName="Positions" default="Offboard">
                </codx-label>
            </div>
            <div *ngIf="data.offboardEmpcounts>0" class="symbol-group symbol-hover mt-2">
                <codx-img class="symbol symbol-30 border-white symbol-circle" [objectId]="data.offboardEmpID"
                    [objectName]="data.offboardEmpName" objectType="HR_Employees">
                </codx-img>
                <div *ngIf="data.offboardEmpcounts>1"
                    class="symbol symbol-30 symbol-circle border-white symbol-light">
                    <span class="symbol-label font-size-sm">{{data.offboardEmpcounts-1}}+</span>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #itemAction let-data>
    <a class="action-item" (click)="edit(data)">
        <div class="d-flex align-items-center btn-tooltip">
            <span class="icon-edit icon-20 ml-2 mr-2"></span>
            <span class="tooltiptext">Edit</span>
        </div>
    </a>
    <a class="action-item">
        <div class="d-flex align-items-center btn-tooltip" (click)="copy(data)">
            <span class="icon-content_copy icon-18 text-warning ml-2 mr-2"></span>
            <span class="tooltiptext">Copy</span>
        </div>
    </a>
    <a class="action-item" (click)="delete(data)">
        <div class="d-flex align-items-center btn-tooltip">
            <span class="icon-close icon-20 text-danger ml-2 mr-2"></span>
            <span class="tooltiptext">Delete</span>
        </div>
    </a>
</ng-template> -->