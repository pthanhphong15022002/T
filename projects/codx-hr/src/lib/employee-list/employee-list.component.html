<codx-views
  #view
  [views]="views"
  [button]="button"
  (buttonClick)="add()"
  service="HR"
  idField="employeeID"
  [selectedFirst]="true"
  (selectedChange)="selectedChange($event)">
</codx-views>

<!--column Nhân viên -->
<ng-template #colEmployee let-data>
  <div class="d-flex align-items-center cursor-pointer hover-active" (dblclick)="doubleClick(data)">
    <div class="d-flex flex-column me-2">
      <codx-img
        [funcId]="funcID"
        [objectId]="data.employeeID"
        [objectName]="data.employeeName"
        objectType="HR_Employees"
        [width]="40">
      </codx-img>
      <ng-container *ngIf="data.gender">
        <div class="mt-2">
          <codx-vll [name]="'HR001'" [value]="data.gender" showText="true" [showBgColor]="true" [classList]="'badge badge-sm badge-inline flex-wrap'"></codx-vll>
        </div>
      </ng-container>
    </div>
    <div class="d-flex flex-column">
      <div class="d-flex align-items-center mb-1">
        <ng-container *ngIf="data.employeeName">
          <span class="fw-bold fs-6 me-3 text-nowrap item-active">{{ data.employeeName }}</span>
        </ng-container>
      </div>

      <div class="text-gray-700 mb-1">
        <ng-container *ngIf="data.positionID">
          <span [innerHTML]=" data.positionID
          | formatvalue : view.formModel : 'positionID'
          | async"></span>
        </ng-container>
      </div>

      <div class="text-gray-700 mb-1">
        <ng-container *ngIf="data.orgUnitID">
          <span [innerHTML]="data.orgUnitID
          | formatvalue : view.formModel : 'orgUnitID'
          | async"></span>
        </ng-container>
      </div>

      <div class="text-gray-700">
        <ng-container *ngIf="data.departmentID">
          <span #departmentName [innerHTML]="data.departmentID
          | formatvalue : view.formModel : 'departmentID'
          | async"></span>
        </ng-container>
        <ng-container *ngIf="data?.departmentID && data.divisionID">
          <span class="text-gray-400 mx-1">,</span>
        </ng-container>
        <ng-container *ngIf="data.divisionID">
          <span #divisionName [innerHTML]="data.divisionID
          | formatvalue : view.formModel : 'divisionID'
          | async"></span>
        </ng-container>
      </div>
    </div>
  </div>
</ng-template>
<!-- columns Liên hệ -->
<ng-template #colContact let-data>
  <div (dblclick)="doubleClick(data)">
    <div class="d-flex flex-column">
      <div class="d-flex align-items-center mb-1">
        <span class="icon-email icon-16 text-gray-600 me-2"></span>
        <span class="text-gray-700" [innerHTML]="data.email | formatvalue : view.formModel : 'email' | async">
        </span>
      </div>
      <div class="d-flex align-items-center mb-1">
        <span class="icon-phone_android icon-16 text-gray-600 me-2"></span>
        <span class="text-gray-700" [innerHTML]="data.phone | formatvalue : view.formModel : 'phone' | async">
        </span>
      </div>
      <div class="d-flex align-items-center">
        <span class="icon-place icon-16 text-gray-600 me-2"></span>
        <span class="text-gray-700" [innerHTML]="data.street
        | formatvalue : view.formModel : 'street'
        | async">
        </span>
      </div>
    </div>
  </div>
</ng-template>
<!-- columns Thông tin cá nhân -->
<ng-template #colPersonal let-data>
  <div (dblclick)="doubleClick(data)">
    <div class="d-flex flex-column">
      <div class="align-items-center1 mb-1">
        <span class="text-gray-700 me-1">
          <codx-label
          [setRequire]="false"
          [fiedName]="'Birthday'"
            [formModel]="view.formModel"
            default="Ngày sinh:"
          ></codx-label>
        </span>
        <span class="text-gray-700" [innerHTML]="data.birthday
        | formatvalue : view.formModel : 'birthday'
        | async">
        </span>
      </div>
      <div class="align-items-center mb-1">
        <span class="text-gray-700 me-1">
          <codx-label
          [setRequire]="false"
            [fiedName]="'BirthPlace'"
            [formModel]="view.formModel"
            default="Nơi sinh: "
          ></codx-label>
        </span>
        <span class="text-gray-700" [innerHTML]="data?.birthPlace
        | formatvalue : view.formModel : 'birthPlace'
        | async">
        </span>
      </div>
      <div class="align-items-center">
        <span class="text-gray-700 me-1">
          <codx-label
          [setRequire]="false"
          [fiedName]="'Education'"
          [formModel]="view.formModel"
            default="Trình độ: "
          ></codx-label>
        </span>

        <span class="text-gray-700" [innerHTML]="data.education
        | formatvalue : view.formModel : 'education'
        | async">
        </span>
      </div>
    </div>
  </div>
</ng-template>
<!-- columns Tình trạng -->
<ng-template #colStatus let-data>
  <div (dblclick)="doubleClick(data)" class="w-100 has-action-menu">
    <div class="d-flex flex-column">
      <div class="d-flex mb-1">
        <codx-vll [name]="'HR003'" [value]="data.status" [showBgColor]="true" [showText]="true" [className]="'badge badge-sm badge-inline'">
        </codx-vll>
      </div>
      <div class="align-items-center mb-1">
        <span class="text-gray-700 me-1">
          <codx-label
          [setRequire]="false"
          [fiedName]="'JoinedOn'"
          [formModel]="view.formModel"
            default="Ngày vào làm: "
          >
          </codx-label>
        </span>
        <ng-container *ngIf="data.joinedOn">
          <span class="text-gray-700" [innerHTML]="data.joinedOn
          | formatvalue : view.formModel : 'joinedOn'
          | async">
          </span>
        </ng-container>
      </div>
      <div class="align-items-center">
        <span class="text-gray-700 me-1">
          <codx-label
            name="lblSenioritydate"
            [setRequire]="false"
            [formModel]="view.formModel"
            default="Thâm niên: "
          >
          </codx-label>
        </span>
        <ng-container *ngIf="data.senioritydate">
          <span class="text-gray-700">{{ data.senioritydate | timeAgo }}</span>
        </ng-container>  
      </div>
    </div>
    <codx-mfunc
      [formModel]="view.formModel"
      (clickMF)="clickMF($event, data)"
      [dataItem]="data"
      type="hover">
    </codx-mfunc>
  </div>
</ng-template>
