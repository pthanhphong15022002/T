<codx-layout-add #form [title]="title" [tabInfo]="tabInfo" [formModel]="dialog.formModel" [subHeader]=""
    [footer]="footer" [dialog]="dialog" [openMore]="true" (buttonClick)="buttonClick($event)"
    [tabContent]="[tabInfoPersonal, tabInfoEmploy, tabInfoPrivate, tabInfoLaw]" (setTitle)="setTitle($event)">
</codx-layout-add>

<ng-template #tabInfoPersonal>
    <div id="InfoPersonal">
        <div class="text-primary mb-3 fw-bold">
            <codx-label name="lblGeneralInfo" default="Thông tin chung">
            </codx-label>
        </div>
    </div>
    <div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <codx-label fiedName="EmployeeName" default="Tên nhân viên">
                    </codx-label>
                    <!-- <codx-input [formModel]="form.formModel" [Group]="form.formGroup" field="employeeName">
                    </codx-input> -->

                    <codx-input class="form-control" type="text" [crrValue]="employee?.employeeName" field="employeeName"
                    (valueChange)="dataChange($event, 'employeeName')" placeholder="Tên nhân viên">
                  </codx-input>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group gender-control">
                    <codx-label fiedName="Gender" default="Giới tính">
                    </codx-label>

                    <codx-input name="gender" type="valuelist" field="Gender" placeholder=""
                        [crrValue]="employee?.gender" (valueChange)="dataChange($event, 'gender')" refValue="L0068">
                    </codx-input>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <codx-label fiedName="Birthday" default="Ngày sinh">
                    </codx-label>

                    <codx-input type="datetime" class="test-datetime" field="birthday" format="d" placeholder="datetime"
                        [crrValue]="employee?.birthday" (valueChange)="changeTime($event)">
                    </codx-input>
                </div>
            </div>
        </div>
        <div class="form-group">
            <codx-label fiedName="BirthPlace" default="Nơi sinh">
            </codx-label>
            <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.birthPlace"
                field="birthPlace" refValue="ProvincesName" service="BS"
                (valueChange)="dataChange($event, 'birthPlace')">
            </codx-input>
        </div>

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <codx-label fiedName="Phone" default="Điện thoại">
                    </codx-label>
                    <codx-input class="form-control" type="text" field="phone"
                        (valueChange)="dataChange($event, 'phone')" [crrValue]="employee?.phone">
                    </codx-input>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <codx-label fiedName="Email" default="Email"></codx-label>
                    <codx-input class="form-control" type="text" field="email"
                        (valueChange)="dataChange($event, 'email')" [crrValue]="employee?.email">
                    </codx-input>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">

                    <codx-label fiedName="Street" default="Địa chỉ thường trú">
                    </codx-label>
                    <codx-input class="form-control" type="text" field="street"
                        (valueChange)="dataChange($event, 'street')" [crrValue]="employee?.street">
                    </codx-input>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <codx-label fiedName="FullAddress" default="Địa chỉ tạm trú">
                    </codx-label>

                    <codx-input class="form-control" type="text" field="fullAddress"
                        (valueChange)="dataChange($event, 'fullAddress')" [crrValue]="employee?.fullAddress">
                    </codx-input>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #tabInfoEmploy>
    <div id="InfoEmploy">
        <div class="text-primary mb-3 fw-bold">
            <codx-label name="lblEmployee" default="Nhân viên"></codx-label>
        </div>
    </div>
    <div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <codx-label fiedName="PositionName" default="Chức danh công việc">
                    </codx-label>
                    <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.positionName"
                        field="positionName" refValue="Positions" service="HR" [virtual]="{itemHeight:100}"
                        [popupSettings]="{ width: '300px' }" loadFull="true"
                        (valueChange)="dataChange($event, 'positionName')">
                    </codx-input>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <codx-label fiedName="OrganizationName" default="Bộ phận">
                    </codx-label>
                    <codx-input type="combobox" class="form-control borderless p-0"
                        [crrValue]="employee?.organizationName" field="organizationName" refValue="OrganizationUnits"
                        service="HR" (valueChange)="dataChange($event, 'organizationName')" loadFull="true"
                        [disabled]="isDisable">
                    </codx-input>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <codx-label fiedName="DepartmentName" default="Phòng ban">
                    </codx-label>
                    <codx-input type="combobox" class="form-control borderless p-0"
                        [crrValue]="employee?.departmentName" field="departmentName" refValue="HRDepartments"
                        service="HR" (valueChange)="dataChange($event, 'departmentName')" loadFull="true"
                        [disabled]="isDisable">
                    </codx-input>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div class="form-group">
                    <codx-label fiedName="DivisionName" default="Khối">
                    </codx-label>
                    <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.divisionName"
                        field="divisionName" refValue="HRDivisions" service="HR"
                        (valueChange)="dataChange($event, 'divisionName')" loadFull="true" [disabled]="isDisable">
                    </codx-input>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <codx-label fiedName="JoinedOn" default="Ngày vào làm"></codx-label>
                    <codx-input type="datetime" class="test-datetime" field="joinedOn" format="d" placeholder="datetime"
                        [crrValue]="employee?.joinedOn" (valueChange)="changeTime($event)">
                    </codx-input>
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <codx-label fiedName="HiredOn" default="Ngày trở thành nhân viên chính thức">
                    </codx-label>
                    <codx-input type="datetime" class="test-datetime" field="hiredOn" format="d" placeholder="datetime"
                        [crrValue]="employee?.hiredOn" (valueChange)="changeTime($event)">
                    </codx-input>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #tabInfoPrivate>
    <div id="InfoPrivate">
        <div class="text-primary mb-3 fw-bold">
            <codx-label name="lblPersonalInfo" default="Thông tin cá nhân">
            </codx-label>
        </div>
    </div>
    <div class="row">
        <div class="col-6">
            <div class="form-group">
                <codx-label fiedName="IdCardNo" default="CMND/CCCD">
                </codx-label>
                <codx-input class="form-control" type="text" field="idCardNo"
                    (valueChange)="dataChange($event, 'idCardNo')" [crrValue]="employee?.idCardNo">
                </codx-input>
            </div>
        </div>
        <div class="col-6">
            <div class="form-group">
                <codx-label fiedName="IssuedOn" default="Ngày cấp"></codx-label>
                <codx-input type="datetime" class="test-datetime" field="issuedOn" format="d" placeholder="datetime"
                    [crrValue]="employee?.issuedOn" (valueChange)="changeTime($event)">
                </codx-input>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="form-group">
                <codx-label fiedName="IssuedBy" default="Nơi cấp"></codx-label>
                <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.issuedBy"
                    field="issuedBy" (valueChange)="dataChange($event, 'issuedBy')" refValue="ProvinceOfCountry"
                    service="HR" ngDefaultControl loadFull="true">
                </codx-input>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="form-group">
                <codx-label fiedName="MaritalStatus" default="Tình trạng hôn nhân">
                </codx-label>
                <codx-input type="valuelist" class="form-control noBorder cotrol-vll"
                    [crrValue]="employee?.maritalStatus" field="maritalStatus"
                    (valueChange)="dataChange($event, 'maritalStatus')" ngDefaultControl refValue="L0226">
                </codx-input>
            </div>
        </div>
        <div class="col">
            <div class="form-group">
                <codx-label fiedName="Nationality" default="Quốc tịch">
                </codx-label>
                <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.nationality"
                    field="nationality" refValue="Nationalities" service="BS"
                    (valueChange)="dataChange($event, 'nationality')" loadFull="true">
                </codx-input>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="form-group">
                <codx-label fiedName="EthnicGroup" default="Dân tộc">
                </codx-label>
                <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.ethnicGroup"
                    field="ethnicGroup" refValue="EthnicGroups" service="BS"
                    (valueChange)="dataChange($event, 'ethnicGroup')" loadFull="true">
                </codx-input>
            </div>
        </div>
        <div class="col">
            <div class="form-group">
                <codx-label fiedName="Religion" default="Tôn giáo"></codx-label>
                <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.religion"
                    field="religion" refValue="Religions" service="BS" (valueChange)="dataChange($event, 'religion')"
                    loadFull="true">
                </codx-input>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="form-group">
                <codx-label fiedName="Education" default="Trình độ văn hóa">
                </codx-label>
                <codx-input type="valuelist" class="form-control noBorder cotrol-vll" [crrValue]="employee?.education"
                    field="education" (valueChange)="dataChange($event, 'education')" ngDefaultControl refValue="L1033">
                </codx-input>
            </div>
        </div>
        <div class="col">
            <div class="form-group">
                <codx-label fiedName="Degree" default="Trình độ chuyên môn">
                </codx-label>
                <codx-input type="combobox" class="form-control borderless p-0" [crrValue]="employee?.degree"
                    field="degree" refValue="Degrees" service="BS" (valueChange)="dataChange($event, 'degree')"
                    loadFull="true">
                </codx-input>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #tabInfoLaw>
    <div id="InfoLaw">
        <div class="text-primary mb-3 fw-bold">
            <codx-label name="lblJuridical" default="Thông tin pháp lý">
            </codx-label>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="form-group">
                <codx-label fiedName="PitNumber" default="Mã số thuế">
                </codx-label>
                <codx-input class="form-control" type="text" field="pitNumber"
                    (valueChange)="dataChange($event, 'pitNumber')" [crrValue]="employee?.pitNumber">
                </codx-input>
            </div>
        </div>
        <div class="col">
            <div class="form-group">
                <codx-label fiedName="PitIssuedOn" default="Ngày cấp">
                </codx-label>
                <codx-input type="datetime" class="test-datetime" field="pitIssuedOn" format="d" placeholder="datetime"
                    [crrValue]="employee?.pitIssuedOn" (valueChange)="changeTime($event)">
                </codx-input>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="form-group">
                <codx-label fiedName="SiRegisterNo" default="Mã số BHXH">
                </codx-label>
                <codx-input class="form-control" type="text" field="siRegisterNo"
                    (valueChange)="dataChange($event, 'siRegisterNo')" [crrValue]="employee?.siRegisterNo">
                </codx-input>
            </div>
        </div>
        <div class="col">
            <div class="form-group">
                <codx-label fiedName="SiRegisterOn" default="Ngày cấp">
                </codx-label>
                <codx-input type="datetime" class="test-datetime" field="siRegisterOn" format="d" placeholder="datetime"
                    [crrValue]="employee?.siRegisterOn" (valueChange)="changeTime($event)">
                </codx-input>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #footer>
    <div class="d-flex justify-content-end">
        <button type="button" class="btn btn-primary" (click)="OnSaveForm()">
            <codx-label name="Save" formName="Employees" default="Lưu"></codx-label>
        </button>
    </div>
</ng-template>