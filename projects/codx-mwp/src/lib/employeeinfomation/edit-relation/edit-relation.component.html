<codx-form headerText="{{title}}" subHeaderText="" [body]="body" [footer]="footer" [dialog]="dialog">
    <ng-template #body>
        <div class="user-detail-update">
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <codx-label fiedName="RelationName" default="Tên người thân">
                        </codx-label>
                        <codx-input class="form-control" type="text" [crrValue]="dataBind?.relationName"
                            field="relationName" (valueChange)="dataChange($event, 'relationName')">
                        </codx-input>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <codx-label fiedName="Birthday" default="Ngày sinh"></codx-label>
                        <codx-input type="datetime" class="test-datetime" placeholder="datetime" format="d"
                            field="birthday" (valueChange)="changeTime($event)" [crrValue]="dataBind?.birthday">
                        </codx-input>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <codx-label fiedName="RelationType" default="Quan hệ">
                        </codx-label>
                        <codx-input name="relationType" type="valuelist" field="relationType" placeholder=""
                            [crrValue]="dataBind?.relationType" (valueChange)="dataChange($event, 'relationType')"
                            refValue="L06731">
                        </codx-input>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <codx-label fiedName="Phone" default="Phone">
                        </codx-label>
                        <codx-input class="form-control" type="text" field="phone"
                            (valueChange)="dataChange($event, 'phone')" [crrValue]="dataBind?.phone">
                        </codx-input>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <codx-label fiedName="Email" default="Email"></codx-label>
                        <codx-input class="form-control" type="text" field="email"
                            (valueChange)="dataChange($event, 'email')" [crrValue]="dataBind?.email">
                        </codx-input>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <codx-label fiedName="Street" default="Địa chỉ">
                        </codx-label>
                        <codx-input class="form-control" type="text" field="street"
                            (valueChange)="dataChange($event, 'street')" [crrValue]="dataBind?.street">
                        </codx-input>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group text-primary mb-3 fw-bold">
                        <codx-label name="lblPersonalInfo" default="Thông tin cá nhân">
                        </codx-label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <codx-label fiedName="IdCardNo" default="CMND/CCCD">
                        </codx-label>
                        <codx-input class="form-control" type="text" field="idCardNo"
                            (valueChange)="dataChange($event, 'idCardNo')" [crrValue]="dataBind?.idCardNo">
                        </codx-input>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <codx-label fiedName="IssuedOn" default="Ngày cấp"></codx-label>
                        <codx-input type="datetime" class="test-datetime" placeholder="datetime" format="d"
                            [crrValue]="dataBind?.issuedOn" field="issuedOn" (valueChange)="changeTime($event)">
                        </codx-input>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <codx-label fiedName="Occupation" default="Nghề nghiệp">
                        </codx-label>
                        <codx-input class="form-control" type="text" field="occupation"
                            (valueChange)="dataChange($event, 'occupation')" [crrValue]="dataBind?.occupation">
                        </codx-input>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group text-primary mb-3 fw-bold">
                        <codx-label name="lblPersonalInfo" default="Phụ thuộc">
                        </codx-label>
                        <div class="mb-5">
                            <codx-input type="checkbox" label="Là người phụ thuộc" labelPosition="after"
                                field="dependent" class="test-check" (valueChange)="dataChange($event, 'dependent')"
                                [crrValue]="dataBind?.dependent">
                            </codx-input>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <codx-label fiedName="RegisterNo" default="Số đăng ký">
                        </codx-label>
                        <codx-input type="text" field="registerNo" class="form-control"
                            (valueChange)="dataChange($event, 'registerNo')" [crrValue]="dataBind?.registerNo"
                            [disabled]="!dataBind?.dependent">
                        </codx-input>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <codx-label fiedName="registeredOn" default="Ngày đăng ký"></codx-label>
                        <codx-input type="datetime" class="test-datetime" field="registeredOn" format="d"
                            placeholder="datetime" [crrValue]="dataBind?.joinedOn" [disabled]="!dataBind?.dependent"
                            (valueChange)="changeTime($event)">
                        </codx-input>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-4 col-md-4 text-center">
            <div class="form-group">
                <div class="image-input image-input-outline" id="kt_user_add_avatar">
                    <!-- <div class="image-input-wrapper"> -->
                    <codx-img #imageAvatar isAllowEdit="true" updateDirect="true" [width]="100" [height]="100"
                        class="me-4e" [objectId]="dataBind?.recID" [objectName]="dataBind?.employeeName" objectType="HR_EmployeeRelations">
                    </codx-img>
                    <!-- </div> -->
                    <!-- <label class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow"
                        data-action="change" data-toggle="tooltip" title="" data-original-title="Change avatar">
                        <span class="icon-edit icon-18 text-dark-50"></span>
                        <input id="fileAvatar" type="file" name="profile_avatar" (change)="handleFileInput($event)"
                            accept=".png, .jpg, .jpeg">
                        <input type="hidden" name="profile_avatar_remove">
                    </label>
                    <span class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow"
                        data-action="cancel" data-toggle="tooltip" title="" data-original-title="Cancel avatar">
                        <span class="icon-close icon-20 text-dark-50"></span>
                    </span> -->
                </div>
            </div>
        </div>
    </ng-template>
    <ng-template #footer>
        <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-primary" (click)="OnSaveForm()">
                <codx-label name="Save" formName="Relations" default="Lưu"></codx-label>
            </button>
        </div>
    </ng-template>
</codx-form>