<codx-views
  #view
  [views]="views"
  [funcID]="funcID"
  [service]="service"
  [assemblyName]="assemblyName"
  [entityName]="entityName"
  [className]="className"
  [method]="method"
>
</codx-views>
<ng-template #panelLeftRef>
  <div class="page-profile me-4">
    <div class="border bg-white">
      <!-- <div class="bg-sidebar"> -->
      <div class="d-flex flex-column text-center mx-4">
        <div class="mb-3 d-flex justify-content-between align-items-top">
          <div class="w-30px min-w-30px">
            <span
              *ngIf="crrIndex > 0"
              type="button"
              class="btn btn-icon btn-light-primary rounded-circle"
            >
              <i class="icon-arrow_back_ios icon-16"></i>
            </span>
          </div>
          <div class="d-flex justify-content-center">
            <div class="position-relative mt-1">
              <codx-img
                [funcId]="funcID"
                [objectId]="infoPersonal?.employeeID"
                [objectName]="infoPersonal?.employeeName"
                [objectType]="'HR_Employees'"
                [imageType]="'circle'"
                class="pic-emloyee"
                [width]="100"
              >
              </codx-img>
            </div>
          </div>
          <div class="w-30px min-w-30px"></div> 
        </div>
        <div class="d-flex flex-center">
          <div class="fs-5-sm d-flex align-items-center">
            <span class="fw-bold" placement="bottom">{{
              infoPersonal?.employeeName
            }}</span>
          </div>
        </div>
        <div placement="bottom" class="text-gray-500 mb-1" *ngIf="infoPersonal">
          {{ this.infoPersonal.positionName }}
        </div>
        <div class="d-flex flex-column flex-center">
          <div class="text-gray-500 mb-1" *ngIf="infoPersonal">
            {{ infoPersonal.orgUnitName }}
          </div>
        </div>
      </div>

      <div class="border-top">
        <div class="mb-1">
          <codx-label class="fw-bold" default="Thành tích cá nhân"></codx-label>
        </div>
        <div class="text-gray-500 mb-1">
          <codx-label
            default="Danh sách danh hiệu đã đạt được đến thời gian hiện tại"
          ></codx-label>
        </div>
        <div class="d-flex">
          <div class="w-30 p-2">
            <div class="top-item top1">
              <div class="top-pic w-100 d-flex justify-content-center">
                <div class="w-50px pic-top1">
                  <div class="text-gray-500 mb-1 d-flex flex-center ps-5 symbol">
                    <span>Top {{ rate }}</span>
                  </div>
                  <div class="text-gray-500 mb-1 d-flex flex-center ps-5 symbol">
                    <span>{{ totalCoreEmp }} Point</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="w-70 p-2">
            <div class="text-gray-500 mb-1 d-flex flex-center">
              <span>List Achievement</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
<ng-template #panelRightRef>
  <codx-listview
    #viewList
    [headerTemplate]="headerTemplate"
    [itemTemplate]="templateList"
    [dataService]="this.view.dataService"
    [typeMF]="'hover'"
    load
  >
  </codx-listview>
</ng-template>

<!-- header -->
<ng-template #headerTemplate>
  <div class="d-flex align-items-center border-bottom w-100">
    <!-- Ngày phát sinh -->
    <div class="w-15 p-3 ps-5">
      <div class="d-flex align-items-center cursor-pointer hover-active">
        <div class="align-items-center1 mb-1">
          <codx-label
            fiedName="lblCreatOn"
            [setRequire]="false"
            [formModel]="view.formModel"
            [default]="'Ngày phát sinh'"
          ></codx-label>
        </div>
      </div>
    </div>
    <!-- Thông điệp -->
    <div class="w-20 p-3">
      <div class="d-flex flex-column">
        <div class="d-flex align-items-center1 mb-1">
          <codx-label
            fiedName=""
            [setRequire]="false"
            [formModel]="view.formModel"
            [default]="'Thông điệp'"
          ></codx-label>
        </div>
      </div>
    </div>
    <!-- Nội dung -->
    <div class="w-35 p-3">
      <div class="d-flex flex-column">
        <div class="align-items-center1 mb-1">
          <codx-label
            fiedName="lblSituation"
            [setRequire]="false"
            [formModel]="view.formModel"
            [default]="'Nội dung'"
          ></codx-label>
        </div>
      </div>
    </div>
    <!-- chính sách -->
    <div class="w-20 p-3">
      <div class="d-flex has-action-menu justify-content-between w-100">
        <div class="d-flex flex-column">
          <div class="align-items-center1 mb-1">
            <codx-label
              fiedName="lblPolicyName"
              [setRequire]="false"
              [formModel]="view.formModel"
              [default]="'chính sách'"
            ></codx-label>
          </div>
        </div>
      </div>
    </div>
    <!-- Điểm -->
    <div class="w-10 p-3">
      <div class="d-flex has-action-menu justify-content-between w-100">
        <div class="d-flex flex-column">
          <div class="align-items-center1 mb-1">
            <codx-label
              fiedName="lblKudos"
              [setRequire]="false"
              [formModel]="view.formModel"
              [default]="'Điểm'"
            ></codx-label>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<!-- template list -->
<ng-template #templateList let-data>
  <div class="d-flex align-items-center border-bottom">
    <!-- Ngày phát sinh -->
    <div class="w-15 p-3 ps-5">
      <div class="d-flex align-items-center cursor-pointer hover-active">
        <div class="align-items-center1 mb-1">
          <span class="data-text-color">{{ data.createdOn | fmDT }}</span>
        </div>
      </div>
    </div>
    <!-- Thông điệp -->
    <div class="w-20 p-3">
      <div class="d-flex flex-column">
        <div class="d-flex align-items-center1 mb-1">
          <div class="d-flex p-2 flex-column me-4">
            <codx-img
              [funcId]="funcID"
              [objectId]="data.employeeID"
              [objectName]="data.employeeName"
              objectType="HR_Employees"
              [width]="40"
            >
            </codx-img>
          </div>
          <div class="d-flex p-2 flex-column">
            <div class="align-items-center line-clamp line-clamp-1 mb-1">
              <span class="fw-bold fs-6 me-3 text-nowrap item-active">
                {{ data.refType | vll : vllRefType : "text" | async }}</span
              >
            </div>
            <div class="text-gray-600 mb-1 fs-7 line-clamp line-clamp-1">
              <span>{{ data.refNo }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Nội dung -->
    <div class="w-35 p-3">
      <div class="d-flex flex-column">
        <div class="align-items-center1 mb-1">
          <ng-container *ngIf="data.card">
            <span
              class="data-text-color"
              [innerHTML]="data.card.situation"
            ></span>
          </ng-container>
        </div>
      </div>
    </div>
    <!-- chính sách -->
    <div class="w-20 p-3">
      <div class="d-flex has-action-menu justify-content-between w-100">
        <div class="d-flex flex-column">
          <div class="align-items-center1 mb-1">
            <ng-container *ngIf="data.policy">
              <span class="data-text-color">{{ data.policy.policyName }}</span>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
    <!-- Điểm -->
    <div class="w-10 p-3">
      <div class="d-flex has-action-menu justify-content-between w-100">
        <div class="d-flex flex-column">
          <div class="align-items-center1 mb-1">
            <span
              class="data-text-color"
              [ngClass]="data.kudos > 0 ? 'text-success' : 'text-danger'"
            >
              {{ data.kudos }}</span
            >
          </div>
          <div class="align-items-center1 mb-1">
            <codx-mfunc
              [dataItem]="data"
              [formModel]="view.formModel"
              [isBookMark]="true"
              type="view"
            ></codx-mfunc>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
<!-- end template list -->
