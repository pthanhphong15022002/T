<div class="d-flex w-100 h-100 fd-personal-achieve">
    <ng-container *ngTemplateOutlet="info"></ng-container>  
    <ng-container *ngTemplateOutlet="content"></ng-container>  
</div>
<ng-template #info>
  <div class="d-flex flex-column w-320px h-100 pt-2 ps-2 pe-4 fd-achieve-info">
    <div class="d-flex flex-column h-100 bg-white justify-content-between">
      <div class="d-flex flex-column">
        <div class="d-flex flex-column justify-content-center align-items-center py-8 mx-8">
          <codx-img [objectId]="user?.userID" [objectType]="'AD_Users'" [width]="80"></codx-img>
          <div class="py-2 d-flex flex-column align-items-center">
            <span class="fw-bold fs-5-sm">{{user?.userName}}</span>
            <span class="">{{infoPersonal?.positionName}}</span>
            <span class="">{{infoPersonal?.departmentName}}</span>
          </div>
        </div>
        <div class="d-flex flex-column">
          <div class="p-4 div-per-usage-his cursor-pointer" (click)="clickActive(item.id)" [class.active]="item.id == active" *ngFor="let item of listFunc">
            <span>{{item.name}}</span> 
          </div>
        </div>
      </div>
      <div class="d-flex flex-column px-5">
        <div class="d-flex flex-column align-items-start py-6 px-4 pic-2">
          <div class="pic-3"></div>
          <div class="my-5 fw-bold text-gray-500"><span>{{user?.userName | uppercase}}</span></div>
          <div class="d-flex align-items-center justify-content-between w-100">
            <div class="d-flex flex-column text-gray-500 fs-8">
              <codx-label default="FROM"></codx-label>
              <span>{{wallets?.activedOn | fmDT: 'dmy'}}</span>
            </div>
            <div class="d-flex align-items-center text-white">
              <span class="me-2 fs-1 fw-bold">{{wallets?.coins}}</span>
              <span>xu</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #content>
  <div class="w-right pt-2 h-100">
    <codx-views
      #view
      idField="recID"
      [views]="views"
      [funcID]="funcID"
      [service]="service"
      [assemblyName]="assemblyName"
      [entityName]="entityName"
      [className]="className"
      [method]="method"
    >
    </codx-views>
  </div>
</ng-template>

<ng-template #rowTransDate let-data>
  <span>{{data.transDate | fmDT : 'dmy'}}</span>
</ng-template>

<ng-template #rowRefType let-data>
  <div class="d-flex flex-column">
    <span>{{data.refType}}</span>
    <span>{{data.refNo}}</span>
  </div>
</ng-template>

<ng-template #rowRefType let-data>
  <div class="d-flex flex-column">
    <span>{{data.refType}}</span>
    <span>{{data.refNo}}</span>
  </div>
</ng-template>

<ng-template #rowCard let-data>
  <div class="p-2 text-start" [innerHtml]="data?.card?.situation"></div>
</ng-template>

<ng-template #rowPolicy let-data>
  <span>{{data?.policy?.policyName}}</span>
</ng-template>

<ng-template #rowCoins let-data>
  <span class="fw-bold" [ngClass]="(data?.coins >= 0) ?'text-success' : 'text-danger'">{{(data?.coins >= 0 ? "+" : "") +data?.coins}}</span>
</ng-template>
