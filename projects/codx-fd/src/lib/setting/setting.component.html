<codx-views #view [funcID]="funcID" [views]="views" [autoLoad]="false"></codx-views>

<ng-template #panelLeftRef>
    <div class="content h-100 d-flex flex-column flex-column-fluid p-0">
        <div class="d-flex flex-column-fluid h-100" (sectionChange)="onSectionChange($event)">
            <div class="d-flex container h-100">
                <div class="aside-detail flex-row-auto w-250px me-6" id="erm_content">
                    <div class="aside-menu me-6">
                        <ul class="menu-nav">
                            <li class="menu-item" [class.menu-item-active]="currentActive == 1"
                                href="#notificationFeedback">
                                <a class="menu-link d-flex align-items-center fw-bold text-dark"
                                    (click)="scroll(notificationFeedback,1)" [attr.data-fid]="'FDS01'">
                                    <i class="icon-near_me me-2"></i>
                                    <codx-label name="lblFeedbackMessage" [formName]="functionList?.formName"
                                        [gridViewName]="functionList?.gridViewName" default='Thông điệp phản hồi'>
                                    </codx-label>
                                </a>
                            </li>
                            <li class="menu-item" [class.menu-item-active]="currentActive == 2" href="#itemCategory">
                                <a class="menu-link d-flex align-items-center fw-bold text-dark"
                                    (click)="scroll(itemCategory,2)" [attr.data-fid]="'FDS02'">
                                    <i class="icon-format_list_bulleted me-2"></i>
                                    <codx-label name="lblCategory" [formName]="functionList?.formName"
                                        [gridViewName]="functionList?.gridViewName" default='Danh mục'>
                                    </codx-label>
                                </a>
                            </li>
                            <li class="menu-item" [class.menu-item-active]="currentActive == 3" href="#itemWallet">
                                <a class="menu-link d-flex align-items-center fw-bold text-dark"
                                    (click)="scroll(itemWallet,3)" [attr.data-fid]="'FDS03'">
                                    <i class="icon-account_balance_wallet me-2"></i>
                                    <codx-label name="lblWallet" [formName]="functionList?.formName"
                                        [gridViewName]="functionList?.gridViewName" default='Ví nhân viên'>
                                    </codx-label>
                                </a>
                            </li>
                            <li class="menu-item" [class.menu-item-active]="currentActive == 4"
                                href="#itemRankDedication">
                                <a class="menu-link d-flex align-items-center fw-bold text-dark"
                                    (click)="scroll(itemRankDedication,4)" [attr.data-fid]="'FDS04'">
                                    <i class="icon-credit_card me-2"></i>
                                    <codx-label name="lblDedicateRank" [formName]="functionList?.formName"
                                        [gridViewName]="functionList?.gridViewName" default='Hạng cống hiến'>
                                    </codx-label>
                                </a>
                            </li>
                            <li class="menu-item" [class.menu-item-active]="currentActive == 5" href="#itemStatistical">
                                <a class="menu-link d-flex align-items-center fw-bold text-dark"
                                    (click)="scroll(itemStatistical,5)" [attr.data-fid]="'FDS05'">
                                    <i class="icon-bar_chart me-2"></i>
                                    <codx-label name="lblStatistical" [formName]="functionList?.formName"
                                        [gridViewName]="functionList?.gridViewName" default='Thống kê'>
                                    </codx-label>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="bg-body rounded-3 p-6 flex-grow-1 h-100 overflow-auto" data-spy="scroll"
                    data-target="#erm_content" data-offset="0">
                    <div class="main-detail d-flex flex-column flex-grow-1 data-scroll">
                        <div class="list-group" id="notificationFeedback" [attr.data-index]=1 #notificationFeedback>
                            <h3 class=" list-header mt-4">
                                <codx-label name="lblFeedbackMessage" [formName]="functionList?.formName"
                                    [gridViewName]="functionList?.gridViewName" default='Thông điệp phản hồi'>
                                </codx-label>
                            </h3>
                            <div class="list-content" *ngFor="let item of func['FDS01']">
                                <div class="d-flex justify-content-between list-item" style="cursor: pointer;"
                                    (click)="LoadDetail(item)">
                                    <div class="d-flex flex-column">
                                        <div class="font-weight-bold text-dark mb-2">
                                            {{item.customName}}</div>
                                        <div class="text-dark-50">{{item.description}}</div>
                                    </div>
                                    <a><span class="icon-keyboard_arrow_right icon-20 ml-6"></span></a>
                                </div>
                                <hr />
                            </div>
                        </div>
                        <div class="list-group" id="itemCategory" [attr.data-index]=2 #itemCategory>
                            <h3 class="list-header mt-4">
                                <codx-label name="lblCategory" [formName]="functionList?.formName"
                                    [gridViewName]="functionList?.gridViewName" default='Danh mục'>
                                </codx-label>
                            </h3>
                            <div class="list-content" *ngFor="let item of funcChildFDS02$|async">
                                <div class="d-flex align-items-top list-item" style="cursor: pointer;"
                                    (click)="LoadCategory(item)">
                                    <span class="icon-settings icon-20 me-3"></span>
                                    <div class="d-flex flex-column flex-grow-1">
                                        <div class="font-weight-bold text-dark mb-2">
                                            {{item.customName}}</div>
                                        <div class="text-dark-50">{{item.description}}</div>
                                    </div>
                                    <span class="icon-keyboard_arrow_right icon-20 ml-6"></span>
                                </div>
                                <hr />
                            </div>
                        </div>

                        <div class="list-group" id="itemWallet" [attr.data-index]=3 #itemWallet>
                            <h3 class="list-header mt-4">
                                <codx-label name="lblWallet" [formName]="functionList?.formName"
                                    [gridViewName]="functionList?.gridViewName" default='Ví nhân viên'>
                                </codx-label>
                            </h3>
                            <div class="list-content" *ngFor="let item of func['FDS03']">
                                <div class="d-flex justify-content-between list-item" style="cursor: pointer;"
                                    (click)="LoadWallet(item)">
                                    <div class="d-flex align-items-center mb-2">
                                        <span class=" icon-settings icon-20 me-3"></span>
                                        <div class="font-weight-bold text-dark"> {{item.customName}}
                                        </div>
                                    </div>
                                    <span class="icon-keyboard_arrow_right icon-20 ml-6"></span>
                                </div>
                            </div>
                        </div>

                        <div class="list-group" id="itemeankDedication" [attr.data-index]=4 #itemRankDedication>
                            <h3 class="list-header mt-4">
                                <codx-label name="lblDedicateRank" [formName]="functionList?.formName"
                                    [gridViewName]="functionList?.gridViewName" default='Hạng cống hiến'>
                                </codx-label>
                            </h3>
                            <div class="list-content">
                                <span class=" icon-settings icon-20 me-3" style="cursor: pointer;float: right;"
                                    (click)="LoadDedicationRank('FDS04')"></span>
                                <div class="row">
                                    <div class="col-lg-6 col-md-6">

                                        <table class="table list-ranking">
                                            <thead>
                                                <tr>
                                                    <th scope="col">
                                                        <codx-label name="lblRanking"
                                                            [formName]="functionList?.formName"
                                                            [gridViewName]="functionList?.gridViewName"
                                                            default='Xếp hạng'>
                                                        </codx-label>
                                                    </th>
                                                    <th scope="col">
                                                        <codx-label name="lblWallet" [formName]="functionList?.formName"
                                                            [gridViewName]="functionList?.gridViewName"
                                                            default='Điểm cống hiến'>
                                                        </codx-label>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let item of range$|async">
                                                    <td>
                                                        <div class="d-flex align-items-center">
                                                            <span class="label label-sm label-primary me-3"
                                                                [style.background-color]="item.color"></span>
                                                            <span class="tex-dark">{{item.breakName}}</span>
                                                        </div>
                                                    </td>
                                                    <td>{{item.breakValue}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="col-lg-6 col-md-6 pt-8 pl-6">
                                        <img class="w-100%" src="../../../assets/demos/svg/Ranking_card.png" alt="">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="list-group" id="itemStatistical" [attr.data-index]=5 #itemStatistical>
                            <h3 class="list-header mt-4">
                                <codx-label name="lblStatistical" [formName]="functionList?.formName"
                                    [gridViewName]="functionList?.gridViewName" default='Thống kê'>
                                </codx-label>
                            </h3>
                            <div class="list-content">
                                <div class="d-flex justify-content-between list-item">
                                    <span class="icon-settings icon-20 me-3"></span>
                                    <div class="d-flex flex-column flex-grow-1">
                                        <div class="font-weight-bold text-dark mb-2">
                                            <codx-label name="lblFeedBackStatistic" [formName]="functionList?.formName"
                                                [gridViewName]="functionList?.gridViewName" default='Thống kê phiếu
                                        phản
                                        hồi'>
                                            </codx-label>
                                        </div>
                                        <div class="text-dark-50">
                                            <codx-label name="lblDefaultSetting" [formName]="functionList?.formName"
                                                [gridViewName]="functionList?.gridViewName" default='Mặc định cấu hình xem dữ liệu thống kê các phiếu
                                        phản
                                        hồi theo thiết lập đã chọn'>
                                            </codx-label>
                                        </div>
                                    </div>
                                    <div class="w-150px">
                                        <codx-input type="select" name="select" class="cotrol-vll" placeholder=""
                                            ngDefaultControl refValue="L1440" field="SumaryCards"
                                            (valueChange)="valueChange($event, null)" [value]="parameter?.SumaryCards">
                                        </codx-input>

                                    </div>
                                </div>
                                <hr />
                                <div class="d-flex justify-content-between list-item">
                                    <span class="icon-settings icon-20 me-3"></span>
                                    <div class="d-flex flex-column flex-grow-1">
                                        <div class="font-weight-bold text-dark mb-2">
                                            <codx-label name="lblRankDedication" [formName]="functionList?.formName"
                                                [gridViewName]="functionList?.gridViewName" default='Danh sách xếp hạng
                                        cống hiến'>
                                            </codx-label>
                                        </div>
                                        <div class="text-dark-50">
                                            <codx-label name="lblDefaultSetting2" [formName]="functionList?.formName"
                                                [gridViewName]="functionList?.gridViewName" default='Mặc định cấu hình xem dữ liệu danh sách xếp hạng
                                        cống
                                        hiến theo thiết lập đã chọn'>
                                            </codx-label>
                                        </div>
                                    </div>
                                    <div class="w-150px">
                                        <codx-input type="select" name="select" class="cotrol-vll" placeholder=""
                                            ngDefaultControl refValue="L1440" field="ListRanking"
                                            (valueChange)="valueChange($event, null)" [value]="parameter?.ListRanking">
                                        </codx-input>

                                    </div>
                                </div>

                                <hr />
                                <div class="d-flex justify-content-between list-item">
                                    <span class="icon-settings icon-20 me-3"></span>
                                    <div class="d-flex flex-column flex-grow-1">
                                        <div class="font-weight-bold text-dark mb-2">
                                            <codx-label name="lblSelectTopEmp" [formName]="functionList?.formName"
                                                [gridViewName]="functionList?.gridViewName"
                                                default='Top danh sách nhân viên hoạt động nhiều nhất'>
                                            </codx-label>
                                        </div>
                                        <div class="text-dark-50">
                                            <codx-label name="lblSelectTopEmp2" [formName]="functionList?.formName"
                                                [gridViewName]="functionList?.gridViewName"
                                                default='Top danh sách nhân viên hoạt động nhiều nhất'>
                                            </codx-label>
                                        </div>
                                    </div>
                                    <div class="w-150px d-flex align-items-center ml-4">
                                        <input type="number" min="1" class="form-control" disabled
                                            [value]="parameter?.SelectTopEmp" name="number" placeholder="" />
                                        <span class="icon-edit_file text-hover-primary icon-20 ml-2"
                                            (click)="open(content, 'SelectTopEmp')"></span>
                                    </div>
                                </div>
                            </div>
                            <hr />
                            <div class="d-flex justify-content-between list-item">
                                <span class="icon-settings icon-20 me-3"></span>
                                <div class="d-flex flex-column flex-grow-1">
                                    <div class="font-weight-bold text-dark mb-2">
                                        <codx-label name="lblSelectTopByCard" [formName]="functionList?.formName"
                                            [gridViewName]="functionList?.gridViewName"
                                            default='Top nhân viên theo từng loại phiếu'>
                                        </codx-label>
                                    </div>
                                    <div class="text-dark-50">
                                        <codx-label name="lblSelectTopByCard2" [formName]="functionList?.formName"
                                            [gridViewName]="functionList?.gridViewName"
                                            default='Top nhân viên theo từng loại phiếu'>
                                        </codx-label>
                                    </div>
                                </div>
                                <div class="w-150px d-flex align-items-center ml-4">
                                    <input type="number" min="1" class="form-control" disabled
                                        [value]="parameter?.SelectTopByCard" name="number" placeholder="" />
                                    <span class="icon-edit_file text-hover-primary icon-20 ml-2"
                                        (click)="open(content, 'SelectTopByCard')"></span>
                                </div>
                            </div>
                            <hr />
                            <div class="d-flex justify-content-between list-item">
                                <span class="icon-settings icon-20 me-3"></span>
                                <div class="d-flex flex-column flex-grow-1">
                                    <div class="font-weight-bold text-dark mb-2">
                                        <codx-label name="lblSelectTopBehaviors" [formName]="functionList?.formName"
                                            [gridViewName]="functionList?.gridViewName"
                                            default='Top hành vi được chọn nhiều nhất'>
                                        </codx-label>
                                    </div>
                                    <div class="text-dark-50">
                                        <codx-label name="lblSelectTopBehaviors2" [formName]="functionList?.formName"
                                            [gridViewName]="functionList?.gridViewName"
                                            default='Top hành vi được chọn nhiều nhất'>
                                        </codx-label>
                                    </div>
                                </div>
                                <div class="w-150px d-flex align-items-center ml-4">
                                    <input type="number" min="1" class="form-control" disabled
                                        [value]="parameter?.SelectTopBehaviors" name="number" placeholder="" />
                                    <span class="icon-edit_file text-hover-primary icon-20 ml-2"
                                        (click)="open(content, 'SelectTopBehaviors')"></span>
                                </div>
                            </div>
                            <hr />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">
            <codx-label name="lblUpdate" [formName]="" [gridViewName]="functionList?.gridViewName" default='Cập nhật'>
            </codx-label>
        </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <i class="icon-close icon-20 text-dark text-hover-primary"></i>
        </button>
    </div>
    <div class="modal-body">
        <form>
            <div class="form-group row">
                <label class="col-3 col-form-label">
                    <codx-label name="lblValue" [formName]="" [gridViewName]="functionList?.gridViewName"
                        default='Giá trị'>
                    </codx-label>
                </label>
                <div class="col-9">
                    <input type="number" onkeypress="event.charCode >= 48 && event.charCode <= 57" id="myId"
                        class="form-control" name="number" placeholder="1" />
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="onSavePopup()">
            <codx-label name="lblSave" [formName]="" [gridViewName]="functionList?.gridViewName" default='Lưu'>
            </codx-label>
        </button>
    </div>
</ng-template>