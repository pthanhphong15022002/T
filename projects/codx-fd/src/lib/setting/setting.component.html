<codx-views #view [views]="views" (viewChanged)="viewChanged($event, view)">
</codx-views>
<ng-template #tabsTmpl>
  <!-- heightAdjustMode="Fill" -->
  <ejs-tab
    *ngIf="lstCategory.length > 0"
    headerPlacement="Left"
    heightAdjustMode="Auto"
    class="h-100 w-100 d-flex"
    overflowMode="Popup"
    (selected)="changeTabs()"
  >
    <e-tabitems>
      <e-tabitem *ngFor="let cate of lstCategory">
        <ng-template #headerText>
          <div class="nav-item m-5 p-2">
            <a
              class="nav-link text-dark text-hover-primary btn-light-primary d-flex px-0"
            >
              <span [class]="'icon-20 me-2 ' + cate.icon"></span>
              <span class="fw-bold">
                <codx-label
                  name="lblHeaderLeft0"
                  [formModel]=""
                  [default]="cate.text"
                ></codx-label>
              </span>
            </a>
          </div>
        </ng-template>
        <ng-template #content>
          <div
            class="group w-100 h-100 bg-body rounded-2 p-9 scroll-y"
            *ngIf="groupSettings && groupSettings[cate.value]"
          >
            <div class="d-flex" *ngIf="curLineType > 1">
              <div
                class="back btn btn-primary"
                (click)="changeLineType(null, false)"
              >
                Back
              </div>
              <div class="fs-4 ms-3 fw-bold text-dark category-title">
                {{ curGroup.tilte }}
              </div>
            </div>

            <div class="title" *ngFor="let row of groupSettings[cate.value]">
              <ng-container
                class="d-flex w-100 bg-hover justify-content-between"
                *ngIf="
                  row.lineType == curLineType &&
                  row.refLineID == this.refQueue[this.refQueue.length - 1]
                "
              >
                <div class="category-title d-flex mt-5 list-item bg-hover">
                  <div class="setting-btnright align-items-center">
                    <span class="w-30px d-flex justify-content-center">
                      <span [class]="'icon-18 ' + row.icon"></span
                    ></span>
                  </div>
                  <div
                    *ngIf="
                      row.controlType == 'GroupControl' &&
                        (curLineType == 1 ||
                          row.recID == this.refQueue[this.refQueue.length - 1]);
                      else rowDetail
                    "
                    class="fs-4 fw-bold text-dark category-title"
                  >
                    {{ row.tilte }}
                  </div>
                  <ng-template #rowDetail>
                    <div
                      class="d-flex justify-content-between mb-2 list-item w-100 ms-5"
                    >
                      <div class="d-flex flex-column">
                        <div class="title fw-bold text-dark">
                          {{ row.tilte }}
                        </div>
                        <div class="text-gray-500 pt-1">
                          {{ row.description }}
                        </div>
                      </div>
                    </div>
                  </ng-template>

                  <ng-container
                    *ngIf="
                      (row.fieldName && row?.controlType) || row.displayMode
                    "
                    class="d-flex align-items-center ms-4 min-w-300px justify-content-end category-control"
                  >
                    <ng-container *ngIf="row.fieldName && row?.controlType">
                      <codx-input
                        [field]="row.fieldName"
                        [refType]="row?.referedType"
                        [type]="row.controlType"
                        [refValue]="row?.referdValue"
                        [style]="
                          row.controlType &&
                          (row.controlType.toLowerCase() == 'textbox' ||
                            row.controlType.toLowerCase() == 'combobox')
                            ? 'width: 200px'
                            : ''
                        "
                        [crrValue]="
                          setingValues[row.transType ?? '']
                            ? setingValues[row.transType ?? ''][row.fieldName]
                            : ''
                        "
                        (valueChange)="
                          changeFieldValue(
                            formName,
                            row.transType ?? '',
                            row.category,
                            $event
                          )
                        "
                      ></codx-input>
                    </ng-container>
                    <ng-container *ngIf="row.displayMode == 1">
                      <div
                        class="setting-btnright"
                        (click)="changeLineType(row, true)"
                      >
                        <span class="w-30px d-flex justify-content-center"
                          ><span
                            class="icon-keyboard_arrow_right icon-22"
                          ></span
                        ></span>
                      </div>
                    </ng-container>
                  </ng-container>
                </div>
              </ng-container>
              <ng-container
                *ngIf="
                  row.reference == 'FDPatterns' &&
                  row.lineType == curLineType &&
                    row.refLineID == this.refQueue[this.refQueue.length - 1]
                "
              >
                <app-pattern [type]="row.transType"></app-pattern>
              </ng-container>
            </div>
          </div>
        </ng-template>
      </e-tabitem>
    </e-tabitems>
  </ejs-tab>
</ng-template>
