<ng-container *ngIf="data">
    <codx-detail-tmp [formModel]="formModel" [body]="body" [footer]="footer" [dataItem]="data">
    </codx-detail-tmp>
</ng-container>
<ng-template #body>
    <div class="p-4">
        <div class="d-flex flex-row-reverse">
            <button class="btn btn-sm" [disabled]="data.status != '1'"
                [ngClass]="data.status == '1'? 'btn-light-primary' : 'btn-light-primary'">
                <codx-label [formModel]="formModel" name="lblSendGift" default="Giao quà"></codx-label>
            </button>
        </div>
        <div>
            <div class="mb-3">
                <codx-label [ngClass]="'fw-bold text-primary'" [formModel]="formModel" name="lblSender"
                    default="Người nhận"></codx-label>
            </div>
            <div class="d-flex justify-content-beetwen">
                <ng-container *ngIf="data.reciver">
                    <div class="me-3">
                        <codx-img [objectId]="data.reciver.domainUser" [objectType]="'AD_Users'" [width]="35"
                            imageType="circle"></codx-img>
                    </div>
                    <div class="d-flex flex-column">
                        <div class="fw-bold fs-6 mb-1">{{data.reciver.employeeName}}</div>
                        <div class="text-gray-600">{{data.reciver.positionName}}</div>
                    </div>
                </ng-container>
            </div>
            <div class="mt-3 d-flex" *ngIf="data.gift">
                <div class="me-5">
                    <codx-img [ngClass]="" [objectId]="data.gift.giftID" [objectType]="'FD_Gifts'" imageType="square"
                        [width]="150"></codx-img>
                </div>
                <div class="d-flex flex-column">
                    <div class="fw-bolder">{{data.gift.giftName}}</div>
                    <div>
                        <span>{{data.gift.giftID}}</span>
                        <span> | </span>
                        <span>
                            <codx-label [formModel]="formModel" name="lblGroup" default="Nhóm"></codx-label>
                        </span>
                        <span>:{{data.gift.groupID}}</span>
                    </div>
                    <div class="mt-2">
                        {{data.gift.memo}}
                    </div>
                    <div class="mt-3">
                        <span class="badge badge-sm"
                            [style.background-color]="data.status | vll:'L1428' : 'color' | async"
                            [style.color]="data.status | vll:'L1428' : 'textColor' | async">
                            {{data.status | vll:'L1428' : 'text' | async}}
                        </span>
                    </div>
                </div>

            </div>
            <div class="mt-3">
                <div class="row">
                    <codx-label [ngClass]="'fw-bolder text-primary'" [formModel]="formModel" name="lblSiutuation"
                        default="Nội dung"></codx-label>
                </div>
                <div class="px-4">
                    <ng-container *ngIf="data.siutuation">
                        <div>{{data.siutuation}}</div>
                    </ng-container>
                </div>
            </div>
            <div class="mt-3">
                <div class="row">
                    <codx-label [ngClass]="'fw-bolder text-primary'" [formModel]="formModel" name="lblReference"
                        default="Thông tin tham chiếu"></codx-label>
                </div>
                <div class="py-4">
                    <p>
                        <span>
                            <codx-label [formModel]="formModel" name="lblCardType" default="Loại phiếu"></codx-label>
                        </span>
                        <span>: {{data.cardType | vll:"L1422":"text" | async}}</span>
                    </p>
                    <p>
                        <span>
                            <codx-label [formModel]="formModel" name="lblCardNo" default="Số phiếu"></codx-label>
                        </span>
                        <span>: {{data.cardNo}}</span>
                    </p>
                    <p>
                        <span>
                            <codx-label [formModel]="formModel" name="lblCardCreatedOn" default="Ngày gửi"></codx-label>
                        </span>
                        <span>: {{data.cardCreated | fmDT}}</span>
                    </p>
                </div>
            </div>
        </div>
    </div>
</ng-template>
<ng-template #footer>
    <codx-tabs [entityName]="formModel.entityName" [formModel]="formModel" [objectID]="data.recID"
        [funcID]="formModel.funcID"></codx-tabs>
</ng-template>