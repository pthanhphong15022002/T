<div class="d-flex flex-column page-sv-setting h-100 overflow-auto">
    <div class="mt-4 rounded-1 bg-white py-5 px-8">
        <div class="pt-2 pb-7 border-bottom">
            <div #header class="py-3">
                <codx-label default="Thông tin chung"  [fiedName]="'lblSVGeneralInformation'" [formName]="'SVGeneralInformation'" class="fw-bold fs-3"></codx-label>
            </div>
            <div class="d-flex justify-content-between align-items-center py-2">
                <div class="d-flex flex-column">
                    <codx-label default="Thời hạn trả lời"  [fiedName]="'lblSVResponseTime'" [formName]="'SVResponseTime'" class="fs-6"></codx-label>
                    <codx-label default="Chương trình tự động đóng khảo sát khi đến ngày hết hạn trả lời"  [fiedName]="'lblSVSubResponseTime'" [formName]="'SVSubResponseTime'" class="fs-7 text-gray-500"></codx-label>
                </div>
                <div class="w-200px">
                    <codx-input type="dateTime" placeholder="Thời hạn trả lời" [field]="'expiredOn'"  [crrValue]="data?.expiredOn" (valueChange)="valueChangeData($event)"></codx-input>
                </div>
            </div>
            <div class="d-flex justify-content-between align-items-center py-2">
                <div class="d-flex flex-column">
                    <codx-label default="Phân loại khảo sát"  [fiedName]="'lblSVSurveyClassification'" [formName]="'SVSurveyClassification'" class="fs-6"></codx-label>
                    <codx-label default="Chọn phân loại cho khảo sát để hỗ trợ việc tìm kiếm cho khảo sát"  [fiedName]="'lblSVSubSurveyClassification'" [formName]="'SVSubSurveyClassification'" class="fs-7 text-gray-500"></codx-label>
                </div>
                <div class="w-200px">
                    <codx-input type="valuelist" refValue="SV005" field="groupType" placeholder="Phân loại khảo sát" [crrValue]="data?.groupType" (valueChange)="valueChangeData($event)"></codx-input>
                </div>
            </div>
            <div class="d-flex justify-content-between align-items-center py-2">
                <div class="d-flex flex-column">
                    <codx-label default="Tags"  [fiedName]="'lblSVTags'" [formName]="'SVTags'" class="fs-6"></codx-label>
                    <codx-label default="Thêm tags gợi ý tìm kiếm khảo sát"  [fiedName]="'lblSVSubSurveyClassification'" [formName]="'SVSubSurveyClassification'" class="fs-7 text-gray-500"></codx-label>
                </div>
                <div>
                    <codx-tag [entityName]="formModel?.entityName" [isEdit]="true" [value]="data?.tags" [field]="'tags'" (valueChange)="valueChangeData($event)">
                    </codx-tag>
                </div>
            </div>
            <div class="d-flex justify-content-between align-items-center py-2">
                <div class="d-flex flex-column">
                    <codx-label default="Chế độ mặc định"  [fiedName]="'lblSVPublic'" [formName]="'SVPublic'" class="fs-6"></codx-label>
                    <codx-label default="Thêm tags gợi ý tìm kiếm khảo sát"  [fiedName]="'lblSVSubPublic'" [formName]="'SVSubPublic'" class="fs-7 text-gray-500"></codx-label>
                </div>
                <div>
                    <codx-input type="switch" [field]="'isPublic'" [crrValue]="public"  (valueChange)="valueChangeData($event)"></codx-input>
                </div>
            </div>
        </div>
        <div class="pt-2 pb-7 border-bottom">
            <div #header class="py-3">
                <codx-label default="Giao diện"  [fiedName]="'lblSVDisplay'" [formName]="'SVDisplay'" class="fw-bold fs-3"></codx-label>
            </div>
            <div class="d-flex justify-content-between align-items-center py-2">
                <div class="d-flex flex-column">
                    <codx-label default="Màu"  [fiedName]="'lblSVColor'" [formName]="'SVColor'" class="fs-6"></codx-label>
                    <codx-label default="Màu theme chính của khảo sát"  [fiedName]="'lblSVSubColor'" [formName]="'SVSubColor'" class="fs-7 text-gray-500"></codx-label>
                </div>
                <div class="row div-color">
                    <div *ngFor="let item of listColor ; let i = index" [attr.data-index]="i" [id]="'id-sv-'+item?.default" class="col-1 div-color-circle rounded-circle w-25px h-25px cursor-pointer" [style.backgroundColor]="item?.default" (click)="beforeCircleTileRender($event,item?.default ,'color')">
                        <ng-container *ngIf="(i == 0 && selectFirst) || (item?.default == primaryColor && !selectFirst)">
                            <span class="sv-circle-selectioncolor"></span>
                        </ng-container>
                    </div>
                    <div class="col-1 div-color-circle rounded-circle w-25px h-25px cursor-pointer div-sv-colorPicker">
                        <input class="sv-colorPicker" type="color" value="#1DBBCE" id="colorPicker" (change)="changeColor($event)">
                        <label class="div-color-picker" for="colorPicker"></label>
                     </div>
                </div>
            </div>
            <div class="d-flex justify-content-between align-items-center py-2">
                <div class="d-flex flex-column">
                    <codx-label default="Màu nền"  [fiedName]="'lblSVBackgroundColor'" [formName]="'SVBackgroundColor'" class="fs-6"></codx-label>
                    <codx-label default="Màu nền của khảo sát"  [fiedName]="'lblSVSubBackgroundColor'" [formName]="'SVSubBackgroundColor'" class="fs-7 text-gray-500"></codx-label>
                </div>
                <div class="row div-color">
                    <div *ngFor="let item of listBackgroundColor ; let i = index" [attr.data-index]="i" [id]="'id-sv-'+item" class="col-1 div-color-circle rounded-circle w-25px h-25px cursor-pointer" [style.backgroundColor]="item" (click)="beforeCircleTileRender($event,item ,'bg')">
                        <ng-container *ngIf="((i == listBackgroundColor.length - 1) && selectFirst ) || (item == backgroudColor && !selectFirst)">
                            <span class="sv-circle-selectionbg"></span>
                        </ng-container>
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-between align-items-center py-2">
                <div class="d-flex flex-column">
                    <codx-label default="Hình ảnh"  [fiedName]="'lblSVBackgroundImage'" [formName]="'SVBackgroundImage'" class="fs-6"></codx-label>
                    <codx-label default="Hình ảnh hiện thị đầu trang khảo sát"  [fiedName]="'lblSVSubBackgroundImage'" [formName]="'SVSubBackgroundImage'" class="fs-7 text-gray-500"></codx-label>
                </div>
                <div class="d-flex align-items-center h-60px">
                    <div class="me-5">
                        <codx-attachment #attachment hideImageUpload="0" showMessage="0" hideBtnSave="1" hideFolder="1" hideUploadBtn="1" isSaveSelected="1" hideImageThumb="1"
                            hideDes="1"  isDeleteTemp="1" [allowMultiFile]="0" [idBrowse]="'add'" 
                            [idField]="'RecID'" [referType]="'avt'" [objectType]="formModel?.entityName" [objectId]="data?.recID" [heightScroll]="30" ngClass="'pt-5'" hideImageUpload="1"
                            (fileSave)="fileAdded($event)" [allowExtensions]="'.jpg,.png'"
                        >
                        </codx-attachment>
                    </div>
                    <div *ngIf="srcFile" class="sv-img-selected rounded-circle me-2">
                        <img  [src]="srcFile" class="rounded-circle w-100 h-100"/>
                        <div class="sv-img-close cursor-pointer">
                            <i class="icon-15 icon-close text-danger"></i>
                        </div>
                    </div>
                    <button class="btn btn-light"><codx-label [formName]="'SVAddFile'" fiedName="lblSVAddFile" default="Chọn hình" (click)="openFormUploadFile()"></codx-label></button>
                </div>
            </div>
        </div>
        <div class="pt-2 pb-7">
            <div #header class="py-3">
                <codx-label default="Mẫu chia sẻ"  [fiedName]="'lblSVShareForm'" [formName]="'SVShareForm'" class="fw-bold fs-3"></codx-label>
            </div>
            <div class="d-flex align-items-center py-2">
                <codx-label default="Tiêu đề"  [fiedName]="'lblSVSubject'" [formName]="'SVSubject'" class="fs-6 w-50px"></codx-label> :
                <codx-input type="text" class="ms-5" ngClass="w-sv-subject" [field]="'subject'" [crrValue]="subject" (valueChange)="valueChangeData($event)"></codx-input>
            </div>
            <div>
                <codx-input type="textarea"  ngClass="w-100" [height]="300" [field]="'messages'" [crrValue]="messages" (valueChange)="valueChangeData($event)"></codx-input>
            </div>
        </div>
    </div>
</div>
