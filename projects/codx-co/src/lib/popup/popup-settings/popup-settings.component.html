<codx-form [headerText]="'Danh sách sự kiện'" [body]="body" [footer]="footer" [dialog]="dialog">
  <ng-template #body>
    <ng-container *ngIf="loaded">
      <ng-container *ngIf="lstSettingCalendar?.length > 0;else dataEmpty">
        <table class="table bg-header">
          <thead>
            <tr>
              <th class="w-40">
                <div class="fw-bold">
                  <codx-label
                    fiedName="CO_EventName"
                    default="Tên sự kiện"
                    class="fw-bold">
                  </codx-label>
                </div>
              </th>
              <th class="w-20">
                <div class="text-center fw-bold">
                  <codx-label
                    fiedName="CO_TextColor"
                    default="Màu chữ"
                    class="fw-bold">
                  </codx-label>
                </div>
              </th>
              <th class="w-20">
                <div class="text-center fw-bold">
                  <codx-label
                    fiedName="CO_BackgroudColor"
                    default="Màu nền"
                    class="fw-bold">
                  </codx-label>
                </div>
              </th>
              <th class="w-20">
                <div class="text-center fw-bold">
                  <codx-label
                    fiedName="CO_ShowEvent"
                    default="Hiển thị"
                    class="fw-bold">
                  </codx-label>
                </div>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr class="w-100" *ngFor="let item of lstSettingCalendar">
              <td>
                <div
                  class="e-appointment-1 py-2 ps-3"
                  [ngStyle]="
                  {
                    'text-align': 'center',
                    'border-radius': '0px 5px 5px 0px',
                    'border-left-width': '5px',
                    'border-left-style': 'solid',
                    'border-left-color': item.dataValue.ShowColor,
                    'color': item.dataValue.TextColor,
                    'background-color': item.dataValue.ShowBackground
                  }"
                >
                  <div class="d-flex align-items-center">
                    <span class="fw-bold text-truncate">
                      <codx-vll
                        [showText]="true"
                        [showBgColor]="false"
                        name="WP006"
                        [value]="item.dataValue.Template.TransType"
                    /></span>
                  </div>
                </div>
              </td>
              <td style="vertical-align: middle;">
                <div class="d-flex justify-content-center align-items-center">
                  <codx-colorpicker
                    [field]="item.dataValue.Template.TransType"
                    mode="Picker"
                    [value]="item.dataValue.ShowColor"
                    (valueChange)="textColorChange($event)"
                  ></codx-colorpicker>
                </div>
              </td>
              <td>
                <div class="d-flex justify-content-center align-items-center">
                  <codx-colorpicker
                    [field]="item.dataValue.Template.TransType"
                    mode="Picker"
                    [value]="item.dataValue.ShowBackground"
                    (valueChange)="backgroundColorChange($event)"
                  ></codx-colorpicker>
                </div>
              </td>
              <td>
                <div class="d-flex justify-content-center">
                  <codx-input
                    type="checkbox"
                    [field]="item.dataValue.Template.TransType"
                    [checked]="item.dataValue.ShowEvent === '1'"
                    labelPosition="Before"
                    [disabled]="false"
                    class="test-check"
                  >
                  </codx-input>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </ng-container>
    </ng-container>
  </ng-template>
  <ng-template #footer>
    <div class="d-flex justify-content-end">
      <button [disabled]="isLoading" type="button" class="btn btn-outline-primary" (click)="clickSave()">
        <codx-label
          fiedName="CO_Save"
          default="Lưu thiết lập">
        </codx-label>
      </button>
    </div>
  </ng-template>
</codx-form>


<ng-template #dataEmpty>
  <div class="container h-100">
    <div class="list-empty card card-flush h-100">
      <div class="d-flex flex-column flex-center justify-content-center">
        <img
          src="../assets/themes/sys/default/img/DataEmpty.svg"
          class="w-200px"
        />
        <div class="mt-2 text-center">Chưa có dữ liệu phát sinh.</div>
      </div>
    </div>
  </div>
</ng-template>
